(function(){function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{0:function(t,e,n){t.exports=n("zUnb")},"0+is":function(t,e,n){"use strict";n.r(e),n.d(e,"PrinterModule",(function(){return E}));var r=n("tyNb"),i=n("HTFn"),o=n("fXoL"),a=n("D6lp"),s=n("ofXK"),u=n("J5iy");function c(t,e){if(1&t&&(o.Lb(0,"div"),o.Lb(1,"p"),o.ic(2),o.Lb(3,"span"),o.ic(4),o.Kb(),o.Kb(),o.Kb()),2&t){var n=o.Ub().$implicit,r=o.Ub().$implicit;o.yb(2),o.kc("",n.key.replace(r.key.id.toString(),"")," -> "),o.yb(2),o.jc(n.value)}}function l(t,e){if(1&t&&(o.Lb(0,"div"),o.hc(1,c,5,2,"div",4),o.Kb()),2&t){var n=e.$implicit,r=o.Ub().$implicit;o.yb(1),o.Xb("ngIf",n.key.endsWith(r.key.id))}}function h(t,e){if(1&t){var n=o.Mb();o.Lb(0,"div"),o.Lb(1,"div",5),o.Lb(2,"h5"),o.ic(3),o.Kb(),o.Lb(4,"div",6,7),o.hc(6,l,2,1,"div",3),o.Vb(7,"keyvalue"),o.Kb(),o.Jb(8,"p",8,9),o.Lb(10,"button",10,11),o.Sb("click",(function(){o.dc(n);var t=o.cc(5),e=o.cc(11);return o.Ub(2).showData(t,e)})),o.ic(12,"zobrazi\u0165 v\xfdpo\u010det"),o.Kb(),o.Lb(13,"button",12,13),o.Sb("click",(function(){o.dc(n);var t=e.$implicit,r=o.cc(9),i=o.cc(14);return o.Ub(2).calculate(t.key,t.value,r,i)})),o.ic(15,"zobrazi\u0165 v\xfdsledok"),o.Kb(),o.Lb(16,"button",14,15),o.Sb("click",(function(){o.dc(n);var t=o.cc(17),e=o.Ub().index;return o.Ub().removeItem(t,e)})),o.ic(18,"odstr\xe1ni\u0165"),o.Kb(),o.Kb(),o.Kb()}if(2&t){var r=e.$implicit;o.yb(3),o.jc(r.key.name),o.yb(3),o.Xb("ngForOf",o.Wb(7,2,r.value))}}function f(t,e){if(1&t&&(o.Lb(0,"div"),o.hc(1,h,19,4,"div",3),o.Vb(2,"keyvalue"),o.Kb()),2&t){var n=e.$implicit;o.yb(1),o.Xb("ngForOf",o.Wb(2,1,n))}}function d(t,e){1&t&&(o.Lb(0,"div"),o.Lb(1,"div",16),o.Lb(2,"h5"),o.ic(3,"Nie s\xfa dostupn\xe9 \u017eiadne polo\u017eky v zozname v\xfdpo\u010dtov..."),o.Kb(),o.Kb(),o.Kb())}var p,v=((p=function(){function t(e,n){_classCallCheck(this,t),this.calc=e,this.user=n,this.newItemEvent=new o.n,this.vypocet=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.buildVypocet()}},{key:"getUpdatedPatient",value:function(){var t=this;return new Promise((function(e,n){t.user.getItemSaved().allPatients.forEach((function(e){t.patient.name==e.name&&(t.patient=e)})),e()}))}},{key:"buildVypocet",value:function(){var t=this;this.vypocet=[],this.patientDatas=this.patient.saved,this.patientDatas.forEach((function(e){var n=new Map;n.set(e.item,JSON.parse(e.dataInputs)),t.vypocet.push(n)}))}},{key:"calculate",value:function(t,e,n,r){"zobrazi\u0165 v\xfdsledok"==r.innerHTML?(r.innerHTML="skry\u0165 v\xfdsledok",n.innerHTML=this.calc.evaluation(e,t)):(r.innerHTML="zobrazi\u0165 v\xfdsledok",n.innerHTML="")}},{key:"showData",value:function(t,e){"zobrazi\u0165 v\xfdpo\u010det"==e.innerHTML?(e.innerHTML="skry\u0165 v\xfdpo\u010det",t.hidden=!1):(e.innerHTML="zobrazi\u0165 v\xfdpo\u010det",t.hidden=!0)}},{key:"removeItem",value:function(t,e){var n=this;this.user.deleteDataToPatient(this.patient.name,this.patientDatas[e]).then((function(){n.getUpdatedPatient()})).catch((function(t){return Materialize.toast("Polo\u017eku sa nepodarilo odstr\xe1ni\u0165...",2e3)})).then((function(){n.buildVypocet(),t.disabled=!0,Materialize.toast("Polo\u017eka bola odstr\xe1nen\xe1 zo zoznamu",2e3)}))}},{key:"close",value:function(){this.newItemEvent.emit(!1)}}]),t}()).\u0275fac=function(t){return new(t||p)(o.Ib(u.a),o.Ib(a.a))},p.\u0275cmp=o.Cb({type:p,selectors:[["app-patient-details"]],inputs:{patient:"patient"},outputs:{newItemEvent:"newItemEvent"},decls:6,vars:2,consts:[[1,"row"],[1,"btn","red","closeButton",3,"click"],[1,"col","s10","offset-s1"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card-panel","white"],["hidden","true"],["boxData",""],[1,"boldText"],["boxResult",""],[1,"btn","resultBtn",3,"click"],["boxBtnShow",""],[1,"btn",3,"click"],["boxBtnRes",""],[1,"btn","red","closeBtn",3,"click"],["btnRemove",""],[1,"card-panel","white","center"]],template:function(t,e){1&t&&(o.Lb(0,"div",0),o.Lb(1,"button",1),o.Sb("click",(function(){return e.close()})),o.ic(2,"X"),o.Kb(),o.Lb(3,"div",2),o.hc(4,f,3,3,"div",3),o.Kb(),o.hc(5,d,4,0,"div",4),o.Kb()),2&t&&(o.yb(4),o.Xb("ngForOf",e.vypocet),o.yb(1),o.Xb("ngIf",0==e.vypocet.length))},directives:[s.k,s.l],pipes:[s.f],styles:["span[_ngcontent-%COMP%]{font-weight:700;color:#00f}.row[_ngcontent-%COMP%]{margin-bottom:0!important}.boldText[_ngcontent-%COMP%]{font-weight:700}.closeBtn[_ngcontent-%COMP%]{float:right}.resultBtn[_ngcontent-%COMP%]{margin-right:1em!important}.closeButton[_ngcontent-%COMP%]{float:right;margin-right:1em}@media only screen and (max-width:800px){.card-panel[_ngcontent-%COMP%]{float:left}.btn[_ngcontent-%COMP%]{width:100%;margin-bottom:.5em}.closeButton[_ngcontent-%COMP%]{width:auto}}"]}),p);function y(t,e){if(1&t){var n=o.Mb();o.Lb(0,"tr",10),o.Lb(1,"td"),o.ic(2),o.Kb(),o.Lb(3,"td"),o.ic(4),o.Kb(),o.Lb(5,"td"),o.Lb(6,"button",11),o.Sb("click",(function(){o.dc(n);var t=e.$implicit;return o.Ub(2).openPatient(t)})),o.ic(7,"otvori\u0165"),o.Kb(),o.Kb(),o.Lb(8,"td"),o.Lb(9,"button",12),o.Sb("click",(function(){o.dc(n);var t=e.$implicit;return o.Ub(2).deletePatient(t)})),o.ic(10,"odstr\xe1ni\u0165"),o.Kb(),o.Kb(),o.Kb()}if(2&t){var r=e.$implicit;o.yb(2),o.jc(r.name),o.yb(2),o.jc(r.saved.length)}}function g(t,e){if(1&t){var n=o.Mb();o.Lb(0,"div",2),o.Lb(1,"div",3),o.Lb(2,"h4"),o.ic(3,"Ulo\u017een\xe9 v\xfdpo\u010dty"),o.Kb(),o.Lb(4,"h5"),o.ic(5,"Vytvori\u0165 nov\xe9ho pacienta"),o.Kb(),o.Kb(),o.Lb(6,"div",4),o.Lb(7,"label"),o.ic(8,"N\xe1zov pacienta [max. 20 znakov]"),o.Kb(),o.Lb(9,"input",5,6),o.Sb("keyup",(function(){o.dc(n);var t=o.cc(10);return o.Ub().validateLength(t)})),o.Kb(),o.Lb(11,"button",7),o.Sb("click",(function(){o.dc(n);var t=o.cc(10);return o.Ub().createPatient(t)})),o.ic(12,"Vytvori\u0165 pacienta"),o.Kb(),o.Kb(),o.Lb(13,"div",3),o.Lb(14,"h5"),o.ic(15,"Pacienti"),o.Kb(),o.Kb(),o.Lb(16,"div",8),o.Lb(17,"table"),o.Lb(18,"thead"),o.Lb(19,"tr"),o.Lb(20,"th"),o.ic(21,"N\xe1zov pacienta"),o.Kb(),o.Lb(22,"th"),o.ic(23,"Po\u010det ulo\u017een\xfdch v\xfdpo\u010dtov"),o.Kb(),o.Jb(24,"th"),o.Kb(),o.Kb(),o.Lb(25,"tbody"),o.hc(26,y,11,2,"tr",9),o.Kb(),o.Kb(),o.Kb(),o.Kb()}if(2&t){var r=o.Ub();o.yb(26),o.Xb("ngForOf",r.allItemsDB)}}function b(t,e){if(1&t){var n=o.Mb();o.Lb(0,"app-patient-details",13),o.Sb("newItemEvent",(function(t){return o.dc(n),o.Ub().close(t)})),o.Kb()}if(2&t){var r=o.Ub();o.Xb("patient",r.selectedPatient)}}var _,m,w,C=[{path:"",component:(_=function(){function t(e){_classCallCheck(this,t),this.user=e,this.allItemsDB=[],this.patientZoom=!1,this.selectedPatient=null}return _createClass(t,[{key:"ngOnInit",value:function(){this.refresh()}},{key:"refresh",value:function(){var t=this.user.getItemSaved();null!=t&&(this.allItemsDB=t.allPatients)}},{key:"createPatient",value:function(t){var e=this;this.user.createPatient({name:t.value,saved:[]}).then((function(){Materialize.toast("Pacient bol vytvoren\xfd",2e3),t.value="",e.refresh()})).catch((function(){return Materialize.toast("Presiahli ste maxim\xe1lny po\u010det ulo\u017een\xed pacientov [6]",2e3)}))}},{key:"openPatient",value:function(t){this.patientZoom=!0,this.selectedPatient=t}},{key:"validateLength",value:function(t){t.value.length>20&&(t.value=t.value.substring(0,20),Materialize.toast("Presiahli ste maxim\xe1lny po\u010det znakov v n\xe1zve pacienta! [20]",2e3))}},{key:"deletePatient",value:function(t){var e=this;this.user.deletePatient(t).catch((function(t){return Materialize.toast("Pacienta sa nepodarilo odstr\xe1ni\u0165",2e3)})).then((function(){e.refresh(),Materialize.toast("Pacient bol odstr\xe1nen\xfd",2e3)}))}},{key:"close",value:function(t){this.patientZoom=t}}]),t}(),_.\u0275fac=function(t){return new(t||_)(o.Ib(a.a))},_.\u0275cmp=o.Cb({type:_,selectors:[["app-printer"]],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[3,"patient","newItemEvent",4,"ngIf"],[1,"row"],[1,"col","s10","offset-s1"],[1,"col","s8","offset-s2","createPatientBox"],["type","text","placeholder","Pacient \u010d.1",3,"keyup"],["boxPatient",""],[1,"btn",3,"click"],[1,"col","s8","offset-s2","patientsBox"],["class","patientCSS",4,"ngFor","ngForOf"],[1,"patientCSS"],[1,"btn","green",3,"click"],[1,"btn","red",3,"click"],[3,"patient","newItemEvent"]],template:function(t,e){1&t&&(o.hc(0,g,27,1,"div",0),o.hc(1,b,1,1,"app-patient-details",1)),2&t&&(o.Xb("ngIf",!e.patientZoom),o.yb(1),o.Xb("ngIf",e.patientZoom))},directives:[s.l,s.k,v],styles:[".patientCSS[_ngcontent-%COMP%]:hover{background:#defbff!important}.row[_ngcontent-%COMP%]{margin-bottom:0!important}h4[_ngcontent-%COMP%]{text-transform:uppercase}h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;margin-top:0!important;padding-top:.5em}h5[_ngcontent-%COMP%]{margin-left:2em}.createPatientBox[_ngcontent-%COMP%]{margin-bottom:3em}.patientsBox[_ngcontent-%COMP%]{margin-bottom:2em;overflow:scroll}"]}),_),canActivate:[i.a],data:{authGuardPipe:function(){return Object(i.b)(["login"])}}}],k=((w=function t(){_classCallCheck(this,t)}).\u0275mod=o.Gb({type:w}),w.\u0275inj=o.Fb({factory:function(t){return new(t||w)},imports:[[r.e.forChild(C)],r.e]}),w),E=((m=function t(){_classCallCheck(this,t)}).\u0275mod=o.Gb({type:m}),m.\u0275inj=o.Fb({factory:function(t){return new(t||m)},imports:[[s.c,k]]}),m)},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},"3Pt+":function(t,e,n){"use strict";n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return Rt})),n.d(e,"c",(function(){return Et})),n.d(e,"d",(function(){return xt})),n.d(e,"e",(function(){return Lt})),n.d(e,"f",(function(){return jt})),n.d(e,"g",(function(){return T})),n.d(e,"h",(function(){return P})),n.d(e,"i",(function(){return Ft})),n.d(e,"j",(function(){return Nt})),n.d(e,"k",(function(){return M})),n.d(e,"l",(function(){return St}));var r=n("fXoL"),i=n("ofXK"),o=n("HDdC"),a=n("DH7j"),s=n("lJxs"),u=n("XoHu"),c=n("Cfvw");function l(t,e){return new o.a((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object(c.a)(t[s]),l=!1;n.add(u.subscribe({next:function(t){l||(l=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&l||(a===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var h,f,d,p,v,y,g=new r.q("NgValueAccessor"),b={provide:g,useExisting:Object(r.T)((function(){return _})),multi:!0},_=((h=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||h)(r.Ib(r.D),r.Ib(r.l))},h.\u0275dir=r.Db({type:h,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([b])]}),h),m={provide:g,useExisting:Object(r.T)((function(){return C})),multi:!0},w=new r.q("CompositionEventMode"),C=((p=function(){function t(e,n,r){var o;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(o=Object(i.s)()?Object(i.s)().getUserAgent():"",!/android (\d+)/.test(o.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||p)(r.Ib(r.D),r.Ib(r.l),r.Ib(w,8))},p.\u0275dir=r.Db({type:p,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.xb([m])]}),p),k=((d=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||d)},d.\u0275dir=r.Db({type:d}),d),E=((f=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(k)).\u0275fac=function(t){return I(t||f)},f.\u0275dir=r.Db({type:f,features:[r.vb]}),f),I=r.Nb(E),O=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _createClass(n,[{key:"validator",get:function(){}},{key:"asyncValidator",get:function(){}}]),n}(k),S=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),T=((y=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(S)).\u0275fac=function(t){return new(t||y)(r.Ib(O,2))},y.\u0275dir=r.Db({type:y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),y),P=((v=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(S)).\u0275fac=function(t){return new(t||v)(r.Ib(E,2))},v.\u0275dir=r.Db({type:v,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),v);function L(t){return null==t||0===t.length}function A(t){return null!=t&&"number"==typeof t.length}var x=new r.q("NgValidators"),D=new r.q("NgAsyncValidators"),N=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,M=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(L(e.value)||L(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(L(e.value)||L(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return L(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return L(t.value)||N.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){return L(e.value)||!A(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"maxLength",value:function(t){return function(e){return A(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(L(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(R);return 0==e.length?null:function(t){return F(U(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(R);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(Object(a.a)(r))return l(r,null);if(Object(u.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return l(i.map((function(t){return r[t]})),i)}}if("function"==typeof e[e.length-1]){var o=e.pop();return l(e=1===e.length&&Object(a.a)(e[0])?e[0]:e,null).pipe(Object(s.a)((function(t){return o.apply(void 0,_toConsumableArray(t))})))}return l(e,null)}(U(t,e).map(j)).pipe(Object(s.a)(F))}}}]),t}();function R(t){return null!=t}function j(t){var e=Object(r.qb)(t)?Object(c.a)(t):t;return Object(r.pb)(e),e}function F(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function U(t,e){return e.map((function(e){return e(t)}))}function V(t){return t.map((function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}}))}var K,z,B,q,H,W,G={provide:g,useExisting:Object(r.T)((function(){return Q})),multi:!0},Q=((K=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||K)(r.Ib(r.D),r.Ib(r.l))},K.\u0275dir=r.Db({type:K,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([G])]}),K),X={provide:g,useExisting:Object(r.T)((function(){return Y})),multi:!0},J=((B=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||B)},B.\u0275prov=r.Eb({token:B,factory:B.\u0275fac}),B),Y=((z=function(){function t(e,n,r,i){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(O),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),t}()).\u0275fac=function(t){return new(t||z)(r.Ib(r.D),r.Ib(r.l),r.Ib(J),r.Ib(r.r))},z.\u0275dir=r.Db({type:z,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([X])]}),z),Z={provide:g,useExisting:Object(r.T)((function(){return $})),multi:!0},$=((q=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||q)(r.Ib(r.D),r.Ib(r.l))},q.\u0275dir=r.Db({type:q,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([Z])]}),q),tt={provide:g,useExisting:Object(r.T)((function(){return et})),multi:!0},et=((H=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||H)(r.Ib(r.D),r.Ib(r.l))},H.\u0275dir=r.Db({type:H,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([tt])]}),H),nt={provide:g,useExisting:Object(r.T)((function(){return rt})),multi:!0},rt=((W=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||W)(r.Ib(r.D),r.Ib(r.l))},W.\u0275dir=r.Db({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([nt])]}),W);function it(t,e){t.validator=M.compose([t.validator,e.validator]),t.asyncValidator=M.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ot(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ot(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function ot(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function at(t,e){t.validator=M.compose([t.validator,e.validator]),t.asyncValidator=M.composeAsync([t.asyncValidator,e.asyncValidator])}function st(t){return null!=t?M.compose(V(t)):null}function ut(t){return null!=t?M.composeAsync(V(t)):null}var ct=[_,$,Q,et,rt,Y];function lt(t){return(pt(t)?t.validators:t)||null}function ht(t){return Array.isArray(t)?st(t):t||null}function ft(t,e){return(pt(e)?e.asyncValidators:t)||null}function dt(t){return Array.isArray(t)?ut(t):t||null}function pt(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var vt,yt,gt,bt,_t,mt,wt,Ct,kt=function(){function t(e,n){_classCallCheck(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=ht(this._rawValidators),this._composedAsyncValidatorFn=dt(this._rawAsyncValidators)}return _createClass(t,[{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=ht(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=dt(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=j(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof It?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ot&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new r.n,this.statusChanges=new r.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){pt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),Et=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,lt(i),ft(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(kt),It=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,lt(r),ft(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof Et?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(kt),Ot=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,lt(r),ft(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof Et?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(kt),St=((vt=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||vt)},vt.\u0275dir=r.Db({type:vt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),vt),Tt=new r.q("NgModelWithFormControlWarning"),Pt={provide:E,useExisting:Object(r.T)((function(){return Lt}))},Lt=((yt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this))._validators=t,o._asyncValidators=i,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.n,o}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return it(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e,n,r;e=this.directives,n=t,(r=e.indexOf(n))>-1&&e.splice(r,1)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);at(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);at(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})),this.ngSubmit.emit(t),!1;var e}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){var n=function(){};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&it(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=st(this._validators);this.form.validator=M.compose([this.form.validator,t]);var e=ut(this._asyncValidators);this.form.asyncValidator=M.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(E)).\u0275fac=function(t){return new(t||yt)(r.Ib(x,10),r.Ib(D,10))},yt.\u0275dir=r.Db({type:yt,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([Pt]),r.vb,r.wb]}),yt),At={provide:O,useExisting:Object(r.T)((function(){return xt}))},xt=((gt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a,s){var u;return _classCallCheck(this,n),(u=e.call(this))._ngModelWarningConfig=s,u._added=!1,u.update=new r.n,u._ngModelWarningSent=!1,u._parent=t,u._rawValidators=i||[],u._rawAsyncValidators=o||[],u.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);var n=void 0,r=void 0,i=void 0;return e.forEach((function(t){var e;t.constructor===C?n=t:(e=t,ct.some((function(t){return e.constructor===t}))?r=t:i=t)})),i||r||n||null}(0,a),u}return _createClass(n,[{key:"ngOnChanges",value:function(t){var e,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(e=n,i=this._ngModelWarningConfig,Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(e._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(t){}},{key:"path",get:function(){return function(t,e){return[].concat(_toConsumableArray(e.path),[t])}(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return st(this._rawValidators)}},{key:"asyncValidator",get:function(){return ut(this._rawAsyncValidators)}}]),n}(O)).\u0275fac=function(t){return new(t||gt)(r.Ib(E,13),r.Ib(x,10),r.Ib(D,10),r.Ib(g,10),r.Ib(Tt,8))},gt.\u0275dir=r.Db({type:gt,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([At]),r.vb,r.wb]}),gt._ngModelWarningSentOnce=!1,gt),Dt={provide:x,useExisting:Object(r.T)((function(){return Nt})),multi:!0},Nt=((Ct=function(){function t(){_classCallCheck(this,t),this._required=!1}return _createClass(t,[{key:"validate",value:function(t){return this.required?M.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}}]),t}()).\u0275fac=function(t){return new(t||Ct)},Ct.\u0275dir=r.Db({type:Ct,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("required",e.required?"":null)},inputs:{required:"required"},features:[r.xb([Dt])]}),Ct),Mt=((wt=function t(){_classCallCheck(this,t)}).\u0275mod=r.Gb({type:wt}),wt.\u0275inj=r.Fb({factory:function(t){return new(t||wt)}}),wt),Rt=((mt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new It(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new Et(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new Ot(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof Et||t instanceof It||t instanceof Ot?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||mt)},mt.\u0275prov=r.Eb({token:mt,factory:mt.\u0275fac}),mt),jt=((_t=function t(){_classCallCheck(this,t)}).\u0275mod=r.Gb({type:_t}),_t.\u0275inj=r.Fb({factory:function(t){return new(t||_t)},providers:[J],imports:[Mt]}),_t),Ft=((bt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:Tt,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=r.Gb({type:bt}),bt.\u0275inj=r.Fb({factory:function(t){return new(t||bt)},providers:[Rt,J],imports:[Mt]}),bt)},"4I5i":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(o){return o.pipe(a((function(n,o){return Object(i.a)(t(n,o)).pipe(Object(r.a)((function(t,r){return e(n,t,o,r)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new s(t,n))})}var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}]),t}(),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new o.a(this),n=this.destination;n.add(e);var r=Object(o.c)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.b)},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mAIw"),i=n("wj3C"),o=n("q/0M"),a=n("zVF4"),s=n("x7I3"),u=n("S+S0"),c=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(i),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error),f=new o.Logger("@firebase/firestore");function d(){return f.logLevel}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.DEBUG){var i=e.map(g);f.debug.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function v(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.ERROR){var i=e.map(g);f.error.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.WARN){var i=e.map(g);f.warn.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function g(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function b(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+t;throw v(e),new Error(e)}function _(t,e){t||b()}function m(t,e){return t}function w(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function C(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var E=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&b(),void 0===n?n=t.length-e:n>t.length-e&&b(),this.segments=t,this.offset=e,this.t=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return this.o(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.g=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new h(l.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.P=function(){return new e([])},e}(E),O=/^[_a-zA-Z][_a-zA-Z0-9]*$/,S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.V=function(t){return O.test(t)},e.prototype.R=function(){return this.A().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new h(l.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new h(l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new h(l.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.P=function(){return new e([])},e}(E),T=function(){function t(t){this.path=t}return t.D=function(e){return new t(I.g(e))},t.C=function(e){return new t(I.g(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===I.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return I.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new I(e.slice()))},t}();function P(t,e){if(0!==e.length)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+G(e.length,"argument")+".")}function L(t,e,n){if(e.length!==n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires "+G(n,"argument")+", but was called with "+G(e.length,"argument")+".")}function A(t,e,n){if(e.length<n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires at least "+G(n,"argument")+", but was called with "+G(e.length,"argument")+".")}function x(t,e,n,r){if(e.length<n||e.length>r)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+G(e.length,"argument")+".")}function D(t,e,n,r){U(t,e,W(n)+" argument",r)}function N(t,e,n,r){void 0!==r&&D(t,e,n,r)}function M(t,e,n,r){U(t,e,n+" option",r)}function R(t,e,n,r){void 0!==r&&M(t,e,n,r)}function j(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(K(u))}var c=K(r);throw new h(l.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function F(t,e,n,r){if(!e.some((function(t){return t===r})))throw new h(l.INVALID_ARGUMENT,"Invalid value "+K(r)+" provided to function "+t+"() for its "+W(n)+" argument. Acceptable values: "+e.join(", "));return r}function U(t,e,n,r){if(!("object"===e?V(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=K(r);throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function V(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function K(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":b()}function z(t,e,n){if(void 0===n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+W(e)+" argument, but it was undefined.")}function B(t,e,n){C(e,(function(e,r){if(n.indexOf(e)<0)throw new h(l.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function q(t,e,n,r){var i=K(r);return new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+W(n)+" argument to be a "+e+", but it was: "+i)}function H(t,e,n){if(n<=0)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+W(e)+" argument to be a positive number, but it was: "+n+".")}function W(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function G(t,e){return t+" "+e+(1===t?"":"s")}function Q(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var X=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Q(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function J(t,e){return t<e?-1:t>e?1:0}function Y(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Z(t){return t+"\0"}var $=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.M)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return J(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();$.B=new $("");var tt=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t($.fromBase64String(e))}catch(e){throw new h(l.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t($.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();function et(){if("undefined"==typeof Uint8Array)throw new h(l.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function nt(){if("undefined"==typeof atob)throw new h(l.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.fromBase64String=function(t){L("Blob.fromBase64String",arguments,1),D("Blob.fromBase64String","string",1,t),nt();try{return new e($.fromBase64String(t))}catch(t){throw new h(l.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(L("Blob.fromUint8Array",arguments,1),et(),!(t instanceof Uint8Array))throw q("Blob.fromUint8Array","Uint8Array",1,t);return new e($.fromUint8Array(t))},e.prototype.toBase64=function(){return L("Blob.toBase64",arguments,0),nt(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return L("Blob.toUint8Array",arguments,0),et(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(tt),it=function(t,e,n,r,i,o){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.W=o},ot=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return J(this.projectId,t.projectId)||J(this.database,t.database)},t}(),at=function(){function t(t,e){this.K=t,this.G=e,this.H={}}return t.prototype.get=function(t){var e=this.K(t),n=this.H[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.G(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.K(t),r=this.H[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.G(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.H[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.K(t),n=this.H[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.G(n[r][0],t))return 1===n.length?delete this.H[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){C(this.H,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.m=function(){return k(this.H)},t}(),st=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new h(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new h(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new h(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new h(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.Y=function(t){return this.seconds===t.seconds?J(this.nanoseconds,t.nanoseconds):J(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ut=function(){function t(t){this.timestamp=t}return t.J=function(e){return new t(e)},t.min=function(){return new t(new st(0,0))},t.prototype.L=function(t){return this.timestamp.Y(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Z=function(){return this.timestamp},t}();function ct(t){return null==t}function lt(t){return 0===t&&1/t==-1/0}function ht(t){return"number"==typeof t&&Number.isInteger(t)&&!lt(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ft=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.tt=null};function dt(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ft(t,e,n,r,i,o,a)}function pt(t){var e=m(t);if(null===e.tt){var n=e.path.R();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.R()+t.op.toString()+ie(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.R()+e.dir;var e})).join(","),ct(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ar(e.startAt)),e.endAt&&(n+="|ub:",n+=ar(e.endAt)),e.tt=n}return e.tt}function vt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!hr(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!te(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ur(t.startAt,e.startAt)&&ur(t.endAt,e.endAt)}function yt(t){return T.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}var gt,bt,_t=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=ut.min()),void 0===o&&(o=ut.min()),void 0===a&&(a=$.B),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),mt=function(t){this.count=t};function wt(t){switch(t){case l.OK:return b();case l.CANCELLED:case l.UNKNOWN:case l.DEADLINE_EXCEEDED:case l.RESOURCE_EXHAUSTED:case l.INTERNAL:case l.UNAVAILABLE:case l.UNAUTHENTICATED:return!1;case l.INVALID_ARGUMENT:case l.NOT_FOUND:case l.ALREADY_EXISTS:case l.PERMISSION_DENIED:case l.FAILED_PRECONDITION:case l.ABORTED:case l.OUT_OF_RANGE:case l.UNIMPLEMENTED:case l.DATA_LOSS:return!0;default:return b()}}function Ct(t){if(void 0===t)return v("GRPC error has no .code"),l.UNKNOWN;switch(t){case gt.OK:return l.OK;case gt.CANCELLED:return l.CANCELLED;case gt.UNKNOWN:return l.UNKNOWN;case gt.DEADLINE_EXCEEDED:return l.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return l.RESOURCE_EXHAUSTED;case gt.INTERNAL:return l.INTERNAL;case gt.UNAVAILABLE:return l.UNAVAILABLE;case gt.UNAUTHENTICATED:return l.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return l.INVALID_ARGUMENT;case gt.NOT_FOUND:return l.NOT_FOUND;case gt.ALREADY_EXISTS:return l.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return l.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return l.FAILED_PRECONDITION;case gt.ABORTED:return l.ABORTED;case gt.OUT_OF_RANGE:return l.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return l.UNIMPLEMENTED;case gt.DATA_LOSS:return l.DATA_LOSS;default:return b()}}(bt=gt||(gt={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";var kt=function(){function t(t,e){this.i=t,this.root=e||It.EMPTY}return t.prototype.ot=function(e,n){return new t(this.i,this.root.ot(e,n,this.i).copy(null,null,It.at,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,It.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new Et(this.root,null,this.i,!1)},t.prototype.ft=function(t){return new Et(this.root,t,this.i,!1)},t.prototype.dt=function(){return new Et(this.root,null,this.i,!0)},t.prototype.wt=function(t){return new Et(this.root,t,this.i,!0)},t}(),Et=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.It=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.m();)this.Et.push(t),t=t.right;else for(t=t.right;!t.m();)this.Et.push(t),t=t.left;return e},t.prototype.At=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),It=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.m=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).gt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).gt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.m()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.m()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(e,i.key)){if(i.right.m())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.gt()},t.prototype.yt=function(){return this.color},t.prototype.gt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw b();if(this.right.yt())throw b();var t=this.left.Nt();if(t!==this.right.Nt())throw b();return t+(this.yt()?0:1)},t}();It.EMPTY=null,It.RED=!0,It.at=!1,It.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw b()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new It(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var Ot=function(){function t(t){this.i=t,this.data=new kt(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.Ft=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.i(r.key,t[1])>=0)return;e(r.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.$t=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new St(this.data._t())},t.prototype.ft=function(t){return new St(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.i(i,o))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),St=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),Tt=new kt(T.i);function Pt(){return Tt}function Lt(){return Pt()}var At=new kt(T.i);function xt(){return At}var Dt=new kt(T.i),Nt=new Ot(T.i);function Mt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Nt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Rt=new Ot(J);function jt(){return Rt}var Ft=function(){function t(t){this.i=t?function(e,n){return t(e,n)||T.i(e.key,n.key)}:function(t,e){return T.i(t.key,e.key)},this.Ot=xt(),this.Lt=new kt(this.i)}return t.Bt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Ot.get(t)},t.prototype.get=function(t){return this.Ot.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.m=function(){return this.Lt.m()},t.prototype.indexOf=function(t){var e=this.Ot.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ot.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ot.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Ot=e,r.Lt=n,r},t}(),Ut=function(){function t(){this.qt=new kt(T.i)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):b():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht((function(e,n){t.push(n)})),t},t}(),Vt=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Qt=n,this.docChanges=r,this.Wt=i,this.fromCache=o,this.jt=a,this.Kt=s}return t.Gt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Ft.Bt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.jt===t.jt&&this.Wt.isEqual(t.Wt)&&Hn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Qt.isEqual(t.Qt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Kt=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,zt.Zt(e,n)),new t(ut.min(),r,jt(),Pt(),Mt())},t}(),zt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t($.B,n,Mt(),Mt(),Mt())},t}(),Bt=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},qt=function(t,e){this.targetId=t,this.oe=e},Ht=function(t,e,n,r){void 0===n&&(n=$.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Wt=function(){function t(){this.ae=0,this.ce=Xt(),this.ue=$.B,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.O()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=Mt(),e=Mt(),n=Mt();return this.ce.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:b()}})),new zt(this.ue,this.he,t,e,n)},t.prototype.me=function(){this.le=!1,this.ce=Xt()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ee=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.Ie=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),Gt=function(){function t(t){this.ge=t,this.Pe=new Map,this.ye=Pt(),this.Ve=Qt(),this.pe=new Ot(J)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof Pn?this.ve(r,t.re):t.re instanceof Ln&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Se(o[i],t.key,t.re)},t.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.Fe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.me(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.Fe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.Fe(n)&&(e.xe(n),r.de(t.resumeToken));break;default:b()}}))},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Fe(r)&&e(r)}))},t.prototype.$e=function(t){var e=t.targetId,n=t.oe.count,r=this.ke(e);if(r){var i=r.target;if(yt(i))if(0===n){var o=new T(i.path);this.Se(e,o,new Ln(o,ut.min()))}else _(1===n);else this.Me(e)!==n&&(this.xe(e),this.pe=this.pe.add(e))}},t.prototype.Oe=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.ke(i);if(o){if(r.te&&yt(o.target)){var a=new T(o.target.path);null!==e.ye.get(a)||e.Le(i,a)||e.Se(i,a,new Ln(a,t))}r.fe&&(n.set(i,r.we()),r.me())}}));var r=Mt();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){var n=e.ke(t);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Kt(t,n,this.pe,this.ye,r);return this.ye=Pt(),this.Ve=Qt(),this.pe=new Ot(J),i},t.prototype.ve=function(t,e){if(this.Fe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.Fe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.ge.qe(t).size+e.ee.size-e.se.size},t.prototype.Ie=function(t){this.Ne(t).Ie()},t.prototype.Ne=function(t){var e=this.Pe.get(t);return e||(e=new Wt,this.Pe.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new Ot(J),this.Ve=this.Ve.ot(t,e)),e},t.prototype.Fe=function(t){var e=null!==this.ke(t);return e||p("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.Pe.get(t);return e&&e._e?null:this.ge.Ue(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new Wt),this.ge.qe(t).forEach((function(n){e.Se(t,n,null)}))},t.prototype.Le=function(t,e){return this.ge.qe(t).has(e)},t}();function Qt(){return new kt(T.i)}function Xt(){return new kt(T.i)}function Jt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yt(t){var e=oe(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}var Zt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $t(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jt(t)?4:10:b()}function te(t,e){var n=$t(t);if(n!==$t(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yt(t).isEqual(Yt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=oe(t.timestampValue),r=oe(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return se(t.bytesValue).isEqual(se(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ae(t.geoPointValue.latitude)===ae(e.geoPointValue.latitude)&&ae(t.geoPointValue.longitude)===ae(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ae(t.integerValue)===ae(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ae(t.doubleValue),r=ae(e.doubleValue);return n===r?lt(n)===lt(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Y(t.arrayValue.values||[],e.arrayValue.values||[],te);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(w(n)!==w(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!te(n[i],r[i])))return!1;return!0}(t,e);default:return b()}}function ee(t,e){return void 0!==(t.values||[]).find((function(t){return te(t,e)}))}function ne(t,e){var n=$t(t),r=$t(e);if(n!==r)return J(n,r);switch(n){case 0:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ae(t.integerValue||t.doubleValue),r=ae(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return re(t.timestampValue,e.timestampValue);case 4:return re(Yt(t),Yt(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(t,e){var n=se(t),r=se(e);return n.L(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=J(n[i],r[i]);if(0!==o)return o}return J(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=J(ae(t.latitude),ae(e.latitude));return 0!==n?n:J(ae(t.longitude),ae(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ne(n[i],r[i]);if(o)return o}return J(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=J(r[a],o[a]);if(0!==s)return s;var u=ne(n[r[a]],i[o[a]]);if(0!==u)return u}return J(r.length,o.length)}(t.mapValue,e.mapValue);default:throw b()}}function re(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return J(t,e);var n=oe(t),r=oe(e),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function ie(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=oe(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?se(e.bytesValue).toBase64():"referenceValue"in e?T.C(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):b();var n}(t)}function oe(t){if(_(!!t),"string"==typeof t){var e=0,n=Zt.exec(t);if(_(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ae(t.seconds),nanos:ae(t.nanos)}}function ae(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function se(t){return"string"==typeof t?$.fromBase64String(t):$.fromUint8Array(t)}function ue(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function ce(t){return!!t&&"integerValue"in t}function le(t){return!!t&&"arrayValue"in t}function he(t){return!!t&&"nullValue"in t}function fe(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function de(t){return!!t&&"mapValue"in t}var pe={asc:"ASCENDING",desc:"DESCENDING"},ve={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ye=function(t,e){this.U=t,this.Qe=e};function ge(t){return{integerValue:""+t}}function be(t,e){if(t.Qe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lt(e)?"-0":e}}function _e(t,e){return ht(e)?ge(e):be(t,e)}function me(t,e){return t.Qe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function we(t,e){return t.Qe?e.toBase64():e.toUint8Array()}function Ce(t,e){return me(t,e.Z())}function ke(t){return _(!!t),ut.J(function(t){var e=oe(t);return new st(e.seconds,e.nanos)}(t))}function Ee(t,e){return function(t){return new I(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).R()}function Ie(t){var e=I.g(t);return _(We(e)),e}function Oe(t,e){return Ee(t.U,e.path)}function Se(t,e){var n=Ie(e);return _(n.get(1)===t.U.projectId),_(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new T(Ae(n))}function Te(t,e){return Ee(t.U,e)}function Pe(t){var e=Ie(t);return 4===e.length?I.P():Ae(e)}function Le(t){return new I(["projects",t.U.projectId,"databases",t.U.database]).R()}function Ae(t){return _(t.length>4&&"documents"===t.get(4)),t.u(5)}function xe(t,e,n){return{name:Oe(t,e),fields:n.proto.mapValue.fields}}function De(t,e){var n;if(e instanceof gn)n={update:xe(t,e.key,e.value)};else if(e instanceof kn)n={delete:Oe(t,e.key)};else if(e instanceof bn)n={update:xe(t,e.key,e.data),updateMask:He(e.We)};else if(e instanceof mn)n={transform:{document:Oe(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ye)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ze)return{fieldPath:e.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof tn)return{fieldPath:e.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof nn)return{fieldPath:e.field.R(),increment:n.je};throw b()}(0,t)}))}};else{if(!(e instanceof En))return b();n={verify:Oe(t,e.key)}}return e.Ge.Ke||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ce(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:b()}(t,e.Ge)),n}function Ne(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?cn.updateTime(ke(t.updateTime)):void 0!==t.exists?cn.exists(t.exists):cn.ze()}(e.currentDocument):cn.ze();if(e.update){var r=Se(t,e.update.name),i=new In({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new an((t.fieldPaths||[]).map((function(t){return S.S(t)})))}(e.updateMask);return new bn(r,i,o,n)}return new gn(r,i,n)}if(e.delete){var a=Se(t,e.delete);return new kn(a,n)}if(e.transform){var s=Se(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(_("REQUEST_TIME"===e.setToServerValue),n=new Ye):"appendMissingElements"in e?n=new Ze(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new tn(e.removeAllFromArray.values||[]):"increment"in e?n=new nn(t,e.increment):b();var r=S.S(e.fieldPath);return new sn(r,n)}(t,e)}));return _(!0===n.exists),new mn(s,u)}if(e.verify){var c=Se(t,e.verify);return new En(c,n)}return b()}function Me(t,e){return{documents:[Te(t,e.path)]}}function Re(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Te(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Te(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(fe(t.value))return{unaryFilter:{field:Ke(t.field),op:"IS_NAN"}};if(he(t.value))return{unaryFilter:{field:Ke(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(fe(t.value))return{unaryFilter:{field:Ke(t.field),op:"IS_NOT_NAN"}};if(he(t.value))return{unaryFilter:{field:Ke(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ke(t.field),op:Ve(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Ke(t.field),direction:Ue(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.Qe||ct(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=je(e.startAt)),e.endAt&&(n.structuredQuery.endAt=je(e.endAt)),n}function je(t){return{before:t.before,values:t.position}}function Fe(t){return new or(t.values||[],!!t.before)}function Ue(t){return pe[t]}function Ve(t){return ve[t]}function Ke(t){return{fieldPath:t.R()}}function ze(t){return S.S(t.fieldPath)}function Be(t){return Jn.create(ze(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return b()}}(t.fieldFilter.op),t.fieldFilter.value)}function qe(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ze(t.unaryFilter.field);return Jn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ze(t.unaryFilter.field);return Jn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ze(t.unaryFilter.field);return Jn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ze(t.unaryFilter.field);return Jn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return b()}}function He(t){var e=[];return t.fields.forEach((function(t){return e.push(t.R())})),{fieldPaths:e}}function We(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ge=function(){this.He=void 0};function Qe(t,e,n){return t instanceof Ye?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ze?$e(t,e):t instanceof tn?en(t,e):function(t,e){var n=Je(t,e),r=rn(n)+rn(t.je);return ce(n)&&ce(t.je)?ge(r):be(t.serializer,r)}(t,e)}function Xe(t,e,n){return t instanceof Ze?$e(t,e):t instanceof tn?en(t,e):n}function Je(t,e){return t instanceof nn?ce(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(Ge),Ze=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Ge);function $e(t,e){for(var n=on(e),r=function(t){n.some((function(e){return te(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var tn=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Ge);function en(t,e){for(var n=on(e),r=function(t){n=n.filter((function(e){return!te(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.je=n,r}return r.__extends(e,t),e}(Ge);function rn(t){return ae(t.integerValue||t.doubleValue)}function on(t){return le(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var an=function(){function t(t){this.fields=t,t.sort(S.i)}return t.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return Y(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),sn=function(t,e){this.field=t,this.transform=e},un=function(t,e){this.version=t,this.transformResults=e},cn=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ln(t,e){return void 0!==t.updateTime?e instanceof Pn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Pn}var hn=function(){};function fn(t,e,n){return t instanceof gn?function(t,e,n){return new Pn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof bn?function(t,e,n){if(!ln(t.Ge,e))return new An(t.key,n.version);var r=_n(t,e);return new Pn(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof mn?function(t,e,n){if(_(null!=n.transformResults),!ln(t.Ge,e))return new An(t.key,n.version);var r=wn(0,e),i=function(t,e,n){var r=[];_(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof Pn&&(s=e.field(o.field)),r.push(Xe(a,s,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,a=Cn(t,r.data(),i);return new Pn(t.key,o,a,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Ln(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function dn(t,e,n,r){return t instanceof gn?function(t,e){if(!ln(t.Ge,e))return e;var n=yn(e);return new Pn(t.key,n,t.value,{Je:!0})}(t,e):t instanceof bn?function(t,e){if(!ln(t.Ge,e))return e;var n=yn(e),r=_n(t,e);return new Pn(t.key,n,r,{Je:!0})}(t,e):t instanceof mn?function(t,e,n,r){if(!ln(t.Ge,e))return e;var i=wn(0,e),o=function(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof Pn&&(c=n.field(s.field)),null===c&&r instanceof Pn&&(c=r.field(s.field)),i.push(Qe(u,c,e))}return i}(t.fieldTransforms,n,e,r),a=Cn(t,i.data(),o);return new Pn(t.key,i.version,a,{Je:!0})}(t,e,r,n):function(t,e){return ln(t.Ge,e)?new Ln(t.key,ut.min()):e}(t,e)}function pn(t,e){return t instanceof mn?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e instanceof Pn?e.field(o.field):void 0,s=Je(o.transform,a||null);null!=s&&(n=null==n?(new On).set(o.field,s):n.set(o.field,s))}return n?n.Xe():null}(t,e):null}function vn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.We.isEqual(e.We):2!==t.type||Y(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ze&&e instanceof Ze||t instanceof tn&&e instanceof tn?Y(t.elements,e.elements,te):t instanceof nn&&e instanceof nn?te(t.je,e.je):t instanceof Ye&&e instanceof Ye}(t.transform,e.transform)}(t,e)})))}function yn(t){return t instanceof Pn?t.version:ut.min()}var gn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return r.__extends(e,t),e}(hn),bn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.We=r,o.Ge=i,o.type=1,o}return r.__extends(e,t),e}(hn);function _n(t,e){return function(t,e){var n=new On(e);return t.We.fields.forEach((function(e){if(!e.m()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Xe()}(t,e instanceof Pn?e.data():In.empty())}var mn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=cn.exists(!0),r}return r.__extends(e,t),e}(hn);function wn(t,e){return e}function Cn(t,e,n){for(var r=new On(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Xe()}var kn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return r.__extends(e,t),e}(hn),En=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return r.__extends(e,t),e}(hn),In=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!de(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return te(this.proto,t.proto)},t}(),On=function(){function t(t){void 0===t&&(t=In.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===$t(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t._(),e)},t.prototype.Xe=function(){var t=this.nn(S.P(),this.tn);return null!=t?new In(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=de(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.nn(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Sn(t){var e=[];return C(t.fields||{},(function(t,n){var r=new S([t]);if(de(n)){var i=Sn(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)})),new an(e)}var Tn=function(t,e){this.key=t,this.version=e},Pn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).sn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return r.__extends(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Tn),Ln=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Tn),An=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Tn),xn=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=a,this.endAt=s,this.cn=null,this.un=null};function Dn(t,e,n,r,i,o,a,s){return new xn(t,e,n,r,i,o,a,s)}function Nn(t){return new xn(t)}function Mn(t){return!ct(t.limit)&&"F"===t.an}function Rn(t){return!ct(t.limit)&&"L"===t.an}function jn(t){return t.on.length>0?t.on[0].field:null}function Fn(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function Un(t){return null!==t.collectionGroup}function Vn(t){var e=m(t);if(null===e.cn){e.cn=[];var n=Fn(e),r=jn(e);if(null!==n&&null===r)n.p()||e.cn.push(new cr(n)),e.cn.push(new cr(S.v(),"asc"));else{for(var i=!1,o=0,a=e.on;o<a.length;o++){var s=a[o];e.cn.push(s),s.field.p()&&(i=!0)}if(!i){var u=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new cr(S.v(),u))}}}return e.cn}function Kn(t){var e=m(t);if(!e.un)if("F"===e.an)e.un=dt(e.path,e.collectionGroup,Vn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Vn(e);r<i.length;r++){var o=i[r];n.push(new cr(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new or(e.endAt.position,!e.endAt.before):null,s=e.startAt?new or(e.startAt.position,!e.startAt.before):null;e.un=dt(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.un}function zn(t,e,n){return new xn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bn(t,e){return new xn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function qn(t,e){return new xn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function Hn(t,e){return vt(Kn(t),Kn(e))&&t.an===e.an}function Wn(t){return pt(Kn(t))+"|lt:"+t.an}function Gn(t){return"Query(target="+function(t){var e=t.path.R();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.R()+" "+e.op+" "+ie(e.value);var e})).join(", ")+"]"),ct(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.R()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ar(t.startAt)),t.endAt&&(e+=", endAt: "+ar(t.endAt)),"Target("+e+")"}(Kn(t))+"; limitType="+t.an+")"}function Qn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.N(t.collectionGroup)&&t.path.T(n):T.F(t.path)?t.path.isEqual(n):t.path.I(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!sr(t.startAt,Vn(t),e)||t.endAt&&sr(t.endAt,Vn(t),e))}(t,e)}function Xn(t){return function(e,n){for(var r=!1,i=0,o=Vn(t);i<o.length;i++){var a=o[i],s=lr(a,e,n);if(0!==s)return s;r=r||a.field.p()}return 0}}var Jn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return r.__extends(e,t),e.create=function(t,n,r){if(t.p())return"in"===n||"not-in"===n?this.ln(t,n,r):new Yn(t,n,r);if(he(r)){if("=="!==n&&"!="!==n)throw new h(l.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(t,n,r)}if(fe(r)){if("=="!==n&&"!="!==n)throw new h(l.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(t,n,r)}return"array-contains"===n?new er(t,r):"in"===n?new nr(t,r):"not-in"===n?new rr(t,r):"array-contains-any"===n?new ir(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new Zn(t,n):new $n(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(ne(e,this.value)):null!==e&&$t(this.value)===$t(e)&&this._n(ne(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return b()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Yn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=T.C(r.referenceValue),i}return r.__extends(e,t),e.prototype.matches=function(t){var e=T.i(t.key,this.key);return this._n(e)},e}(Jn),Zn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=tr(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Jn),$n=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=tr(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Jn);function tr(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return T.C(t.referenceValue)}))}var er=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return le(e)&&ee(e.arrayValue,this.value)},e}(Jn),nr=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ee(this.value.arrayValue,e)},e}(Jn),rr=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){if(ee(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ee(this.value.arrayValue,e)},e}(Jn),ir=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!le(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ee(e.value.arrayValue,t)}))},e}(Jn),or=function(t,e){this.position=t,this.before=e};function ar(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ie(t)})).join(",")}function sr(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.p()?T.i(T.C(a.referenceValue),n.key):ne(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ur(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!te(t.position[n],e.position[n]))return!1;return!0}var cr=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function lr(t,e,n){var r=t.field.p()?T.i(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ne(r,i):b()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return b()}}function hr(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var fr=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},dr=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.mn=r,this.Tn=i,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.En=0},t.prototype.Rn=function(){this.En=this.Tn},t.prototype.gn=function(t){var e=this;this.cancel();var n=Math.floor(this.En+this.Pn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.En+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.In=this.fn.yn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},t.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},t.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.En},t}(),pr=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&b(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t((function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}}))},t.prototype.Fn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.xn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.xn((function(){return e(n)})):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.xn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.kn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),vr=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.On(a.getUA())&&v("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return p("SimpleDb","Removing database:",t),wr(window.indexedDB.deleteDatabase(t)).Fn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=a.getUA(),n=t.On(e),r=0<n&&n<10,i=t.qn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},t.Qn=function(t,e){return t.store(e)},t.On=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Wn=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(p("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new gr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new h(l.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new gr(t,n))},i.onupgradeneeded=function(t){p("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Mn.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){p("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(t){return n.jn(t)}),this.db)]}}))}))},t.prototype.Kn=function(t){this.jn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s,u,c;return r.__generator(this,(function(l){switch(l.label){case 0:o="readonly"===e,a=0,s=function(){var e,s,c,l,h;return r.__generator(this,(function(r){switch(r.label){case 0:++a,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.Wn(t)];case 2:return u.db=r.sent(),e=_r.open(u.db,t,o?"readonly":"readwrite",n),s=i(e).catch((function(t){return e.abort(t),pr.reject(t)})).Fn(),c={},s.catch((function(){})),[4,e.Gn];case 3:return[2,(c.value=(r.sent(),s),c)];case 4:return p("SimpleDb","Transaction failed with error:",(l=r.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&a<3),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),yr=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return wr(this.zn.delete())},t}(),gr=function(t){function e(e,n){var r=this;return(r=t.call(this,l.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return r.__extends(e,t),e}(h);function br(t){return"IndexedDbTransactionError"===t.name}var _r=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new fr,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new gr(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=kr(e.target.error);n.Zn.reject(new gr(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new gr(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new mr(e)},t}(),mr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),wr(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),wr(this.store.add(t))},t.prototype.get=function(t){var e=this;return wr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),wr(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),wr(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ns=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(t,e,n){return n.delete()}))},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new pr((function(n,r){e.onerror=function(t){var e=kr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.es=function(t,e){var n=[];return new pr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new yr(i),a=e(i.primaryKey,i.value,o);if(a instanceof pr){var s=a.catch((function(t){return o.done(),pr.reject(t)}));n.push(s)}o.Sn?r():null===o.Jn?i.continue():i.continue(o.Jn)}else r()}})).next((function(){return pr.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function wr(t){return new pr((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=kr(t.target.error);n(e)}}))}var Cr=!1;function kr(t){var e=vr.On(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new h("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Cr||(Cr=!0,setTimeout((function(){throw r}),0)),r}}return t}function Er(){return"undefined"!=typeof window?window:null}function Ir(){return"undefined"!=typeof document?document:null}var Or=function(){function t(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new fr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}return t._s=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new h(l.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),Sr=function(){function t(){var t=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new dr(this,"async_queue_retry"),this.Vs=function(){var e=Ir();e&&p("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.ys.Vn()};var e=Ir();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=Ir();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Es.push(t),e.Ns()}))},t.prototype.Ns=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Es.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return n.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!br(t=n.sent()))throw t;return p("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Es.length>0&&this.ys.gn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ss=function(t){var e=this,n=this.Ts.then((function(){return e.gs=!0,t().catch((function(t){throw e.Rs=t,e.gs=!1,v("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gs=!1,t}))}));return this.Ts=n,n},t.prototype.yn=function(t,e,n){var r=this;this.vs(),this.Ps.indexOf(t)>-1&&(e=0);var i=Or._s(this,t,e,n,(function(t){return r.Fs(t)}));return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&b()},t.prototype.xs=function(){},t.prototype.$s=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Ts];case 1:e.sent(),e.label=2;case 2:if(t!==this.Ts)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.$s().then((function(){e.As.sort((function(t,e){return t.us-e.us}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.$s()}))},t.prototype.Os=function(t){this.Ps.push(t)},t.prototype.Fs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function Tr(t,e){if(v("AsyncQueue",e+": "+t),br(t))return new h(l.UNAVAILABLE,e+": "+t);throw t}var Pr=function(){this.Ls=void 0,this.listeners=[]},Lr=function(){this.Bs=new at((function(t){return Wn(t)}),Hn),this.onlineState="Unknown",this.qs=new Set};function Ar(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=m(t),o=!1,(a=n.Bs.get(i=e.query))||(o=!0,a=new Pr),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),s=a,[4,n.Us(i)];case 2:return s.Ls=r.sent(),[3,4];case 3:return u=r.sent(),c=Tr(u,"Initialization of query '"+Gn(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.Bs.set(i,a),a.listeners.push(e),e.Qs(n.onlineState),a.Ls&&e.Ws(a.Ls)&&Mr(n),[2]}}))}))}function xr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return r.__generator(this,(function(r){return n=m(t),o=!1,(a=n.Bs.get(i=e.query))&&(s=a.listeners.indexOf(e))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.Bs.delete(i),n.js(i))]:[2]}))}))}function Dr(t,e){for(var n=m(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.Bs.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Ws(a)&&(r=!0);s.Ls=a}}r&&Mr(n)}function Nr(t,e,n){var r=m(t),i=r.Bs.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.Bs.delete(e)}function Mr(t){t.qs.forEach((function(t){t.next()}))}var Rr=function(){function t(t,e,n){this.query=t,this.Ks=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Ws=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Vt(t.query,t.docs,t.Qt,e,t.Wt,t.fromCache,t.jt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.Ks.next(t),o=!0):this.Ys(t,this.onlineState)&&(this.Js(t),o=!0),this.zs=t,o},t.prototype.onError=function(t){this.Ks.error(t)},t.prototype.Qs=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){return!t.fromCache||!(this.options.Xs&&"Offline"!==e||t.docs.m()&&"Offline"!==e)},t.prototype.Hs=function(t){return t.docChanges.length>0||!!(t.jt||this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=Vt.Gt(t.query,t.docs,t.Wt,t.fromCache),this.Gs=!0,this.Ks.next(t)},t}(),jr=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();jr.UNAUTHENTICATED=new jr(null),jr.ei=new jr("google-credentials-uid"),jr.ni=new jr("first-party-uid");var Fr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.si=function(t){return n.ii(t)},this.ri=function(t){return e.oi(t)})}return t.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},t}();function Ur(t,e){return"firestore_clients_"+t+"_"+e}function Vr(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function Kr(t,e){return"firestore_targets_"+t+"_"+e}Fr.ai=-1;var zr=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ci=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new h(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(v("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Br=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ci=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new h(r.error.code,r.error.message)),i?new t(e,r.state,o):(v("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ci=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=jt(),a=0;i&&a<r.activeTargetIds.length;++a)i=ht(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(v("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Hr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ci=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(v("SharedClientState","Failed to parse online state: "+e),null)},t}(),Wr=function(){function t(){this.activeTargetIds=jt()}return t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ui=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Gr=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new kt(J),this.Ei=!1,this.Ii=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=Ur(this.persistenceKey,this._i),this.Ri=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Wr),this.gi=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Vi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,a,s,u,c,l,h=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.fi.pi()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this._i&&(o=this.getItem(Ur(this.persistenceKey,i)))&&(a=qr.ci(i,o))&&(this.Ti=this.Ti.ot(a.clientId,a));for(this.bi(),(s=this.storage.getItem(this.Vi))&&(u=this.vi(s))&&this.Si(u),c=0,l=this.Ii;c<l.length;c++)this.mi(l[c]);return this.Ii=[],this.window.addEventListener("unload",(function(){return h.Di()})),this.Ei=!0,[2]}}))}))},t.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.Fi=function(t){var e=!1;return this.Ti.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xi=function(t){this.$i(t,"pending")},t.prototype.ki=function(t,e,n){this.$i(t,e,n),this.Mi(t)},t.prototype.Oi=function(t){var e="not-current";if(this.Fi(t)){var n=this.storage.getItem(Kr(this.persistenceKey,t));if(n){var r=Br.ci(t,n);r&&(e=r.state)}}return this.Li.hi(t),this.bi(),e},t.prototype.Bi=function(t){this.Li.li(t),this.bi()},t.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},t.prototype.Ui=function(t){this.removeItem(Kr(this.persistenceKey,t))},t.prototype.Qi=function(t,e,n){this.Wi(t,e,n)},t.prototype.ji=function(t,e,n){var r=this;e.forEach((function(t){r.Mi(t)})),this.currentUser=t,n.forEach((function(t){r.xi(t)}))},t.prototype.Ki=function(t){this.Gi(t)},t.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){p("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.mi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(p("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void v("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return r.__awaiter(e,void 0,void 0,(function(){var t,e,i,o,a,s;return r.__generator(this,(function(r){if(this.Ei){if(null!==n.key)if(this.gi.test(n.key)){if(null==n.newValue)return t=this.zi(n.key),[2,this.Hi(t,null)];if(e=this.Yi(n.key,n.newValue))return[2,this.Hi(e.clientId,e)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(i=this.Ji(n.key,n.newValue)))return[2,this.Xi(i)]}else if(this.yi.test(n.key)){if(null!==n.newValue&&(o=this.Zi(n.key,n.newValue)))return[2,this.tr(o)]}else if(n.key===this.Vi){if(null!==n.newValue&&(a=this.vi(n.newValue)))return[2,this.Si(a)]}else n.key===this.Ri&&(s=function(t){var e=Fr.ai;if(null!=t)try{var n=JSON.parse(t);_("number"==typeof n),e=n}catch(t){v("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Fr.ai&&this.si(s)}else this.Ii.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},t.prototype.$i=function(t,e,n){var r=new zr(this.currentUser,t,e,n),i=Vr(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ui())},t.prototype.Mi=function(t){var e=Vr(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Gi=function(t){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:t}))},t.prototype.Wi=function(t,e,n){var r=Kr(this.persistenceKey,t),i=new Br(t,e,n);this.setItem(r,i.ui())},t.prototype.zi=function(t){var e=this.gi.exec(t);return e?e[1]:null},t.prototype.Yi=function(t,e){var n=this.zi(t);return qr.ci(n,e)},t.prototype.Ji=function(t,e){var n=this.Pi.exec(t),r=Number(n[1]);return zr.ci(new jr(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Zi=function(t,e){var n=this.yi.exec(t),r=Number(n[1]);return Br.ci(r,e)},t.prototype.vi=function(t){return Hr.ci(t)},t.prototype.Xi=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(p("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},t.prototype.Hi=function(t,e){var n=this,r=e?this.Ti.ot(t,e):this.Ti.remove(t),i=this.Ni(this.Ti),o=this.Ni(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.fi.sr(a,s).then((function(){n.Ti=r}))},t.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},t.prototype.Ni=function(t){var e=jt();return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},t}(),Qr=function(){function t(){this.ir=new Wr,this.rr={},this.di=null,this.si=null}return t.prototype.xi=function(t){},t.prototype.ki=function(t,e,n){},t.prototype.Oi=function(t){return this.ir.hi(t),this.rr[t]||"not-current"},t.prototype.Qi=function(t,e,n){this.rr[t]=e},t.prototype.Bi=function(t){this.ir.li(t)},t.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.Ui=function(t){delete this.rr[t]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.Fi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.start=function(){return this.ir=new Wr,Promise.resolve()},t.prototype.ji=function(t,e,n){},t.prototype.Ki=function(t){},t.prototype.Di=function(){},t.prototype.oi=function(t){},t}(),Xr=function(){function t(t,e,n,r){this.batchId=t,this.ar=e,this.baseMutations=n,this.mutations=r}return t.prototype.cr=function(t,e,n){for(var r=n.ur,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=fn(o,e,r[i]))}return e},t.prototype.hr=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=dn(i,e,e,this.ar))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=dn(u,e,o,this.ar))}return e},t.prototype.lr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.hr(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Mt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Y(this.mutations,t.mutations,(function(t,e){return vn(t,e)}))&&Y(this.baseMutations,t.baseMutations,(function(t,e){return vn(t,e)}))},t}(),Jr=function(){function t(t,e,n,r){this.batch=t,this._r=e,this.ur=n,this.dr=r}return t.from=function(e,n,r){_(e.mutations.length===r.length);for(var i=Dt,o=e.mutations,a=0;a<o.length;a++)i=i.ot(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Yr=function(){function t(){this.wr=new at((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),t.prototype.Er=function(t,e){this.Ir(),this.readTime=e,this.wr.set(t.key,t)},t.prototype.Ar=function(t,e){this.Ir(),e&&(this.readTime=e),this.wr.set(t,null)},t.prototype.Rr=function(t,e){this.Ir();var n=this.wr.get(e);return void 0!==n?pr.resolve(n):this.gr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Ir(),this.mr=!0,this.yr(t)},t.prototype.Ir=function(){},t}(),Zr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$r=function(){function t(){this.Vr=[]}return t.prototype.pr=function(t){this.Vr.push(t)},t.prototype.br=function(){this.Vr.forEach((function(t){return t()}))},t}(),ti=function(){function t(t,e,n){this.vr=t,this.Sr=e,this.Dr=n}return t.prototype.Cr=function(t,e){var n=this;return this.Sr.Nr(t,e).next((function(r){return n.Fr(t,e,r)}))},t.prototype.Fr=function(t,e,n){return this.vr.Rr(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].hr(e,t);return t}))},t.prototype.$r=function(t,e,n){var r=Lt();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].hr(t,e);r=r.ot(t,e)})),r},t.prototype.kr=function(t,e){var n=this;return this.vr.getEntries(t,e).next((function(e){return n.Mr(t,e)}))},t.prototype.Mr=function(t,e){var n=this;return this.Sr.Or(t,e).next((function(r){var i=n.$r(t,e,r),o=Pt();return i.forEach((function(t,e){e||(e=new Ln(t,ut.min())),o=o.ot(t,e)})),o}))},t.prototype.Lr=function(t,e,n){return function(t){return T.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Br(t,e.path):Un(e)?this.qr(t,e,n):this.Ur(t,e,n)},t.prototype.Br=function(t,e){return this.Cr(t,new T(e)).next((function(t){var e=xt();return t instanceof Pn&&(e=e.ot(t.key,t)),e}))},t.prototype.qr=function(t,e,n){var r=this,i=e.collectionGroup,o=xt();return this.Dr.Qr(t,i).next((function(a){return pr.forEach(a,(function(a){var s=function(t,e){return new xn(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,a.child(i));return r.Ur(t,s,n).next((function(t){t.forEach((function(t,e){o=o.ot(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Ur=function(t,e,n){var r,i,o=this;return this.vr.Lr(t,e,n).next((function(n){return r=n,o.Sr.Wr(t,e)})).next((function(e){return o.jr(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=dn(u,l,l,o.ar);r=h instanceof Pn?r.ot(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Qn(e,n)||(r=r.remove(t))})),r}))},t.prototype.jr=function(t,e,n){for(var r=Mt(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof bn&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.vr.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Pn&&(c=c.ot(t,e))})),c}))},t}(),ei=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Kr=n,this.Gr=r}return t.zr=function(e,n){for(var r=Mt(),i=Mt(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}();function ni(t,e){var n=t[1],r=e[1],i=J(t[0],e[0]);return 0===i?J(n,r):i}var ri=function(){function t(t){this.Hr=t,this.buffer=new Ot(ni),this.Yr=0}return t.prototype.Jr=function(){return++this.Yr},t.prototype.Xr=function(t){var e=[t,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ni(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ii={Zr:!1,eo:0,no:0,so:0},oi=function(){function t(t,e,n){this.io=t,this.ro=e,this.oo=n}return t.ao=function(e){return new t(e,t.co,t.uo)},t}();oi.ho=-1,oi.lo=1048576,oi._o=41943040,oi.co=10,oi.uo=1e3,oi.fo=new oi(oi._o,oi.co,oi.uo),oi.do=new oi(oi.ho,0,0);var ai=function(){function t(t,e){this.wo=t,this.cs=e,this.mo=!1,this.To=null}return t.prototype.start=function(t){this.wo.params.io!==oi.ho&&this.Eo(t)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t){var e=this,n=this.mo?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.cs.yn("lru_garbage_collection",n,(function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:this.To=null,this.mo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Io(this.wo)];case 2:return n.sent(),[3,7];case 3:return br(e=n.sent())?(p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Oo(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eo(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),si=function(){function t(t,e){this.Ao=t,this.params=e}return t.prototype.Ro=function(t,e){return this.Ao.Po(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yo=function(t,e){var n=this;if(0===e)return pr.resolve(Fr.ai);var r=new ri(e);return this.Ao.Ce(t,(function(t){return r.Xr(t.sequenceNumber)})).next((function(){return n.Ao.Vo(t,(function(t){return r.Xr(t)}))})).next((function(){return r.maxValue}))},t.prototype.po=function(t,e,n){return this.Ao.po(t,e,n)},t.prototype.bo=function(t,e){return this.Ao.bo(t,e)},t.prototype.vo=function(t,e){var n=this;return this.params.io===oi.ho?(p("LruGarbageCollector","Garbage collection skipped; disabled"),pr.resolve(ii)):this.So(t).next((function(r){return r<n.params.io?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),ii):n.Do(t,e)}))},t.prototype.So=function(t){return this.Ao.So(t)},t.prototype.Do=function(t,e){var n,r,i,a,s,u,c,l=this,h=Date.now();return this.Ro(t,this.params.ro).next((function(e){return e>l.params.oo?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.oo+" from "+e),r=l.params.oo):r=e,a=Date.now(),l.yo(t,r)})).next((function(r){return n=r,s=Date.now(),l.po(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.bo(t,n)})).next((function(t){return c=Date.now(),d()<=o.LogLevel.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),pr.resolve({Zr:!0,eo:r,no:i,so:t})}))},t}();function ui(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=li(e)),e=ci(t.get(n),e);return li(e)}function ci(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function li(t){return t+"\x01\x01"}function hi(t){var e=t.length;if(_(e>=2),2===e)return _("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),I.P();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&b(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:b()}o=a+2}return new I(r)}var fi=function(t){this.Co=t};function di(t,e){if(e.document)return function(t,e,n){var r=Se(t,e.name),i=ke(e.updateTime),o=new In({mapValue:{fields:e.fields}});return new Pn(r,i,o,{hasCommittedMutations:!!n})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=T.$(e.noDocument.path),r=bi(e.noDocument.readTime);return new Ln(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=T.$(e.unknownDocument.path),o=bi(e.unknownDocument.version);return new An(i,o)}return b()}function pi(t,e,n){var r=vi(n),i=e.key.path.h().A();if(e instanceof Pn){var o=function(t,e){return{name:Oe(t,e.key),fields:e.rn().mapValue.fields,updateTime:me(t,e.version.Z())}}(t.Co,e);return new qi(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof Ln){var a=e.key.path.A(),s=gi(e.version),u=e.hasCommittedMutations;return new qi(null,new zi(a,s),null,u,r,i)}if(e instanceof An){var c=e.key.path.A(),l=gi(e.version);return new qi(new Bi(c,l),null,null,!0,r,i)}return b()}function vi(t){var e=t.Z();return[e.seconds,e.nanoseconds]}function yi(t){var e=new st(t[0],t[1]);return ut.J(e)}function gi(t){var e=t.Z();return new ji(e.seconds,e.nanoseconds)}function bi(t){var e=new st(t.seconds,t.nanoseconds);return ut.J(e)}function _i(t,e){var n=(e.baseMutations||[]).map((function(e){return Ne(t.Co,e)})),r=e.mutations.map((function(e){return Ne(t.Co,e)})),i=st.fromMillis(e.localWriteTimeMs);return new Xr(e.batchId,i,n,r)}function mi(t){var e,n,r=bi(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?bi(t.lastLimboFreeSnapshotVersion):ut.min();return void 0!==t.query.documents?(_(1===(n=t.query).documents.length),e=Kn(Nn(Pe(n.documents[0])))):e=function(t){var e=Pe(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[qe(e)]:void 0!==e.fieldFilter?[Be(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):b():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new cr(ze(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ct(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Fe(n.startAt));var l=null;return n.endAt&&(l=Fe(n.endAt)),Kn(Dn(e,i,s,a,u,"F",c,l))}(t.query),new _t(e,t.targetId,0,t.lastListenSequenceNumber,r,i,$.fromBase64String(t.resumeToken))}function wi(t,e){var n,r=gi(e.nt),i=gi(e.lastLimboFreeSnapshotVersion);n=yt(e.target)?Me(t.Co,e.target):Re(t.Co,e.target);var o=e.resumeToken.toBase64();return new Wi(e.targetId,pt(e.target),r,o,e.sequenceNumber,i,n)}var Ci=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Dr=n,this.No=r,this.Fo={}}return t.xo=function(e,n,r,i){return _(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ii(t).rs({index:Vi.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.ko=function(t,e,n,r){var i=this,o=Oi(t),a=Ii(t);return a.add({}).next((function(s){_("number"==typeof s);for(var u=new Xr(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return De(t.Co,e)})),i=n.mutations.map((function(e){return De(t.Co,e)}));return new Vi(e,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new Ot((function(t,e){return J(t.R(),e.R())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Ki.key(i.userId,p.key.path,s);h=h.add(p.key.path.h()),l.push(a.put(c)),l.push(o.put(v,Ki.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Dr.Mo(t,e))})),t.pr((function(){i.Fo[s]=u.keys()})),pr.$n(l).next((function(){return u}))}))},t.prototype.Oo=function(t,e){var n=this;return Ii(t).get(e).next((function(t){return t?(_(t.userId===n.userId),_i(n.serializer,t)):null}))},t.prototype.Lo=function(t,e){var n=this;return this.Fo[e]?pr.resolve(this.Fo[e]):this.Oo(t,e).next((function(t){if(t){var r=t.keys();return n.Fo[e]=r,r}return null}))},t.prototype.Bo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ii(t).rs({index:Vi.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(_(e.batchId>=r),o=_i(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ii(t).rs({index:Vi.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ii(t).ts(Vi.userMutationsIndex,n).next((function(t){return t.map((function(t){return _i(e.serializer,t)}))}))},t.prototype.Nr=function(t,e){var n=this,r=Ki.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Oi(t).rs({range:i},(function(r,i,a){var s=r[0],u=r[2],c=hi(r[1]);if(s===n.userId&&e.path.isEqual(c))return Ii(t).get(u).next((function(t){if(!t)throw b();_(t.userId===n.userId),o.push(_i(n.serializer,t))}));a.done()})).next((function(){return o}))},t.prototype.Or=function(t,e){var n=this,r=new Ot(J),i=[];return e.forEach((function(e){var o=Ki.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Oi(t).rs({range:a},(function(t,i,o){var a=t[0],s=t[2],u=hi(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),pr.$n(i).next((function(){return n.Qo(t,r)}))},t.prototype.Wr=function(t,e){var n=this,r=e.path,i=r.length+1,o=Ki.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ot(J);return Oi(t).rs({range:a},(function(t,e,o){var a=t[0],u=t[2],c=hi(t[1]);a===n.userId&&r.T(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Qo(t,s)}))},t.prototype.Qo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ii(t).get(e).next((function(t){if(null===t)throw b();_(t.userId===n.userId),r.push(_i(n.serializer,t))})))})),pr.$n(i).next((function(){return r}))},t.prototype.Wo=function(t,e){var n=this;return Ei(t.jo,this.userId,e).next((function(r){return t.pr((function(){n.Ko(e.batchId)})),pr.forEach(r,(function(e){return n.No.Go(t,e)}))}))},t.prototype.Ko=function(t){delete this.Fo[t]},t.prototype.zo=function(t){var e=this;return this.$o(t).next((function(n){if(!n)return pr.resolve();var r=IDBKeyRange.lowerBound(Ki.prefixForUser(e.userId)),i=[];return Oi(t).rs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=hi(t[1]);i.push(o)}else r.done()})).next((function(){_(0===i.length)}))}))},t.prototype.Ho=function(t,e){return ki(t,this.userId,e)},t.prototype.Yo=function(t){var e=this;return Si(t).get(this.userId).next((function(t){return t||new Ui(e.userId,-1,"")}))},t}();function ki(t,e,n){var r=Ki.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Oi(t).rs({range:o,ss:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function Ei(t,e,n){var r=t.store(Vi.store),i=t.store(Ki.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.rs({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){_(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Ki.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return pr.$n(o).next((function(){return c}))}function Ii(t){return uo.Qn(t,Vi.store)}function Oi(t){return uo.Qn(t,Ki.store)}function Si(t){return uo.Qn(t,Ui.store)}var Ti=function(){function t(t,e){this.serializer=t,this.Dr=e}return t.prototype.Er=function(t,e,n){return Ai(t).put(xi(e),n)},t.prototype.Ar=function(t,e){var n=Ai(t),r=xi(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Jo(t,r)}))},t.prototype.Rr=function(t,e){var n=this;return Ai(t).get(xi(e)).next((function(t){return n.Xo(t)}))},t.prototype.Zo=function(t,e){var n=this;return Ai(t).get(xi(e)).next((function(t){var e=n.Xo(t);return e?{ta:e,size:Di(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Lt();return this.ea(t,e,(function(t,e){var i=n.Xo(e);r=r.ot(t,i)})).next((function(){return r}))},t.prototype.na=function(t,e){var n=this,r=Lt(),i=new kt(T.i);return this.ea(t,e,(function(t,e){var o=n.Xo(e);o?(r=r.ot(t,o),i=i.ot(t,Di(e))):(r=r.ot(t,null),i=i.ot(t,0))})).next((function(){return{sa:r,ia:i}}))},t.prototype.ea=function(t,e,n){if(e.m())return pr.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e._t(),o=i.It();return Ai(t).rs({range:r},(function(t,e,r){for(var a=T.$(t);o&&T.i(o,a)<0;)n(o,null),o=i.It();o&&o.isEqual(a)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},t.prototype.Lr=function(t,e,n){var r=this,i=xt(),o=e.path.length+1,a={};if(n.isEqual(ut.min())){var s=e.path.A();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.A(),c=vi(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=qi.collectionReadTimeIndex}return Ai(t).rs(a,(function(t,n,a){if(t.length===o){var s=di(r.serializer,n);e.path.T(s.key.path)?s instanceof Pn&&Qn(e,s)&&(i=i.ot(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.ra=function(t){return new Pi(this,!!t&&t.oa)},t.prototype.aa=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Li(t).get(Hi.key).next((function(t){return _(!!t),t}))},t.prototype.Jo=function(t,e){return Li(t).put(Hi.key,e)},t.prototype.Xo=function(t){if(t){var e=di(this.serializer,t);return e instanceof Ln&&e.version.isEqual(ut.min())?null:e}return null},t}(),Pi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ca=e,r.oa=n,r.ua=new at((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return r.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[],r=0,i=new Ot((function(t,e){return J(t.R(),e.R())}));return this.wr.forEach((function(o,a){var s=e.ua.get(o);if(a){var u=pi(e.ca.serializer,a,e.readTime);i=i.add(o.path.h());var c=Di(u);r+=c-s,n.push(e.ca.Er(t,o,u))}else if(r-=s,e.oa){var l=pi(e.ca.serializer,new Ln(o,ut.min()),e.readTime);n.push(e.ca.Er(t,o,l))}else n.push(e.ca.Ar(t,o))})),i.forEach((function(r){n.push(e.ca.Dr.Mo(t,r))})),n.push(this.ca.updateMetadata(t,r)),pr.$n(n)},e.prototype.gr=function(t,e){var n=this;return this.ca.Zo(t,e).next((function(t){return null===t?(n.ua.set(e,0),null):(n.ua.set(e,t.size),t.ta)}))},e.prototype.Pr=function(t,e){var n=this;return this.ca.na(t,e).next((function(t){var e=t.sa;return t.ia.forEach((function(t,e){n.ua.set(t,e)})),e}))},e}(Yr);function Li(t){return uo.Qn(t,Hi.store)}function Ai(t){return uo.Qn(t,qi.store)}function xi(t){return t.path.A()}function Di(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw b();e=t.noDocument}return JSON.stringify(e).length}var Ni=function(){function t(){this.ha=new Mi}return t.prototype.Mo=function(t,e){return this.ha.add(e),pr.resolve()},t.prototype.Qr=function(t,e){return pr.resolve(this.ha.getEntries(e))},t}(),Mi=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new Ot(I.i),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t._(),n=t.h(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ot(I.i)).A()},t}(),Ri=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;_(n<r&&n>=0&&r<=10);var o=new _r("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Fi.store)}(t),function(t){t.createObjectStore(Ui.store,{keyPath:Ui.keyPath}),t.createObjectStore(Vi.store,{keyPath:Vi.keyPath,autoIncrement:!0}).createIndex(Vi.userMutationsIndex,Vi.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ki.store)}(t),Ji(t),function(t){t.createObjectStore(qi.store)}(t));var a=pr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Gi.store),t.deleteObjectStore(Wi.store),t.deleteObjectStore(Qi.store)}(t),Ji(t)),a=a.next((function(){return function(t){var e=t.store(Qi.store),n=new Qi(0,0,ut.min().Z(),0);return e.put(Qi.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Vi.store).ts().next((function(n){t.deleteObjectStore(Vi.store),t.createObjectStore(Vi.store,{keyPath:Vi.keyPath,autoIncrement:!0}).createIndex(Vi.userMutationsIndex,Vi.userMutationsKeyPath,{unique:!0});var r=e.store(Vi.store),i=n.map((function(t){return r.put(t)}));return pr.$n(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Yi.store,{keyPath:Yi.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Hi.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(qi.store);e.createIndex(qi.readTimeIndex,qi.readTimeIndexPath,{unique:!1}),e.createIndex(qi.collectionReadTimeIndex,qi.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(qi.store).rs((function(t,n){e+=Di(n)})).next((function(){var n=new Hi(e);return t.store(Hi.store).put(Hi.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Ui.store),r=t.store(Vi.store);return n.ts().next((function(n){return pr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(Vi.userMutationsIndex,i).next((function(r){return pr.forEach(r,(function(r){_(r.userId===n.userId);var i=_i(e.serializer,r);return Ei(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Gi.store),n=t.store(qi.store);return t.store(Qi.store).get(Qi.key).next((function(t){var r=[];return n.rs((function(n,i){var o=new I(n),a=function(t){return[0,ui(t)]}(o);r.push(e.get(a).next((function(n){return n?pr.resolve():function(n){return e.put(new Gi(0,ui(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return pr.$n(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Xi.store,{keyPath:Xi.keyPath});var n=e.store(Xi.store),r=new Mi,i=function(t){if(r.add(t)){var e=t._(),i=t.h();return n.put({collectionId:e,parent:ui(i)})}};return e.store(qi.store).rs({ss:!0},(function(t,e){var n=new I(t);return i(n.h())})).next((function(){return e.store(Ki.store).rs({ss:!0},(function(t,e){var n=hi(t[1]);return i(n.h())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Wi.store);return n.rs((function(t,r){var i=mi(r),o=wi(e.serializer,i);return n.put(o)}))},t}(),ji=function(t,e){this.seconds=t,this.nanoseconds=e},Fi=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Fi.store="owner",Fi.key="owner";var Ui=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ui.store="mutationQueues",Ui.keyPath="userId";var Vi=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Vi.store="mutations",Vi.keyPath="batchId",Vi.userMutationsIndex="userMutationsIndex",Vi.userMutationsKeyPath=["userId","batchId"];var Ki=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ui(e)]},t.key=function(t,e,n){return[t,ui(e),n]},t}();Ki.store="documentMutations",Ki.PLACEHOLDER=new Ki;var zi=function(t,e){this.path=t,this.readTime=e},Bi=function(t,e){this.path=t,this.version=e},qi=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};qi.store="remoteDocuments",qi.readTimeIndex="readTimeIndex",qi.readTimeIndexPath="readTime",qi.collectionReadTimeIndex="collectionReadTimeIndex",qi.collectionReadTimeIndexPath=["parentPath","readTime"];var Hi=function(t){this.byteSize=t};Hi.store="remoteDocumentGlobal",Hi.key="remoteDocumentGlobalKey";var Wi=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Wi.store="targets",Wi.keyPath="targetId",Wi.queryTargetsIndexName="queryTargetsIndex",Wi.queryTargetsKeyPath=["canonicalId","targetId"];var Gi=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Gi.store="targetDocuments",Gi.keyPath=["targetId","path"],Gi.documentTargetsIndex="documentTargetsIndex",Gi.documentTargetsKeyPath=["path","targetId"];var Qi=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Qi.key="targetGlobalKey",Qi.store="targetGlobal";var Xi=function(t,e){this.collectionId=t,this.parent=e};function Ji(t){t.createObjectStore(Gi.store,{keyPath:Gi.keyPath}).createIndex(Gi.documentTargetsIndex,Gi.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Wi.store,{keyPath:Wi.keyPath}).createIndex(Wi.queryTargetsIndexName,Wi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Qi.store)}Xi.store="collectionParents",Xi.keyPath=["collectionId","parent"];var Yi=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Yi.store="clientMetadata",Yi.keyPath="clientId";var Zi=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([Ui.store,Vi.store,Ki.store,qi.store,Wi.store,Fi.store,Qi.store,Gi.store],[Yi.store]),[Hi.store]),[Xi.store]),$i=function(){function t(){this.la=new Mi}return t.prototype.Mo=function(t,e){var n=this;if(!this.la.has(e)){var r=e._(),i=e.h();t.pr((function(){n.la.add(e)}));var o={collectionId:r,parent:ui(i)};return to(t).put(o)}return pr.resolve()},t.prototype.Qr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Z(e),""],!1,!0);return to(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(hi(o.parent))}return n}))},t}();function to(t){return uo.Qn(t,Xi.store)}var eo=function(){function t(t){this._a=t}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),no=function(){function t(t,e){this.No=t,this.serializer=e}return t.prototype.wa=function(t){var e=this;return this.ma(t).next((function(n){var r=new eo(n.highestTargetId);return n.highestTargetId=r.next(),e.Ta(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ea=function(t){return this.ma(t).next((function(t){return ut.J(new st(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ia=function(t){return this.ma(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Aa=function(t,e,n){var r=this;return this.ma(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.Z()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ta(t,i)}))},t.prototype.Ra=function(t,e){var n=this;return this.ga(t,e).next((function(){return n.ma(t).next((function(r){return r.targetCount+=1,n.Pa(e,r),n.Ta(t,r)}))}))},t.prototype.ya=function(t,e){return this.ga(t,e)},t.prototype.Va=function(t,e){var n=this;return this.pa(t,e.targetId).next((function(){return ro(t).delete(e.targetId)})).next((function(){return n.ma(t)})).next((function(e){return _(e.targetCount>0),e.targetCount-=1,n.Ta(t,e)}))},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return ro(t).rs((function(a,s){var u=mi(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Va(t,u)))})).next((function(){return pr.$n(o)})).next((function(){return i}))},t.prototype.Ce=function(t,e){return ro(t).rs((function(t,n){var r=mi(n);e(r)}))},t.prototype.ma=function(t){return io(t).get(Qi.key).next((function(t){return _(null!==t),t}))},t.prototype.Ta=function(t,e){return io(t).put(Qi.key,e)},t.prototype.ga=function(t,e){return ro(t).put(wi(this.serializer,e))},t.prototype.Pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ba=function(t){return this.ma(t).next((function(t){return t.targetCount}))},t.prototype.va=function(t,e){var n=pt(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ro(t).rs({range:r,index:Wi.queryTargetsIndexName},(function(t,n,r){var o=mi(n);vt(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Sa=function(t,e,n){var r=this,i=[],o=oo(t);return e.forEach((function(e){var a=ui(e.path);i.push(o.put(new Gi(n,a))),i.push(r.No.Da(t,n,e))})),pr.$n(i)},t.prototype.Ca=function(t,e,n){var r=this,i=oo(t);return pr.forEach(e,(function(e){var o=ui(e.path);return pr.$n([i.delete([n,o]),r.No.Na(t,n,e)])}))},t.prototype.pa=function(t,e){var n=oo(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Fa=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=oo(t),i=Mt();return r.rs({range:n,ss:!0},(function(t,e,n){var r=hi(t[1]),o=new T(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Ho=function(t,e){var n=ui(e.path),r=IDBKeyRange.bound([n],[Z(n)],!1,!0),i=0;return oo(t).rs({index:Gi.documentTargetsIndex,ss:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ue=function(t,e){return ro(t).get(e).next((function(t){return t?mi(t):null}))},t}();function ro(t){return uo.Qn(t,Wi.store)}function io(t){return uo.Qn(t,Qi.store)}function oo(t){return uo.Qn(t,Gi.store)}var ao="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",so=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jo=e,r.xa=n,r}return r.__extends(e,t),e}($r),uo=function(){function t(e,n,r,i,o,a,s,u,c,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=a,this.document=s,this.$a=c,this.ka=f,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(t){return Promise.resolve()},!t.Ln())throw new h(l.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new ho(this,i),this.Wa=n+"main",this.serializer=new fi(u),this.ja=new vr(this.Wa,10,new Ri(this.serializer)),this.Ka=new no(this.No,this.serializer),this.Dr=new $i,this.vr=function(t,e){return new Ti(t,e)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===f&&v("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Qn=function(t,e){if(t instanceof so)return vr.Qn(t.jo,e);throw b()},t.prototype.start=function(){var t=this;return this.za().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new h(l.FAILED_PRECONDITION,ao);return t.Ha(),t.Ya(),t.Ja(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ka.Ia(e)}))})).then((function(e){t.Ma=new Fr(e,t.$a)})).then((function(){t.Oa=!0})).catch((function(e){return t.ja&&t.ja.close(),Promise.reject(e)}))},t.prototype.Xa=function(t){var e=this;return this.Qa=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.Ei?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Za=function(t){var e=this;this.ja.Kn((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.tc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return lo(e).put(new Yi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ec(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.Qa(!1)})))}))})).next((function(){return t.nc(e)})).next((function(n){return t.isPrimary&&!n?t.sc(e).next((function(){return!1})):!!n&&t.ic(e).next((function(){return!0}))}))})).catch((function(e){if(br(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.Qa(e)})),t.isPrimary=e}))},t.prototype.ec=function(t){var e=this;return co(t).get(Fi.key).next((function(t){return pr.resolve(e.rc(t))}))},t.prototype.oc=function(t){return lo(t).delete(this.clientId)},t.prototype.ac=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Qn(e,Yi.store);return n.ts().next((function(t){var e=o.uc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return pr.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Ga)for(n=0,i=e;n<i.length;n++)this.Ga.removeItem(this.hc(i[n].clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.Ja=function(){var t=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,(function(){return t.za().then((function(){return t.ac()})).then((function(){return t.Ja()}))}))},t.prototype.rc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nc=function(t){var e=this;return this.ka?pr.resolve(!0):co(t).get(Fi.key).next((function(n){if(null!==n&&e.cc(n.leaseTimestampMs,5e3)&&!e.lc(n.ownerId)){if(e.rc(n)&&e.networkEnabled)return!0;if(!e.rc(n)){if(!n.allowTabSynchronization)throw new h(l.FAILED_PRECONDITION,ao);return!1}}return!(!e.networkEnabled||!e.inForeground)||lo(t).ts().next((function(t){return void 0===e.uc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&p("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Di=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Fi.store,Yi.store],(function(e){var n=new so(e,Fr.ai);return t.sc(n).next((function(){return t.oc(n)}))}))];case 1:return e.sent(),this.ja.close(),this.wc(),[2]}}))}))},t.prototype.uc=function(t,e){var n=this;return t.filter((function(t){return n.cc(t.updateTimeMs,e)&&!n.lc(t.clientId)}))},t.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return lo(e).ts().next((function(e){return t.uc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return Ci.xo(t,this.serializer,this.Dr,this.No)},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.Ic=function(){return this.Dr},t.prototype.runTransaction=function(t,e,n){var r,i=this;return p("IndexedDbPersistence","Starting transaction:",t),this.ja.runTransaction(t,"readonly"===e?"readonly":"readwrite",Zi,(function(o){return r=new so(o,i.Ma?i.Ma.next():Fr.ai),"readwrite-primary"===e?i.ec(r).next((function(t){return!!t||i.nc(r)})).next((function(e){if(!e)throw v("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.fn.Cs((function(){return i.Qa(!1)})),new h(l.FAILED_PRECONDITION,Zr);return n(r)})).next((function(t){return i.ic(r).next((function(){return t}))})):i.Ac(r).next((function(){return n(r)}))})).then((function(t){return r.br(),t}))},t.prototype.Ac=function(t){var e=this;return co(t).get(Fi.key).next((function(t){if(null!==t&&e.cc(t.leaseTimestampMs,5e3)&&!e.lc(t.ownerId)&&!e.rc(t)&&!(e.ka||e.allowTabSynchronization&&t.allowTabSynchronization))throw new h(l.FAILED_PRECONDITION,ao)}))},t.prototype.ic=function(t){var e=new Fi(this.clientId,this.allowTabSynchronization,Date.now());return co(t).put(Fi.key,e)},t.Ln=function(){return vr.Ln()},t.prototype.sc=function(t){var e=this,n=co(t);return n.get(Fi.key).next((function(t){return e.rc(t)?(p("IndexedDbPersistence","Releasing primary lease."),n.delete(Fi.key)):pr.resolve()}))},t.prototype.cc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(v("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.za()}))},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ya=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e._c(),e.fn.ws((function(){return e.Di()}))},this.window.addEventListener("unload",this.La))},t.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype.lc=function(t){var e;try{var n=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.hc(t)));return p("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return v("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(r){v("Failed to set zombie client id.",r)}},t.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(r){}},t.prototype.hc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function co(t){return uo.Qn(t,Fi.store)}function lo(t){return uo.Qn(t,Yi.store)}var ho=function(){function t(t,e){this.db=t,this.wo=new si(this,e)}return t.prototype.Po=function(t){var e=this.Rc(t);return this.db.Tc().ba(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Rc=function(t){var e=0;return this.Vo(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ce=function(t,e){return this.db.Tc().Ce(t,e)},t.prototype.Vo=function(t,e){return this.gc(t,(function(t,n){return e(n)}))},t.prototype.Da=function(t,e,n){return fo(t,n)},t.prototype.Na=function(t,e,n){return fo(t,n)},t.prototype.po=function(t,e,n){return this.db.Tc().po(t,e,n)},t.prototype.Go=function(t,e){return fo(t,e)},t.prototype.Pc=function(t,e){return function(t,e){var n=!1;return Si(t).os((function(r){return ki(t,r,e).next((function(t){return t&&(n=!0),pr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.bo=function(t,e){var n=this,r=this.db.Ec().ra(),i=[],o=0;return this.gc(t,(function(a,s){if(s<=e){var u=n.Pc(t,a).next((function(e){if(!e)return o++,r.Rr(t,a).next((function(){return r.Ar(a),oo(t).delete([0,ui(a.path)])}))}));i.push(u)}})).next((function(){return pr.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.st(t.xa);return this.db.Tc().ya(t,n)},t.prototype.yc=function(t,e){return fo(t,e)},t.prototype.gc=function(t,e){var n,r=oo(t),i=Fr.ai;return r.rs({index:Gi.documentTargetsIndex},(function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==Fr.ai&&e(new T(hi(n)),i),i=a,n=o):i=Fr.ai})).next((function(){i!==Fr.ai&&e(new T(hi(n)),i)}))},t.prototype.So=function(t){return this.db.Ec().aa(t)},t}();function fo(t,e){return oo(t).put(function(t,e){return new Gi(0,ui(t.path),e)}(e,t.xa))}function po(t,e){var n=t.projectId;return t.j||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var vo=function(){function t(t,e,n){this.persistence=t,this.Vc=e,this.bc=new kt(J),this.vc=new at((function(t){return pt(t)}),vt),this.Sc=ut.min(),this.Sr=t.mc(n),this.Dc=t.Ec(),this.Ka=t.Tc(),this.Cc=new ti(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.vo(n,e.bc)}))},t}();function yo(t,e){var n=m(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Dc.ra({oa:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=pr.resolve();return o.forEach((function(t){a=a.next((function(){return r.Rr(e,t)})).next((function(e){var o=e,a=n.dr.get(t);_(null!==a),(!o||o.version.L(a)<0)&&(o=i.cr(t,o,n))&&r.Er(o,n._r)}))})),a.next((function(){return t.Sr.Wo(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,r)}))}))}function go(t){var e=m(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ka.Ea(t)}))}function bo(t,e){var n=m(t),r=e.nt,i=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Dc.ra({oa:!0});i=n.bc;var a=[];e.zt.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.Ka.Ca(t,e.se,o).next((function(){return n.Ka.Sa(t,e.ee,o)})));var u=e.resumeToken;if(u.O()>0){var c=s.it(u,r).st(t.xa);i=i.ot(o,c),function(t,e,n){return _(e.resumeToken.O()>0),0===t.resumeToken.O()||e.nt.X()-t.nt.X()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(s,c,e)&&a.push(n.Ka.ya(t,c))}}}));var s=Pt(),u=Mt();if(e.Yt.forEach((function(t,e){u=u.add(t)})),a.push(o.getEntries(t,u).next((function(i){e.Yt.forEach((function(u,c){var l=i.get(u);c instanceof Ln&&c.version.isEqual(ut.min())?(o.Ar(u,r),s=s.ot(u,c)):null==l||c.version.L(l.version)>0||0===c.version.L(l.version)&&l.hasPendingWrites?(o.Er(c,r),s=s.ot(u,c)):p("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Jt.has(u)&&a.push(n.persistence.No.yc(t,u))}))}))),!r.isEqual(ut.min())){var c=n.Ka.Ea(t).next((function(e){return n.Ka.Aa(t,t.xa,r)}));a.push(c)}return pr.$n(a).next((function(){return o.apply(t)})).next((function(){return n.Cc.Mr(t,s)}))})).then((function(t){return n.bc=i,t}))}function _o(t,e){var n=m(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Sr.Bo(t,e)}))}function mo(t,e){var n=m(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ka.va(t,e).next((function(i){return i?pr.resolve(r=i):n.Ka.wa(t).next((function(i){return r=new _t(e,i,0,t.xa),n.Ka.Ra(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.bc.get(t.targetId);return(null===r||t.nt.L(r.nt)>0)&&(n.bc=n.bc.ot(t.targetId,t),n.vc.set(e,t.targetId)),t}))}function wo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:i=m(t),o=i.bc.get(e),a=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",a,(function(t){return i.persistence.No.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!br(s=r.sent()))throw s;return p("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return i.bc=i.bc.remove(e),i.vc.delete(o.target),[2]}}))}))}function Co(t,e,n){var r=m(t),i=ut.min(),o=Mt();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=m(t),i=r.vc.get(n);return void 0!==i?pr.resolve(r.bc.get(i)):r.Ka.va(e,n)}(r,t,Kn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ka.Fa(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Vc.Lr(t,e,n?i:ut.min(),n?o:Mt())})).next((function(t){return{documents:t,Fc:o}}))}))}function ko(t,e){var n=m(t),r=m(n.Ka),i=n.bc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function Eo(t){var e=m(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=m(t),i=Pt(),o=vi(n),a=Ai(e),s=IDBKeyRange.lowerBound(o,!0);return a.rs({index:qi.readTimeIndex,range:s},(function(t,e){var n=di(r.serializer,e);i=i.ot(n.key,n),o=e.readTime})).next((function(){return{xc:i,readTime:yi(o)}}))}(e.Dc,t,e.Sc)})).then((function(t){var n=t.xc;return e.Sc=t.readTime,n}))}function Io(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){return[2,(e=m(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Ai(t),n=ut.min();return e.rs({index:qi.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=yi(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Sc=t}))]}))}))}function Oo(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==l.FAILED_PRECONDITION||t.message!==Zr)throw t;return p("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var So=function(){function t(){this.$c=new Ot(To.kc),this.Mc=new Ot(To.Oc)}return t.prototype.m=function(){return this.$c.m()},t.prototype.Da=function(t,e){var n=new To(t,e);this.$c=this.$c.add(n),this.Mc=this.Mc.add(n)},t.prototype.Lc=function(t,e){var n=this;t.forEach((function(t){return n.Da(t,e)}))},t.prototype.Na=function(t,e){this.Bc(new To(t,e))},t.prototype.qc=function(t,e){var n=this;t.forEach((function(t){return n.Na(t,e)}))},t.prototype.Uc=function(t){var e=this,n=new T(new I([])),r=new To(n,t),i=new To(n,t+1),o=[];return this.Mc.Ft([r,i],(function(t){e.Bc(t),o.push(t.key)})),o},t.prototype.Qc=function(){var t=this;this.$c.forEach((function(e){return t.Bc(e)}))},t.prototype.Bc=function(t){this.$c=this.$c.delete(t),this.Mc=this.Mc.delete(t)},t.prototype.Wc=function(t){var e=new T(new I([])),n=new To(e,t),r=new To(e,t+1),i=Mt();return this.Mc.Ft([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Ho=function(t){var e=new To(t,0),n=this.$c.$t(e);return null!==n&&t.isEqual(n.key)},t}(),To=function(){function t(t,e){this.key=t,this.jc=e}return t.kc=function(t,e){return T.i(t.key,e.key)||J(t.jc,e.jc)},t.Oc=function(t,e){return J(t.jc,e.jc)||T.i(t.key,e.key)},t}(),Po=function(t,e){this.user=e,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+t},Lo=function(){function t(){this.Gc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.zc=function(){},t.prototype.Hc=function(t){this.Gc=t,t(jr.UNAUTHENTICATED)},t.prototype.Yc=function(){this.Gc=null},t}(),Ao=function(){function t(t){var e=this;this.Jc=null,this.currentUser=jr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){e.Zc++,e.currentUser=e.tu(),e.Xc=!0,e.Gc&&e.Gc(e.currentUser)},this.Zc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),t.get().then((function(t){e.auth=t,e.Jc&&e.auth.addAuthTokenListener(e.Jc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.Zc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.Zc!==e?(p("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(_("string"==typeof n.accessToken),new Po(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.zc=function(){this.forceRefresh=!0},t.prototype.Hc=function(t){this.Gc=t,this.Xc&&t(this.currentUser)},t.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},t.prototype.tu=function(){var t=this.auth&&this.auth.getUid();return _(null===t||"string"==typeof t),new jr(t)},t}(),xo=function(){function t(t,e){this.eu=t,this.nu=e,this.type="FirstParty",this.user=jr.ni}return Object.defineProperty(t.prototype,"Kc",{get:function(){var t={"X-Goog-AuthUser":this.nu},e=this.eu.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Do=function(){function t(t,e){this.eu=t,this.nu=e}return t.prototype.getToken=function(){return Promise.resolve(new xo(this.eu,this.nu))},t.prototype.Hc=function(t){t(jr.ni)},t.prototype.Yc=function(){},t.prototype.zc=function(){},t}(),No=function(){function t(t,e,n,r,i,o){this.fn=t,this.su=n,this.iu=r,this.ru=i,this.listener=o,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new dr(t,e)}return t.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.uu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.hu()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.lu=function(){this.state=0,this.ys.reset()},t.prototype._u=function(){var t=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,(function(){return t.fu()})))},t.prototype.du=function(t){this.wu(),this.stream.send(t)},t.prototype.fu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.uu()?[2,this.close(0)]:[2]}))}))},t.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==t?this.ys.reset():e&&e.code===l.RESOURCE_EXHAUSTED?(v(e.toString()),v("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===l.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.mu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Eu(this.ou),n=this.ou;this.ru.getToken().then((function(e){t.ou===n&&t.Iu(e)}),(function(n){e((function(){var e=new h(l.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Au(e)}))}))},t.prototype.Iu=function(t){var e=this,n=this.Eu(this.ou);this.stream=this.Ru(t),this.stream.gu((function(){n((function(){return e.state=2,e.listener.gu()}))})),this.stream.Tu((function(t){n((function(){return e.Au(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.hu=function(){var t=this;this.state=4,this.ys.gn((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Au=function(t){return p("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Eu=function(t){var e=this;return function(n){e.fn.ws((function(){return e.ou===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Mo=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return r.__extends(e,t),e.prototype.Ru=function(t){return this.iu.Pu("Listen",t)},e.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:b()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Qe?(_(void 0===e||"string"==typeof e),$.fromBase64String(e||"")):(_(void 0===e||e instanceof Uint8Array),$.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?l.UNKNOWN:Ct(t.code);return new h(e,t.message||"")}(a);n=new Ht(r,i,o,s||null)}else if("documentChange"in e){var u=e.documentChange,c=Se(t,u.document.name),f=ke(u.document.updateTime),d=new In({mapValue:{fields:u.document.fields}}),p=new Pn(c,f,d,{});n=new Bt(u.targetIds||[],u.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){var v=e.documentDelete,y=Se(t,v.document),g=v.readTime?ke(v.readTime):ut.min(),m=new Ln(y,g);n=new Bt([],v.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){var w=e.documentRemove,C=Se(t,w.document);n=new Bt([],w.removedTargetIds||[],C,null)}else{if(!("filter"in e))return b();var k=e.filter,E=new mt(k.count||0);n=new qt(k.targetId,E)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return ut.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ut.min():e.readTime?ke(e.readTime):ut.min()}(t);return this.listener.yu(e,n)},e.prototype.Vu=function(t){var e={};e.database=Le(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=yt(r)?{documents:Me(t,r)}:{query:Re(t,r)}).targetId=e.targetId,e.resumeToken.O()>0&&(n.resumeToken=we(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return b()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.du(e)},e.prototype.pu=function(t){var e={};e.database=Le(this.serializer),e.removeTarget=t,this.du(e)},e}(No),Ro=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.bu=!1,a}return r.__extends(e,t),Object.defineProperty(e.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mu=function(){this.bu&&this.Su([])},e.prototype.Ru=function(t){return this.iu.Pu("Write",t)},e.prototype.onMessage=function(t){if(_(!!t.streamToken),this.lastStreamToken=t.streamToken,this.bu){this.ys.reset();var e=function(t,e){return t&&t.length>0?(_(void 0!==e),t.map((function(t){return function(t,e){var n=ke(t.updateTime?t.updateTime:e);n.isEqual(ut.min())&&(n=ke(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new un(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ke(t.commitTime);return this.listener.Du(n,e)}return _(!t.writeResults||0===t.writeResults.length),this.bu=!0,this.listener.Cu()},e.prototype.Nu=function(){var t={};t.database=Le(this.serializer),this.du(t)},e.prototype.Su=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return De(e.serializer,t)}))};this.du(n)},e}(No),jo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.iu=n,i.serializer=r,i.Fu=!1,i}return r.__extends(e,t),e.prototype.xu=function(){if(this.Fu)throw new h(l.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.$u=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.$u(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.ku=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.ku(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.terminate=function(){this.Fu=!1},e}((function(){})),Fo=function(){function t(t,e){this.cs=t,this.di=e,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return t.prototype.Bu=function(){var t=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,(function(){return t.Ou=null,t.Uu("Backend didn't respond within 10 seconds."),t.qu("Offline"),Promise.resolve()})))},t.prototype.Qu=function(t){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+t.toString()),this.qu("Offline")))},t.prototype.set=function(t){this.Wu(),this.Mu=0,"Online"===t&&(this.Lu=!1),this.qu(t)},t.prototype.qu=function(t){t!==this.state&&(this.state=t,this.di(t))},t.prototype.Uu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(v(e),this.Lu=!1):p("OnlineStateTracker",e)},t.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t}(),Uo=function(t,e,n,i,o){var a=this;this.ju=t,this.Ku=e,this.cs=n,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=o,this.Xu.Zu((function(t){n.ws((function(){return r.__awaiter(a,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return Xo(this)?(p("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=m(t)).Yu.add(4),[4,Ko(e)];case 1:return n.sent(),e.th.set("Unknown"),e.Yu.delete(4),[4,Vo(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.th=new Fo(n,i)};function Vo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:if(!Xo(t))return[3,4];e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Ko(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function zo(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return e=m(t),p("RemoteStore","RemoteStore shutting down."),e.Yu.add(5),[4,Ko(e)];case 1:return n.sent(),e.Xu.Di(),e.th.set("Unknown"),[2]}}))}))}function Bo(t,e){var n=m(t);n.Hu.has(e.targetId)||(n.Hu.set(e.targetId,e),Qo(n)?Go(n):la(n).uu()&&Ho(n,e))}function qo(t,e){var n=m(t),r=la(n);n.Hu.delete(e),r.uu()&&Wo(n,e),0===n.Hu.size&&(r.uu()?r._u():Xo(n)&&n.th.set("Unknown"))}function Ho(t,e){t.eh.Ie(e.targetId),la(t).Vu(e)}function Wo(t,e){t.eh.Ie(e),la(t).pu(e)}function Go(t){t.eh=new Gt({qe:function(e){return t.Gu.qe(e)},Ue:function(e){return t.Hu.get(e)||null}}),la(t).start(),t.th.Bu()}function Qo(t){return Xo(t)&&!la(t).cu()&&t.Hu.size>0}function Xo(t){return 0===m(t).Yu.size}function Jo(t){t.eh=void 0}function Yo(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.Hu.forEach((function(e,n){Ho(t,e)})),[2]}))}))}function Zo(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){return Jo(t),Qo(t)?(t.th.Qu(e),Go(t)):t.th.set("Unknown"),[2]}))}))}function $o(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a;return r.__generator(this,(function(s){switch(s.label){case 0:if(t.th.set("Online"),!(e instanceof Ht&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?t.Hu.has(a=o[i])?[4,t.Gu.nh(a,n)]:[3,3]:[3,5];case 2:r.sent(),t.Hu.delete(a),t.eh.removeTarget(a),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),p("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,ta(t,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Bt?t.eh.be(e):e instanceof qt?t.eh.$e(e):t.eh.De(e),n.isEqual(ut.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,go(t.ju)];case 8:return o=s.sent(),n.L(o)>=0?[4,function(t,e){var n=t.eh.Oe(e);return n.zt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=t.Hu.get(r);i&&t.Hu.set(r,i.it(n.resumeToken,e))}})),n.Ht.forEach((function(e){var n=t.Hu.get(e);if(n){t.Hu.set(e,n.it($.B,n.nt)),Wo(t,e);var r=new _t(n.target,e,1,n.sequenceNumber);Ho(t,r)}})),t.Gu.sh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return p("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,ta(t,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function ta(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(o){switch(o.label){case 0:if(!br(e))throw e;return t.Yu.add(1),[4,Ko(t)];case 1:return o.sent(),t.th.set("Offline"),n||(n=function(){return go(t.ju)}),t.cs.Cs((function(){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return p("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Yu.delete(1),[4,Vo(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function ea(t,e){return e().catch((function(n){return ta(t,n,e)}))}function na(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:e=m(t),n=ha(e),i=e.zu.length>0?e.zu[e.zu.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Xo(t)&&t.zu.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,_o(e.ju,i)];case 3:return null===(o=r.sent())?(0===e.zu.length&&n._u(),[3,7]):(i=o.batchId,function(t,e){t.zu.push(e);var n=ha(t);n.uu()&&n.vu&&n.Su(e.mutations)}(e,o),[3,6]);case 4:return a=r.sent(),[4,ta(e,a)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return ra(e)&&ia(e),[2]}}))}))}function ra(t){return Xo(t)&&!ha(t).cu()&&t.zu.length>0}function ia(t){ha(t).start()}function oa(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return ha(t).Nu(),[2]}))}))}function aa(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i;return r.__generator(this,(function(r){for(e=ha(t),n=0,i=t.zu;n<i.length;n++)e.Su(i[n].mutations);return[2]}))}))}function sa(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return i=t.zu.shift(),o=Jr.from(i,e,n),[4,ea(t,(function(){return t.Gu.ih(o)}))];case 1:return r.sent(),[4,na(t)];case 2:return r.sent(),[2]}}))}))}function ua(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return e&&ha(t).vu?[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return wt(i=e.code)&&i!==l.ABORTED?(n=t.zu.shift(),ha(t).lu(),[4,ea(t,(function(){return t.Gu.rh(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,na(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ra(t)&&ia(t),[2]}}))}))}function ca(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return n=m(t),e?(n.Yu.delete(2),[4,Vo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Yu.add(2),[4,Ko(n)]);case 3:r.sent(),n.th.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function la(t){var e=this;return t.oh||(t.oh=function(t,e,n){var r=m(t);return r.xu(),new Mo(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:Yo.bind(null,t),Tu:Zo.bind(null,t),yu:$o.bind(null,t)}),t.Ju.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.oh.lu(),Qo(t)?Go(t):t.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.oh.stop()];case 2:e.sent(),Jo(t),e.label=3;case 3:return[2]}}))}))}))),t.oh}function ha(t){var e=this;return t.ah||(t.ah=function(t,e,n){var r=m(t);return r.xu(),new Ro(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:oa.bind(null,t),Tu:ua.bind(null,t),Cu:aa.bind(null,t),Du:sa.bind(null,t)}),t.Ju.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.ah.lu(),[4,na(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ah.stop()];case 3:e.sent(),t.zu.length>0&&(p("RemoteStore","Stopping write stream with "+t.zu.length+" pending writes"),t.zu=[]),e.label=4;case 4:return[2]}}))}))}))),t.ah}var fa=function(t){this.key=t},da=function(t){this.key=t},pa=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=Mt(),this.Wt=Mt(),this._h=Xn(t),this.fh=new Ft(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var n=this,r=e?e.mh:new Ut,i=e?e.fh:this.fh,o=e?e.Wt:this.Wt,a=i,s=!1,u=Mn(this.query)&&i.size===this.query.limit?i.last():null,c=Rn(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=e instanceof Pn?e:null;h&&(h=Qn(n.query,h)?h:null);var f=!!l&&n.Wt.has(l.key),d=!!h&&(h.Je||n.Wt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Th(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n._h(h,u)>0||c&&n._h(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Mn(this.query)||Rn(this.query))for(;a.size>this.query.limit;){var l=Mn(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fh:a,mh:r,Eh:s,Wt:o}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.yr=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Wt=t.Wt;var o=t.mh.Ut();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return b()}};return n(t)-n(e)}(t.type,e.type)||r._h(t.doc,e.doc)})),this.Ih(n);var a=e?this.Ah():[],s=0===this.lh.size&&this.te?1:0,u=s!==this.hh;return this.hh=s,0!==o.length||u?{snapshot:new Vt(this.query,t.fh,i,o,t.Wt,0===s,u,!1),Rh:a}:{Rh:a}},t.prototype.Qs=function(t){return this.te&&"Offline"===t?(this.te=!1,this.yr({fh:this.fh,mh:new Ut,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},t.prototype.gh=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.Ih=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uh=e.uh.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uh=e.uh.delete(t)})),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=Mt(),this.fh.forEach((function(e){t.gh(e.key)&&(t.lh=t.lh.add(e.key))}));var n=[];return e.forEach((function(e){t.lh.has(e)||n.push(new da(e))})),this.lh.forEach((function(t){e.has(t)||n.push(new fa(t))})),n},t.prototype.Ph=function(t){this.uh=t.Fc,this.lh=Mt();var e=this.wh(t.documents);return this.yr(e,!0)},t.prototype.yh=function(){return Vt.Gt(this.query,this.fh,this.Wt,0===this.hh)},t}(),va=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ya=function(t){this.key=t,this.Vh=!1},ga=function(){function t(t,e,n,r,i,o){this.ju=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new at((function(t){return Wn(t)}),Hn),this.Fh=new Map,this.xh=[],this.$h=new kt(T.i),this.kh=new Map,this.Mh=new So,this.Oh={},this.Lh=new Map,this.Bh=eo.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function ba(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return n=qa(t),(o=n.Nh.get(e))?(n.Sh.Oi(o.targetId),i=o.view.yh(),[3,4]):[3,1];case 1:return[4,mo(n.ju,Kn(e))];case 2:return a=r.sent(),s=n.Sh.Oi(a.targetId),[4,_a(n,e,a.targetId,"current"===s)];case 3:i=r.sent(),n.Uh&&Bo(n.ph,a),r.label=4;case 4:return[2,i]}}))}))}function _a(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s,u,c,l;return r.__generator(this,(function(h){switch(h.label){case 0:return t.Qh=function(e,n,i){return function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=e.view.wh(n)).Eh?[4,Co(t.ju,e.query,!1).then((function(t){return e.view.wh(t.documents,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return a=i&&i.zt.get(e.targetId),s=e.view.yr(o,t.Uh,a),[2,(La(t,e.targetId,s.Rh),s.snapshot)]}}))}))}(t,e,n,i)},[4,Co(t.ju,e,!0)];case 1:return o=h.sent(),a=new pa(e,o.Fc),s=a.wh(o.documents),u=zt.Zt(n,i&&"Offline"!==t.onlineState),c=a.yr(s,t.Uh,u),La(t,n,c.Rh),l=new va(e,n,a),[2,(t.Nh.set(e,l),t.Fh.has(n)?t.Fh.get(n).push(e):t.Fh.set(n,[e]),c.snapshot)]}}))}))}function ma(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=m(t),i=n.Nh.get(e),(o=n.Fh.get(i.targetId)).length>1?[2,(n.Fh.set(i.targetId,o.filter((function(t){return!Hn(t,e)}))),void n.Nh.delete(e))]:n.Uh?(n.Sh.Bi(i.targetId),n.Sh.Fi(i.targetId)?[3,2]:[4,wo(n.ju,i.targetId,!1).then((function(){n.Sh.Ui(i.targetId),qo(n.ph,i.targetId),Ta(n,i.targetId)})).catch(Oo)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Ta(n,i.targetId),[4,wo(n.ju,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function wa(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:n=m(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,bo(n.ju,e)];case 2:return i=r.sent(),e.zt.forEach((function(t,e){var r=n.kh.get(e);r&&(_(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?r.Vh=!0:t.ne.size>0?_(r.Vh):t.se.size>0&&(_(r.Vh),r.Vh=!1))})),[4,Da(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Oo(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ca(t,e,n){var r=m(t);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach((function(t,n){var r=n.view.Qs(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=m(t);n.onlineState=e;var r=!1;n.Bs.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Qs(e)&&(r=!0)})),r&&Mr(n)}(r.bh,e),i.length&&r.Ch.yu(i),r.onlineState=e,r.Uh&&r.Sh.Ki(e)}}function ka(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return(i=m(t)).Sh.Qi(e,"rejected",n),o=i.kh.get(e),(a=o&&o.key)?(s=(s=new kt(T.i)).ot(a,new Ln(a,ut.min())),u=Mt().add(a),c=new Kt(ut.min(),new Map,new Ot(J),s,u),[4,wa(i,c)]):[3,2];case 1:return r.sent(),i.$h=i.$h.remove(a),i.kh.delete(e),xa(i),[3,4];case 2:return[4,wo(i.ju,e,!1).then((function(){return Ta(i,e,n)})).catch(Oo)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function Ea(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:n=m(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,yo(n.ju,e)];case 2:return o=r.sent(),Sa(n,i,null),Oa(n,i),n.Sh.ki(i,"acknowledged"),[4,Da(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Oo(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ia(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:i=m(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=m(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Sr.Oo(t,e).next((function(e){return _(null!==e),r=e.keys(),n.Sr.Wo(t,e)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,r)}))}))}(i.ju,e)];case 2:return o=r.sent(),Sa(i,e,n),Oa(i,e),i.Sh.ki(e,"rejected",n),[4,Da(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Oo(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Oa(t,e){(t.Lh.get(e)||[]).forEach((function(t){t.resolve()})),t.Lh.delete(e)}function Sa(t,e,n){var r=m(t),i=r.Oh[r.currentUser.ti()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Oh[r.currentUser.ti()]=i}}function Ta(t,e,n){void 0===n&&(n=null),t.Sh.Bi(e);for(var r=0,i=t.Fh.get(e);r<i.length;r++){var o=i[r];t.Nh.delete(o),n&&t.Ch.Wh(o,n)}t.Fh.delete(e),t.Uh&&t.Mh.Uc(e).forEach((function(e){t.Mh.Ho(e)||Pa(t,e)}))}function Pa(t,e){var n=t.$h.get(e);null!==n&&(qo(t.ph,n),t.$h=t.$h.remove(e),t.kh.delete(n),xa(t))}function La(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof fa?(t.Mh.Da(o.key,e),Aa(t,o)):o instanceof da?(p("SyncEngine","Document no longer in limbo: "+o.key),t.Mh.Na(o.key,e),t.Mh.Ho(o.key)||Pa(t,o.key)):b()}}function Aa(t,e){var n=e.key;t.$h.get(n)||(p("SyncEngine","New document in limbo: "+n),t.xh.push(n),xa(t))}function xa(t){for(;t.xh.length>0&&t.$h.size<t.Dh;){var e=t.xh.shift(),n=t.Bh.next();t.kh.set(n,new ya(e)),t.$h=t.$h.ot(e,n),Bo(t.ph,new _t(Kn(Nn(e.path)),n,2,Fr.ai))}}function Da(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(u){switch(u.label){case 0:return i=m(t),o=[],a=[],s=[],i.Nh.m()?[3,3]:(i.Nh.forEach((function(t,r){s.push(i.Qh(r,e,n).then((function(t){if(t){i.Uh&&i.Sh.Qi(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=ei.zr(r.targetId,t);a.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),i.Ch.yu(o),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:n=m(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return pr.forEach(e,(function(e){return pr.forEach(e.Kr,(function(r){return n.persistence.No.Da(t,e.targetId,r)})).next((function(){return pr.forEach(e.Gr,(function(r){return n.persistence.No.Na(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!br(i=r.sent()))throw i;return p("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,a=e;o<a.length;o++)u=(s=a[o]).targetId,s.fromCache||(c=n.bc.get(u),l=c.rt(c.nt),n.bc=n.bc.ot(u,l));return[2]}}))}))}(i.ju,a)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Na(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(o){switch(o.label){case 0:return(n=m(t)).currentUser.isEqual(e)?[3,3]:(p("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return n=m(t),i=n.Sr,o=n.Cc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.Sr.Uo(t).next((function(a){return r=a,i=n.persistence.mc(e),o=new ti(n.Dc,i,n.persistence.Ic()),i.Uo(t)})).next((function(e){for(var n=[],i=[],a=Mt(),s=0,u=r;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];i.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return o.kr(t,a).next((function(t){return{jh:t,Kh:n,Gh:i}}))}))}))];case 1:return a=r.sent(),[2,(n.Sr=i,n.Cc=o,n.Vc.Nc(n.Cc),a)]}}))}))}(n.ju,e)]);case 1:return i=o.sent(),n.currentUser=e,function(t,e){t.Lh.forEach((function(t){t.forEach((function(t){t.reject(new h(l.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Lh.clear()}(n),n.Sh.ji(e,i.Kh,i.Gh),[4,Da(n,i.jh)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function Ma(t,e){var n=m(t),r=n.kh.get(e);if(r&&r.Vh)return Mt().add(r.key);var i=Mt(),o=n.Fh.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Nh.get(s[a]);i=i.kt(u.view.dh)}return i}function Ra(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,Co((n=m(t)).ju,e.query,!0)];case 1:return i=r.sent(),o=e.view.Ph(i),[2,(n.Uh&&La(n,e.targetId,o.Rh),o)]}}))}))}function ja(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=m(t),r=m(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Lo(t,e).next((function(e){return e?n.Cc.kr(t,e):pr.resolve(null)}))}))}((o=m(t)).ju,e)];case 1:return null===(a=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,na(o.ph)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Sa(o,e,i||null),Oa(o,e),function(t,e){m(m(t).Sr).Ko(e)}(o.ju,e)):b(),r.label=4;case 4:return[4,Da(o,a)];case 5:return r.sent(),[3,7];case 6:p("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function Fa(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return qa(n=m(t)),Ha(n),!0!==e||!0===n.qh?[3,3]:(i=n.Sh.Ci(),[4,Ua(n,i.A())]);case 1:return o=r.sent(),n.qh=!0,[4,ca(n.ph,!0)];case 2:for(r.sent(),a=0,s=o;a<s.length;a++)Bo(n.ph,s[a]);return[3,7];case 3:return!1!==e||!1===n.qh?[3,7]:(u=[],c=Promise.resolve(),n.Fh.forEach((function(t,e){n.Sh.qi(e)?u.push(e):c=c.then((function(){return Ta(n,e),wo(n.ju,e,!0)})),qo(n.ph,e)})),[4,c]);case 4:return r.sent(),[4,Ua(n,u)];case 5:return r.sent(),function(t){var e=m(t);e.kh.forEach((function(t,n){qo(e.ph,n)})),e.Mh.Qc(),e.kh=new Map,e.$h=new kt(T.i)}(n),n.qh=!1,[4,ca(n.ph,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Ua(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l,h,f,d,p,v;return r.__generator(this,(function(r){switch(r.label){case 0:n=m(t),i=[],o=[],a=0,s=e,r.label=1;case 1:return a<s.length?(c=void 0,(l=n.Fh.get(u=s[a]))&&0!==l.length?[4,mo(n.ju,Kn(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=n.Nh.get(f[h]),[4,Ra(n,d)]):[3,6];case 4:(p=r.sent()).snapshot&&o.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,ko(n.ju,u)];case 8:return v=r.sent(),[4,mo(n.ju,v)];case 9:return c=r.sent(),[4,_a(n,Va(v),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return a++,[3,1];case 13:return[2,(n.Ch.yu(o),i)]}}))}))}function Va(t){return Dn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ka(t){var e=m(t);return m(m(e.ju).persistence).pi()}function za(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=m(t)).qh?(p("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Fh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Eo(o.ju)];case 3:return a=r.sent(),s=Kt.Xt(e,"current"===n),[4,Da(o,a,s)];case 4:return r.sent(),[3,8];case 5:return[4,wo(o.ju,e,!0)];case 6:return r.sent(),Ta(o,e,i),[3,8];case 7:b(),r.label=8;case 8:return[2]}}))}))}function Ba(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f;return r.__generator(this,(function(d){switch(d.label){case 0:if(!(i=qa(t)).qh)return[3,10];o=0,a=e,d.label=1;case 1:return o<a.length?i.Fh.has(s=a[o])?(p("SyncEngine","Adding an already active target "+s),[3,5]):[4,ko(i.ju,s)]:[3,6];case 2:return u=d.sent(),[4,mo(i.ju,u)];case 3:return c=d.sent(),[4,_a(i,Va(u),c.targetId,!1)];case 4:d.sent(),Bo(i.ph,c),d.label=5;case 5:return o++,[3,1];case 6:l=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return i.Fh.has(t)?[4,wo(i.ju,t,!1).then((function(){qo(i.ph,t),Ta(i,t)})).catch(Oo)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function qa(t){var e=m(t);return e.ph.Gu.sh=wa.bind(null,e),e.ph.Gu.qe=Ma.bind(null,e),e.ph.Gu.nh=ka.bind(null,e),e.Ch.yu=Dr.bind(null,e.bh),e.Ch.Wh=Nr.bind(null,e.bh),e}function Ha(t){var e=m(t);return e.ph.Gu.ih=Ea.bind(null,e),e.ph.Gu.rh=Ia.bind(null,e),e}var Wa=function(){function t(){}return t.prototype.Nc=function(t){this.zh=t},t.prototype.Lr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.p())}(e)||n.isEqual(ut.min())?this.Hh(t,e):this.zh.kr(t,r).next((function(a){var s=i.Yh(e,a);return(Mn(e)||Rn(e))&&i.Eh(e.an,s,r,n)?i.Hh(t,e):(d()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Gn(e)),i.zh.Lr(t,e,n).next((function(t){return s.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},t.prototype.Yh=function(t,e){var n=new Ot(Xn(t));return e.forEach((function(e,r){r instanceof Pn&&Qn(t,r)&&(n=n.add(r))})),n},t.prototype.Eh=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},t.prototype.Hh=function(t,e){return d()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Using full collection scan to execute query:",Gn(e)),this.zh.Lr(t,e,ut.min())},t}(),Ga=function(){function t(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Jh=1,this.Xh=new Ot(To.kc)}return t.prototype.$o=function(t){return pr.resolve(0===this.Sr.length)},t.prototype.ko=function(t,e,n,r){var i=this.Jh;this.Jh++;var o=new Xr(i,e,n,r);this.Sr.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.Xh=this.Xh.add(new To(u.key,i)),this.Dr.Mo(t,u.key.path.h())}return pr.resolve(o)},t.prototype.Oo=function(t,e){return pr.resolve(this.Zh(e))},t.prototype.Bo=function(t,e){var n=this.tl(e+1),r=n<0?0:n;return pr.resolve(this.Sr.length>r?this.Sr[r]:null)},t.prototype.qo=function(){return pr.resolve(0===this.Sr.length?-1:this.Jh-1)},t.prototype.Uo=function(t){return pr.resolve(this.Sr.slice())},t.prototype.Nr=function(t,e){var n=this,r=new To(e,0),i=new To(e,Number.POSITIVE_INFINITY),o=[];return this.Xh.Ft([r,i],(function(t){var e=n.Zh(t.jc);o.push(e)})),pr.resolve(o)},t.prototype.Or=function(t,e){var n=this,r=new Ot(J);return e.forEach((function(t){var e=new To(t,0),i=new To(t,Number.POSITIVE_INFINITY);n.Xh.Ft([e,i],(function(t){r=r.add(t.jc)}))})),pr.resolve(this.el(r))},t.prototype.Wr=function(t,e){var n=e.path,r=n.length+1,i=n;T.F(i)||(i=i.child(""));var o=new To(new T(i),0),a=new Ot(J);return this.Xh.xt((function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(a=a.add(t.jc)),!0)}),o),pr.resolve(this.el(a))},t.prototype.el=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Zh(t);null!==r&&n.push(r)})),n},t.prototype.Wo=function(t,e){var n=this;_(0===this.nl(e.batchId,"removed")),this.Sr.shift();var r=this.Xh;return pr.forEach(e.mutations,(function(i){var o=new To(i.key,e.batchId);return r=r.delete(o),n.No.Go(t,i.key)})).next((function(){n.Xh=r}))},t.prototype.Ko=function(t){},t.prototype.Ho=function(t,e){var n=new To(e,0),r=this.Xh.$t(n);return pr.resolve(e.isEqual(r&&r.key))},t.prototype.zo=function(t){return pr.resolve()},t.prototype.nl=function(t,e){return this.tl(t)},t.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},t.prototype.Zh=function(t){var e=this.tl(t);return e<0||e>=this.Sr.length?null:this.Sr[e]},t}(),Qa=function(){function t(t,e){this.Dr=t,this.sl=e,this.docs=new kt(T.i),this.size=0}return t.prototype.Er=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.sl(e);return this.docs=this.docs.ot(r,{ta:e,size:a,readTime:n}),this.size+=a-o,this.Dr.Mo(t,r.path.h())},t.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Rr=function(t,e){var n=this.docs.get(e);return pr.resolve(n?n.ta:null)},t.prototype.getEntries=function(t,e){var n=this,r=Lt();return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ta:null)})),pr.resolve(r)},t.prototype.Lr=function(t,e,n){for(var r=xt(),i=new T(e.path.child("")),o=this.docs.ft(i);o.At();){var a=o.It(),s=a.value,u=s.ta,c=s.readTime;if(!e.path.T(a.key.path))break;c.L(n)<=0||u instanceof Pn&&Qn(e,u)&&(r=r.ot(u.key,u))}return pr.resolve(r)},t.prototype.il=function(t,e){return pr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.ra=function(t){return new Xa(this)},t.prototype.aa=function(t){return pr.resolve(this.size)},t}(),Xa=function(t){function e(e){var n=this;return(n=t.call(this)||this).ca=e,n}return r.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[];return this.wr.forEach((function(r,i){i?n.push(e.ca.Er(t,i,e.readTime)):e.ca.Ar(r)})),pr.$n(n)},e.prototype.gr=function(t,e){return this.ca.Rr(t,e)},e.prototype.Pr=function(t,e){return this.ca.getEntries(t,e)},e}(Yr),Ja=function(){function t(t){this.persistence=t,this.rl=new at((function(t){return pt(t)}),vt),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.ol=0,this.al=new So,this.targetCount=0,this.cl=eo.fa()}return t.prototype.Ce=function(t,e){return this.rl.forEach((function(t,n){return e(n)})),pr.resolve()},t.prototype.Ea=function(t){return pr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ia=function(t){return pr.resolve(this.ol)},t.prototype.wa=function(t){return this.highestTargetId=this.cl.next(),pr.resolve(this.highestTargetId)},t.prototype.Aa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ol&&(this.ol=e),pr.resolve()},t.prototype.ga=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.cl=new eo(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},t.prototype.Ra=function(t,e){return this.ga(e),this.targetCount+=1,pr.resolve()},t.prototype.ya=function(t,e){return this.ga(e),pr.resolve()},t.prototype.Va=function(t,e){return this.rl.delete(e.target),this.al.Uc(e.targetId),this.targetCount-=1,pr.resolve()},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return this.rl.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.rl.delete(a),o.push(r.pa(t,s.targetId)),i++)})),pr.$n(o).next((function(){return i}))},t.prototype.ba=function(t){return pr.resolve(this.targetCount)},t.prototype.va=function(t,e){var n=this.rl.get(e)||null;return pr.resolve(n)},t.prototype.Sa=function(t,e,n){return this.al.Lc(e,n),pr.resolve()},t.prototype.Ca=function(t,e,n){this.al.qc(e,n);var r=this.persistence.No,i=[];return r&&e.forEach((function(e){i.push(r.Go(t,e))})),pr.$n(i)},t.prototype.pa=function(t,e){return this.al.Uc(e),pr.resolve()},t.prototype.Fa=function(t,e){var n=this.al.Wc(e);return pr.resolve(n)},t.prototype.Ho=function(t,e){return pr.resolve(this.al.Ho(e))},t}(),Ya=function(){function t(t){var e=this;this.ul={},this.Ma=new Fr(0),this.Oa=!1,this.Oa=!0,this.No=t(this),this.Ka=new Ja(this),this.Dr=new Ni,this.vr=function(t,n){return new Qa(t,(function(t){return e.No.hl(t)}))}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.tc=function(){},t.prototype.Ic=function(){return this.Dr},t.prototype.mc=function(t){var e=this.ul[t.ti()];return e||(e=new Ga(this.Dr,this.No),this.ul[t.ti()]=e),e},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new Za(this.Ma.next());return this.No.ll(),n(i).next((function(t){return r.No._l(i).next((function(){return t}))})).Fn().then((function(t){return i.br(),t}))},t.prototype.fl=function(t,e){return pr.kn(Object.values(this.ul).map((function(n){return function(){return n.Ho(t,e)}})))},t}(),Za=function(t){function e(e){var n=this;return(n=t.call(this)||this).xa=e,n}return r.__extends(e,t),e}($r),$a=function(){function t(t){this.persistence=t,this.dl=new So,this.wl=null}return t.ml=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw b()},enumerable:!1,configurable:!0}),t.prototype.Da=function(t,e,n){return this.dl.Da(n,e),this.Tl.delete(n.toString()),pr.resolve()},t.prototype.Na=function(t,e,n){return this.dl.Na(n,e),this.Tl.add(n.toString()),pr.resolve()},t.prototype.Go=function(t,e){return this.Tl.add(e.toString()),pr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.dl.Uc(e.targetId).forEach((function(t){return n.Tl.add(t.toString())}));var r=this.persistence.Tc();return r.Fa(t,e.targetId).next((function(t){t.forEach((function(t){return n.Tl.add(t.toString())}))})).next((function(){return r.Va(t,e)}))},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(t){var e=this,n=this.persistence.Ec().ra();return pr.forEach(this.Tl,(function(r){var i=T.D(r);return e.El(t,i).next((function(t){t||n.Ar(i)}))})).next((function(){return e.wl=null,n.apply(t)}))},t.prototype.yc=function(t,e){var n=this;return this.El(t,e).next((function(t){t?n.Tl.delete(e.toString()):n.Tl.add(e.toString())}))},t.prototype.hl=function(t){return 0},t.prototype.El=function(t,e){var n=this;return pr.kn([function(){return pr.resolve(n.dl.Ho(e))},function(){return n.persistence.Tc().Ho(t,e)},function(){return n.persistence.fl(t,e)}])},t}(),ts=function(){function t(t){this.Il=t.Il,this.Al=t.Al}return t.prototype.gu=function(t){this.Rl=t},t.prototype.Tu=function(t){this.gl=t},t.prototype.onMessage=function(t){this.Pl=t},t.prototype.close=function(){this.Al()},t.prototype.send=function(t){this.Il(t)},t.prototype.yl=function(){this.Rl()},t.prototype.Vl=function(t){this.gl(t)},t.prototype.pl=function(t){this.Pl(t)},t}(),es={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ns=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.W=e.W,n}return r.__extends(e,t),e.prototype.Nl=function(t,e,n,r){return new Promise((function(i,o){var a=new s.XhrIo;a.listenOnce(s.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var e=a.getResponseJson();p("Connection","XHR received:",JSON.stringify(e)),i(e);break;case s.ErrorCode.TIMEOUT:p("Connection",'RPC "'+t+'" timed out'),o(new h(l.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(p("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(l).indexOf(e)>=0?e:l.UNKNOWN}(r.status);o(new h(u,r.message))}else o(new h(l.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new h(l.UNAVAILABLE,"Connection failed."));break;default:b()}}finally{p("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);a.send(e,"POST",u,n,15)}))},e.prototype.Pu=function(t,e){var n=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=s.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(i.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p("Connection","Creating WebChannel: "+o,i);var u=r.createWebChannel(o,i),c=!1,f=!1,d=new ts({Il:function(t){f?p("Connection","Not sending because WebChannel is closed:",t):(c||(p("Connection","Opening WebChannel transport."),u.open(),c=!0),p("Connection","WebChannel sending:",t),u.send(t))},Al:function(){return u.close()}}),v=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return v(s.WebChannel.EventType.OPEN,(function(){f||p("Connection","WebChannel transport opened.")})),v(s.WebChannel.EventType.CLOSE,(function(){f||(f=!0,p("Connection","WebChannel transport closed"),d.Vl())})),v(s.WebChannel.EventType.ERROR,(function(t){f||(f=!0,y("Connection","WebChannel transport errored:",t),d.Vl(new h(l.UNAVAILABLE,"The operation could not be completed")))})),v(s.WebChannel.EventType.MESSAGE,(function(t){var e;if(!f){var n=t.data[0];_(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){p("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=gt[t];if(void 0!==e)return Ct(e)}(i),a=r.message;void 0===o&&(o=l.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),f=!0,d.Vl(new h(o,a)),u.close()}else p("Connection","WebChannel received:",n),d.pl(n)}})),setTimeout((function(){d.yl()}),0),d},e}(function(){function t(t){this.bl=t,this.U=t.U,this.vl=(t.ssl?"https":"http")+"://"+t.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.$u=function(t,e,n,r){var i=this.Dl(t,e);p("RestConnection","Sending: ",i,n);var o={};return this.Cl(o,r),this.Nl(t,i,o,n).then((function(t){return p("RestConnection","Received: ",t),t}),(function(e){throw y("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.ku=function(t,e,n,r){return this.$u(t,e,n,r)},t.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",t["Content-Type"]="text/plain",e)for(var n in e.Kc)e.Kc.hasOwnProperty(n)&&(t[n]=e.Kc[n])},t.prototype.Dl=function(t,e){return this.vl+"/v1/"+e+":"+es[t]},t}()),rs=function(){function t(){var t=this;this.Fl=function(){return t.xl()},this.$l=function(){return t.kl()},this.Ml=[],this.Ol()}return t.prototype.Zu=function(t){this.Ml.push(t)},t.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},t.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},t.prototype.xl=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},t.prototype.kl=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),is=function(){function t(){}return t.prototype.Zu=function(t){},t.prototype.Di=function(){},t}();function os(t){return new ye(t,!0)}var as="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",ss=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Sh=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.ju=this.Ql(t),[2]}}))}))},t.prototype.Ul=function(t){return null},t.prototype.Ql=function(t){return e=this.persistence,n=new Wa,new vo(e,n,t.Wl);var e,n},t.prototype.Bl=function(t){if(t.persistenceSettings.jl)throw new h(l.FAILED_PRECONDITION,as);return new Ya($a.ml)},t.prototype.Ll=function(t){return new Qr},t.prototype.terminate=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new h(l.FAILED_PRECONDITION,as)},t}(),us=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Kl.fi,this.Sh instanceof Gr?(this.Sh.fi={er:ja.bind(null,n),nr:za.bind(null,n),sr:Ba.bind(null,n),pi:Ka.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.Xa((function(t){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,Fa(this.Kl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ei?this.ql.start(this.ju):t||this.ql.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.Ll=function(t){if(t.persistenceSettings.jl&&t.persistenceSettings.synchronizeTabs){var e=Er();if(!Gr.Ln(e))throw new h(l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=po(t.bl.U,t.bl.persistenceKey);return new Gr(e,t.cs,n,t.clientId,t.Wl)}return new Qr},e}(function(t){function e(e){var n=this;return(n=t.call(this)||this).Kl=e,n}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Io(this.ju)];case 2:return n.sent(),[4,this.Kl.initialize(this,e)];case 3:return n.sent(),[4,Ha(this.Kl.fi)];case 4:return n.sent(),[4,na(this.Kl.ph)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ul=function(t){return new ai(this.persistence.No.wo,t.cs)},e.prototype.Bl=function(t){var e=po(t.bl.U,t.bl.persistenceKey),n=os(t.bl.U);return new uo(t.persistenceSettings.synchronizeTabs,e,t.clientId,oi.ao(t.persistenceSettings.cacheSizeBytes),t.cs,Er(),Ir(),n,this.Sh,t.persistenceSettings.ka)},e.prototype.Ll=function(t){return new Qr},e.prototype.clearPersistence=function(t,e){return function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return vr.Ln()?[4,vr.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(po(t,e))},e}(ss)),cs=function(){function t(){}return t.prototype.initialize=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ju?[3,2]:(this.ju=t.ju,this.Sh=t.Sh,this.Ku=this.Gl(e),this.ph=this.zl(e),this.bh=this.Hl(e),this.fi=this.Yl(e),this.Sh.di=function(t){return Ca(n.fi,t,1)},this.ph.Gu.Jl=Na.bind(null,this.fi),[4,ca(this.ph,this.fi.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.Hl=function(t){return new Lr},t.prototype.Gl=function(t){var e=os(t.bl.U),n=new ns(t.bl);return function(t,e,n){return new jo(t,e,n)}(t.credentials,n,e)},t.prototype.zl=function(t){var e,n,r,i,o,a=this;return e=this.ju,n=this.Ku,r=t.cs,i=function(t){return Ca(a.fi,t,0)},o=rs.Ln()?new rs:new is,new Uo(e,n,r,i,o)},t.prototype.Yl=function(t){return function(t,e,n,r,i,o,a){var s=new ga(t,e,n,r,i,o);return a&&(s.qh=!0),s}(this.ju,this.ph,this.bh,this.Sh,t.Wl,t.Dh,!t.persistenceSettings.jl||!t.persistenceSettings.synchronizeTabs)},t.prototype.terminate=function(){return zo(this.ph)},t}(),ls=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Xl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Xl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Zl=function(){this.muted=!0},t.prototype.Xl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),hs=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new h(l.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+G(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(D("FieldPath","string",e,t[e]),0===t[e].length)throw new h(l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new S(t)},fs=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return r.__extends(e,t),e.documentId=function(){return new e(S.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw q("isEqual","FieldPath",1,t);return this.t_.isEqual(t.t_)},e}(hs),ds=new RegExp("[~\\*/\\[\\]]"),ps=function(t){this.e_=t},vs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.n_=function(t){if(2!==t.s_)throw t.i_(1===t.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return t.We.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ps);function ys(t,e,n){return new Ts({s_:3,r_:e.settings.r_,methodName:t.e_,o_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.n_=function(t){return new sn(t.path,new Ye)},e.prototype.isEqual=function(t){return t instanceof e},e}(ps),bs=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=ys(this,t,!0),n=this.a_.map((function(t){return Ns(t,e)})),r=new Ze(n);return new sn(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ps),_s=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=ys(this,t,!0),n=this.a_.map((function(t){return Ns(t,e)})),r=new tn(n);return new sn(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ps),ms=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).c_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=new nn(t.serializer,_e(t.serializer,this.c_));return new sn(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ps),ws=function(){function t(t,e){if(L("GeoPoint",arguments,2),D("GeoPoint","number",1,t),D("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new h(l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new h(l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.u_=t,this.h_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.u_===t.u_&&this.h_===t.h_},t.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},t.prototype.Y=function(t){return J(this.u_,t.u_)||J(this.h_,t.h_)},t}(),Cs=function(t){this.l_=t},ks=/^__.*__$/,Es=function(t,e,n){this.__=t,this.f_=e,this.d_=n},Is=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[];return n.push(null!==this.We?new bn(t,this.data,this.We,e):new gn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new mn(t,this.fieldTransforms)),n},t}(),Os=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[new bn(t,this.data,this.We,e)];return this.fieldTransforms.length>0&&n.push(new mn(t,this.fieldTransforms)),n},t}();function Ss(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw b()}}var Ts=function(){function t(t,e,n,r,i,o){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.m_(),this.fieldTransforms=i||[],this.We=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),t.prototype.T_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},t.prototype.E_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.I_(t),r},t.prototype.A_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.m_(),r},t.prototype.R_=function(t){return this.T_({path:void 0,o_:!0})},t.prototype.i_=function(t){return Vs(t,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},t.prototype.contains=function(t){return void 0!==this.We.find((function(e){return t.T(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.T(e.field)}))},t.prototype.m_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},t.prototype.I_=function(t){if(0===t.length)throw this.i_("Document fields must not be empty");if(Ss(this.s_)&&ks.test(t))throw this.i_('Document fields cannot begin and end with "__"')},t}(),Ps=function(){function t(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||os(t)}return t.prototype.P_=function(t,e,n,r){return void 0===r&&(r=!1),new Ts({s_:t,methodName:e,r_:n,path:S.P(),o_:!1,g_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function Ls(t,e,n,r,i,o){void 0===o&&(o={});var a=t.P_(o.merge||o.mergeFields?2:0,e,n,i);js("Data must be an object, but it was:",a,r);var s,u,c=Ms(r,a);if(o.merge)s=new an(a.We),u=a.fieldTransforms;else if(o.mergeFields){for(var f=[],d=0,p=o.mergeFields;d<p.length;d++){var v=p[d],y=void 0;if(v instanceof hs)y=v.t_;else{if("string"!=typeof v)throw b();y=Us(e,v,n)}if(!a.contains(y))throw new h(l.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");Ks(f,y)||f.push(y)}s=new an(f),u=a.fieldTransforms.filter((function(t){return s.Ye(t.field)}))}else s=null,u=a.fieldTransforms;return new Is(new In(c),s,u)}function As(t,e,n,r){var i=t.P_(1,e,n);js("Data must be an object, but it was:",i,r);var o=[],a=new On;C(r,(function(t,r){var s=Us(e,t,n),u=i.A_(s);if(r instanceof vs||r instanceof Cs&&r.l_ instanceof vs)o.push(s);else{var c=Ns(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new an(o);return new Os(a.Xe(),s,i.fieldTransforms)}function xs(t,e,n,r,i,o){var a=t.P_(1,e,n),s=[Fs(e,r,n)],u=[i];if(o.length%2!=0)throw new h(l.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Fs(e,o[c])),u.push(o[c+1]);for(var f=[],d=new On,p=s.length-1;p>=0;--p)if(!Ks(f,s[p])){var v=s[p],y=u[p],g=a.A_(v);if(y instanceof vs||y instanceof Cs&&y.l_ instanceof vs)f.push(v);else{var b=Ns(y,g);null!=b&&(f.push(v),d.set(v,b))}}var _=new an(f);return new Os(d.Xe(),_,a.fieldTransforms)}function Ds(t,e,n,r){return void 0===r&&(r=!1),Ns(n,t.P_(r?4:3,e))}function Ns(t,e){if(t instanceof Cs&&(t=t.l_),Rs(t))return js("Unsupported field value:",e,t),Ms(t,e);if(t instanceof ps)return function(t,e){if(!Ss(e.s_))throw e.i_(t.e_+"() can only be used with update() and set()");if(!e.path)throw e.i_(t.e_+"() is not currently supported inside arrays");var n=t.n_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.We.push(e.path),t instanceof Array){if(e.settings.o_&&4!==e.s_)throw e.i_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Ns(o[i],e.R_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _e(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=st.fromDate(t);return{timestampValue:me(e.serializer,n)}}if(t instanceof st){var r=new st(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:me(e.serializer,r)}}if(t instanceof ws)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tt)return{bytesValue:we(e.serializer,t.q)};if(t instanceof Es){var i=e.U,o=t.__;if(!o.isEqual(i))throw e.i_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Ee(t.__||e.U,t.f_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.i_("Unsupported field value: "+K(t))}(t,e)}function Ms(t,e){var n={};return k(t)?e.path&&e.path.length>0&&e.We.push(e.path):C(t,(function(t,r){var i=Ns(r,e.E_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Rs(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof st||t instanceof ws||t instanceof tt||t instanceof Es||t instanceof ps)}function js(t,e,n){if(!Rs(n)||!V(n)){var r=K(n);throw e.i_("an object"===r?t+" a custom object":t+" "+r)}}function Fs(t,e,n){if(e instanceof hs)return e.t_;if("string"==typeof e)return Us(t,e);throw Vs("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Us(t,e,n){try{return function(t){if(t.search(ds)>=0)throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(fs.bind.apply(fs,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).t_}catch(e){throw Vs((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function Vs(t,e,n,r,i){var o=r&&!r.m(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new h(l.INVALID_ARGUMENT,(s+=". ")+t+u)}function Ks(t,e){return t.some((function(t){return t.isEqual(e)}))}var zs=function(){function t(t){this.Ku=t,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return t.prototype.v_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.S_(),this.mutations.length>0)throw new h(l.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u;return r.__generator(this,(function(r){switch(r.label){case 0:return n=m(t),i=Le(n.serializer)+"/documents",o={documents:e.map((function(t){return Oe(n.serializer,t)}))},[4,n.ku("BatchGetDocuments",i,o)];case 1:return a=r.sent(),s=new Map,a.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){_(!!e.found);var n=Se(t,e.found.name),r=ke(e.found.updateTime),i=new In({mapValue:{fields:e.found.fields}});return new Pn(n,r,i,{})}(t,e):"missing"in e?function(t,e){_(!!e.missing),_(!!e.readTime);var n=Se(t,e.missing),r=ke(e.readTime);return new Ln(n,r)}(t,e):b()}(n.serializer,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());_(!!e),u.push(e)})),u)]}}))}))}(this.Ku,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof Ln||t instanceof Pn?n.D_(t):b()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.w_(t,this.Ge(t))),this.b_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.w_(t,this.C_(t)))}catch(t){this.p_=t}this.b_.add(t.toString())},t.prototype.delete=function(t){this.write([new kn(t,this.Ge(t))]),this.b_.add(t.toString())},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.S_(),this.p_)throw this.p_;return t=this.y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=T.D(n);e.mutations.push(new En(r,e.Ge(r)))})),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=m(t),i=Le(n.serializer)+"/documents",o={writes:e.map((function(t){return De(n.serializer,t)}))},[4,n.$u("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.Ku,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}}))}))},t.prototype.D_=function(t){var e;if(t instanceof Pn)e=t.version;else{if(!(t instanceof Ln))throw b();e=ut.min()}var n=this.y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new h(l.ABORTED,"Document version changed between two reads.")}else this.y_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.y_.get(t.toString());return!this.b_.has(t.toString())&&e?cn.updateTime(e):cn.ze()},t.prototype.C_=function(t){var e=this.y_.get(t.toString());if(!this.b_.has(t.toString())&&e){if(e.isEqual(ut.min()))throw new h(l.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(e)}return cn.exists(!0)},t.prototype.write=function(t){this.S_(),this.mutations=this.mutations.concat(t)},t.prototype.S_=function(){},t}(),Bs=function(){function t(t,e,n,r){this.cs=t,this.Ku=e,this.updateFunction=n,this.ls=r,this.N_=5,this.ys=new dr(this.cs,"transaction_retry")}return t.prototype.run=function(){this.F_()},t.prototype.F_=function(){var t=this;this.ys.gn((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(r){return t=new zs(this.Ku),(e=this.x_(t))&&e.then((function(e){n.cs.ws((function(){return t.commit().then((function(){n.ls.resolve(e)})).catch((function(t){n.k_(t)}))}))})).catch((function(t){n.k_(t)})),[2]}))}))}))},t.prototype.x_=function(t){try{var e=this.updateFunction(t);return!ct(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.k_=function(t){var e=this;this.N_>0&&this.M_(t)?(this.N_-=1,this.cs.ws((function(){return e.F_(),Promise.resolve()}))):this.ls.reject(t)},t.prototype.M_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!wt(e)}return!1},t}(),qs=function(){function t(t,e){this.credentials=t,this.cs=e,this.clientId=X.k(),this.O_=new fr}return t.prototype.start=function(t,e,n,i){var o=this;this.L_(),this.bl=t;var a=new fr,s=!1;return this.credentials.Hc((function(t){if(!s)return s=!0,p("FirestoreClient","Initializing. user=",t.uid),o.B_(e,n,i,t,a).then(o.O_.resolve,o.O_.reject);o.cs.Cs((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=m(t)).cs.xs(),p("RemoteStore","RemoteStore received new credentials"),i=Xo(n),n.Yu.add(3),[4,Ko(n)];case 1:return r.sent(),i&&n.th.set("Unknown"),[4,n.Gu.Jl(e)];case 2:return r.sent(),n.Yu.delete(3),[4,Vo(n)];case 3:return r.sent(),[2]}}))}))}(o.ph,t)}))})),this.cs.ws((function(){return o.O_.promise})),a.promise},t.prototype.enableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!0),function(t){var e=m(t);return e.Yu.delete(0),Vo(e)}(t.ph)}))},t.prototype.B_=function(t,e,n,i,o){return r.__awaiter(this,void 0,void 0,(function(){var a,s,u=this;return r.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,t.initialize(a={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:i,Dh:100,persistenceSettings:n})];case 1:return c.sent(),[4,e.initialize(t,a)];case 2:return c.sent(),this.persistence=t.persistence,this.Sh=t.Sh,this.ju=t.ju,this.ql=t.ql,this.Ku=e.Ku,this.ph=e.ph,this.fi=e.fi,this.q_=e.bh,this.q_.Us=ba.bind(null,this.fi),this.q_.js=ma.bind(null,this.fi),this.persistence.Za((function(){return r.__awaiter(u,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(s=c.sent(),o.reject(s),!this.U_(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.B_(new ss,new cs,{jl:!1},i,o))];case 4:return[2]}}))}))},t.prototype.U_=function(t){return"FirebaseError"===t.name?t.code===l.FAILED_PRECONDITION||t.code===l.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.L_=function(){if(this.cs.ps)throw new h(l.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!1),function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=m(t)).Yu.add(0),[4,Ko(e)];case 1:return n.sent(),e.th.set("Offline"),[2]}}))}))}(t.ph)}))},t.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new fr;return this.cs.bs((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,zo(this.ph)];case 1:return r.sent(),[4,this.Sh.Di()];case 2:return r.sent(),[4,this.persistence.Di()];case 3:return r.sent(),this.credentials.Yc(),e.resolve(),[3,5];case 4:return t=r.sent(),n=Tr(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.L_();var e=new fr;return this.cs.ws((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:Xo((n=m(t)).ph)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=m(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Sr.qo(t)}))}(n.ju)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.Lh.get(i)||[]).push(e),n.Lh.set(i,o),[3,4]);case 3:return a=r.sent(),s=Tr(a,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}(t.fi,e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.L_();var i=new ls(n),o=new Rr(t,i,e);return this.cs.ws((function(){return Ar(r.q_,o)})),function(){i.Zl(),r.cs.ws((function(){return xr(r.q_,o)}))}},t.prototype.Q_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new fr,[2,(this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=m(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Cc.Cr(t,e)}))}(t,e)];case 1:return(i=r.sent())instanceof Pn?n.resolve(i):i instanceof Ln?n.resolve(null):n.reject(new h(l.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),a=Tr(o,"Failed to get document '"+e+" from cache"),n.reject(a),[3,3];case 3:return[2]}}))}))}(n.ju,t,e)})),e.promise)]}}))}))},t.prototype.W_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new fr,[2,(this.cs.ws((function(){return function(t,e,n,r,i){var o=new ls({next:function(o){e.ws((function(){return xr(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new h(l.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new h(l.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Rr(Nn(n.path),o,{includeMetadataChanges:!0,Xs:!0});return Ar(t,a)}(i.q_,i.cs,t,e,n)})),n.promise)]}}))}))},t.prototype.j_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new fr,[2,(this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Co(t,e,!0)];case 1:return i=r.sent(),o=new pa(e,i.Fc),a=o.wh(i.documents),s=o.yr(a,!1),n.resolve(s.snapshot),[3,3];case 2:return u=r.sent(),c=Tr(u,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))}(n.ju,t,e)})),e.promise)]}}))}))},t.prototype.K_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new fr,[2,(this.cs.ws((function(){return function(t,e,n,r,i){var o=new ls({next:function(n){e.ws((function(){return xr(t,a)})),n.fromCache&&"server"===r.source?i.reject(new h(l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Rr(n,o,{includeMetadataChanges:!0,Xs:!0});return Ar(t,a)}(i.q_,i.cs,t,e,n)})),n.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.L_();var n=new fr;return this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:i=Ha(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=m(t),i=st.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Mt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Cc.kr(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=pn(c,n.get(c.key));null!=l&&a.push(new bn(c.key,l,Sn(l.proto.mapValue),cn.exists(!0)))}return r.Sr.ko(t,i,a,e)}))})).then((function(t){var e=t.lr(n);return{batchId:t.batchId,wr:e}}))}(i.ju,e)];case 2:return o=r.sent(),i.Sh.xi(o.batchId),function(t,e,n){var r=t.Oh[t.currentUser.ti()];r||(r=new kt(J)),r=r.ot(e,n),t.Oh[t.currentUser.ti()]=r}(i,o.batchId,n),[4,Da(i,o.wr)];case 3:return r.sent(),[4,na(i.ph)];case 4:return r.sent(),[3,6];case 5:return a=r.sent(),s=Tr(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}(e.fi,t,n)})),n.promise},t.prototype.U=function(){return this.bl.U},t.prototype.G_=function(t){var e=this;this.L_();var n=new ls(t);return this.cs.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){m(t).qs.add(e),e.next()}(this.q_,n)]}))}))})),function(){n.Zl(),e.cs.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){m(t).qs.delete(e)}(this.q_,n)]}))}))}))}},Object.defineProperty(t.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.L_();var n=new fr;return this.cs.ws((function(){return new Bs(e.cs,e.Ku,t,n).run(),Promise.resolve()})),n.promise},t}();function Hs(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ws=function(){function t(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.H_=n,this.Y_=r,this.J_=i}return t.prototype.X_=function(t){switch($t(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ae(t.integerValue||t.doubleValue);case 3:return this.Z_(t.timestampValue);case 4:return this.tf(t);case 5:return t.stringValue;case 6:return this.J_(se(t.bytesValue));case 7:return this.ef(t.referenceValue);case 8:return this.nf(t.geoPointValue);case 9:return this.sf(t.arrayValue);case 10:return this.if(t.mapValue);default:throw b()}},t.prototype.if=function(t){var e=this,n={};return C(t.fields||{},(function(t,r){n[t]=e.X_(r)})),n},t.prototype.nf=function(t){return new ws(ae(t.latitude),ae(t.longitude))},t.prototype.sf=function(t){var e=this;return(t.values||[]).map((function(t){return e.X_(t)}))},t.prototype.tf=function(t){switch(this.H_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Jt(n)?t(n):n}(t);return null==e?null:this.X_(e);case"estimate":return this.Z_(Yt(t));default:return null}},t.prototype.Z_=function(t){var e=oe(t),n=new st(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.ef=function(t){var e=I.g(t);_(We(e));var n=new ot(e.get(1),e.get(3)),r=new T(e.u(5));return n.isEqual(this.U)||v("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(r)},t}(),Gs=oi.ho,Qs=function(){function t(t){var e,n,r,i,o;if(void 0===t.host){if(void 0!==t.ssl)throw new h(l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else M("settings","non-empty string","host",t.host),this.host=t.host,R("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(B("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),R("settings","object","credentials",t.credentials),this.credentials=t.credentials,R("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),R("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?v("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&v("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,R("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=oi._o;else{if(t.cacheSizeBytes!==Gs&&t.cacheSizeBytes<oi.lo)throw new h(l.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+oi.lo);this.cacheSizeBytes=t.cacheSizeBytes}R("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i,R("settings","boolean","experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(o=t.experimentalAutoDetectLongPolling)&&void 0!==o&&o,function(t,e,n,r){if(!0===e&&!0===r)throw new h(l.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Xs=function(){function t(e,n,i,o){var a=this;if(void 0===i&&(i=new ss),void 0===o&&(o=new cs),this.rf=i,this.af=o,this.cf=null,this.uf=new Sr,this.INTERNAL={delete:function(){return r.__awaiter(a,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.cf=s,this.__=t._f(s),this.ff=s.name,this.df=new Ao(n)}else{var u=e;if(!u.projectId)throw new h(l.INVALID_ARGUMENT,"Must provide projectId");this.__=new ot(u.projectId,u.database),this.ff="[DEFAULT]",this.df=new Lo}this.wf=new Qs({})}return Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Ps(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){L("Firestore.settings",arguments,1),D("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.wf),t)).merge;var e=new Qs(t);if(this.lf&&!this.wf.isEqual(e))throw new h(l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=e,void 0!==e.credentials&&(this.df=function(t){if(!t)return new Lo;switch(t.type){case"gapi":var e=t.client;return _(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Do(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new h(l.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.lf)throw new h(l.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&v("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new h(l.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:r,ka:i})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.lf&&!this.lf.z_)throw new h(l.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new fr,[2,(this.uf.bs((function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.hf(),Hs(t)?this.lf.G_(t):(D("Firestore.onSnapshotsInSync","function",1,t),this.lf.G_({next:t}))},t.prototype.hf=function(){return this.lf||this.Ef(new ss,new cs,{jl:!1}),this.lf},t.prototype.Af=function(){return new it(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},t.prototype.Ef=function(t,e,n){var r=this.Af();return this.lf=new qs(this.df,this.uf),this.lf.start(r,t,e,n)},t._f=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new h(l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new h(l.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ot(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new h(l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return L("Firestore.collection",arguments,1),D("Firestore.collection","non-empty string",1,t),this.hf(),new lu(I.g(t),this,null)},t.prototype.doc=function(t){return L("Firestore.doc",arguments,1),D("Firestore.doc","non-empty string",1,t),this.hf(),Zs.Rf(I.g(t),this,null)},t.prototype.collectionGroup=function(t){if(L("Firestore.collectionGroup",arguments,1),D("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new h(l.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new uu(function(t){return new xn(I.P(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return L("Firestore.runTransaction",arguments,1),D("Firestore.runTransaction","function",1,t),this.hf().transaction((function(n){return t(new Js(e,n))}))},t.prototype.batch=function(){return this.hf(),new Ys(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.ERROR:return"error";case o.LogLevel.SILENT:return"silent";case o.LogLevel.WARN:return"warn";case o.LogLevel.INFO:return"info";case o.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){L("Firestore.setLogLevel",arguments,1),F("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),f.setLogLevel(t)},t.prototype.gf=function(){return this.wf.timestampsInSnapshots},t.prototype.Pf=function(){return this.wf},t}(),Js=function(){function t(t,e){this.yf=t,this.Vf=e}return t.prototype.get=function(t){var e=this;L("Transaction.get",arguments,1);var n=pu("Transaction.get",t,this.yf);return this.Vf.v_([n.f_]).then((function(t){if(!t||1!==t.length)return b();var r=t[0];if(r instanceof Ln)return new tu(e.yf,n.f_,null,!1,!1,n.d_);if(r instanceof Pn)return new tu(e.yf,n.f_,r,!1,!1,n.d_);throw b()}))},t.prototype.set=function(t,e,n){x("Transaction.set",arguments,2,3);var r=pu("Transaction.set",t,this.yf);n=hu("Transaction.set",n);var i=yu(r.d_,e,n),o=Ls(this.yf.mf,"Transaction.set",r.f_,i,null!==r.d_,n);return this.Vf.set(r.f_,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof fs?(A("Transaction.update",arguments,3),r=pu("Transaction.update",t,this.yf),i=xs(this.yf.mf,"Transaction.update",r.f_,e,n,o)):(L("Transaction.update",arguments,2),r=pu("Transaction.update",t,this.yf),i=As(this.yf.mf,"Transaction.update",r.f_,e)),this.Vf.update(r.f_,i),this},t.prototype.delete=function(t){L("Transaction.delete",arguments,1);var e=pu("Transaction.delete",t,this.yf);return this.Vf.delete(e.f_),this},t}(),Ys=function(){function t(t){this.yf=t,this.pf=[],this.bf=!1}return t.prototype.set=function(t,e,n){x("WriteBatch.set",arguments,2,3),this.vf();var r=pu("WriteBatch.set",t,this.yf);n=hu("WriteBatch.set",n);var i=yu(r.d_,e,n),o=Ls(this.yf.mf,"WriteBatch.set",r.f_,i,null!==r.d_,n);return this.pf=this.pf.concat(o.w_(r.f_,cn.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.vf(),"string"==typeof e||e instanceof fs?(A("WriteBatch.update",arguments,3),r=pu("WriteBatch.update",t,this.yf),i=xs(this.yf.mf,"WriteBatch.update",r.f_,e,n,o)):(L("WriteBatch.update",arguments,2),r=pu("WriteBatch.update",t,this.yf),i=As(this.yf.mf,"WriteBatch.update",r.f_,e)),this.pf=this.pf.concat(i.w_(r.f_,cn.exists(!0))),this},t.prototype.delete=function(t){L("WriteBatch.delete",arguments,1),this.vf();var e=pu("WriteBatch.delete",t,this.yf);return this.pf=this.pf.concat(new kn(e.f_,cn.ze())),this},t.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},t.prototype.vf=function(){if(this.bf)throw new h(l.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Zs=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.__,e,r)||this).f_=e,i.firestore=n,i.d_=r,i.lf=i.firestore.hf(),i}return r.__extends(e,t),e.Rf=function(t,n,r){if(t.length%2!=0)throw new h(l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new T(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new lu(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(L("DocumentReference.collection",arguments,1),D("DocumentReference.collection","non-empty string",1,t),!t)throw new h(l.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=I.g(t);return new lu(this.f_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw q("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.f_.isEqual(t.f_)&&this.d_===t.d_},e.prototype.set=function(t,e){x("DocumentReference.set",arguments,1,2),e=hu("DocumentReference.set",e);var n=yu(this.d_,t,e),r=Ls(this.firestore.mf,"DocumentReference.set",this.f_,n,null!==this.d_,e);return this.lf.write(r.w_(this.f_,cn.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof fs?(A("DocumentReference.update",arguments,2),n=xs(this.firestore.mf,"DocumentReference.update",this.f_,t,e,r)):(L("DocumentReference.update",arguments,1),n=As(this.firestore.mf,"DocumentReference.update",this.f_,t)),this.lf.write(n.w_(this.f_,cn.exists(!0)))},e.prototype.delete=function(){return L("DocumentReference.delete",arguments,0),this.lf.write([new kn(this.f_,cn.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];x("DocumentReference.onSnapshot",arguments,1,4);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Hs(i[s])||(B("DocumentReference.onSnapshot",a=i[s],["includeMetadataChanges"]),R("DocumentReference.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++);var u={includeMetadataChanges:a.includeMetadataChanges};if(Hs(i[s])){var c=i[s];i[s]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[s+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[s+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else D("DocumentReference.onSnapshot","function",s,i[s]),N("DocumentReference.onSnapshot","function",s+1,i[s+1]),N("DocumentReference.onSnapshot","function",s+2,i[s+2]);var l={next:function(t){i[s]&&i[s](r.Sf(t))},error:i[s+1],complete:i[s+2]};return this.lf.listen(Nn(this.f_.path),u,l)},e.prototype.get=function(t){var e=this;x("DocumentReference.get",arguments,0,1),du("DocumentReference.get",t);var n=this.firestore.hf();return t&&"cache"===t.source?n.Q_(this.f_).then((function(t){return new tu(e.firestore,e.f_,t,!0,t instanceof Pn&&t.Je,e.d_)})):n.W_(this.f_,t).then((function(t){return e.Sf(t)}))},e.prototype.withConverter=function(t){return new e(this.f_,this.firestore,t)},e.prototype.Sf=function(t){var e=t.docs.get(this.f_);return new tu(this.firestore,this.f_,e,t.fromCache,t.hasPendingWrites,this.d_)},e}(Es),$s=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),tu=function(){function t(t,e,n,r,i,o){this.yf=t,this.f_=e,this.Df=n,this.Cf=r,this.Nf=i,this.d_=o}return t.prototype.data=function(t){var e=this;if(x("DocumentSnapshot.data",arguments,0,1),t=fu("DocumentSnapshot.data",t),this.Df){if(this.d_){var n=new eu(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(n,t)}return new Ws(this.yf.__,this.yf.gf(),t.serverTimestamps||"none",(function(t){return new Zs(t,e.yf,null)}),(function(t){return new rt(t)})).X_(this.Df.rn())}},t.prototype.get=function(t,e){var n=this;if(x("DocumentSnapshot.get",arguments,1,2),e=fu("DocumentSnapshot.get",e),this.Df){var r=this.Df.data().field(Fs("DocumentSnapshot.get",t,this.f_));if(null!==r)return new Ws(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",(function(t){return new Zs(t,n.yf,n.d_)}),(function(t){return new rt(t)})).X_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Zs(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new $s(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","DocumentSnapshot",1,e);return this.yf===e.yf&&this.Cf===e.Cf&&this.f_.isEqual(e.f_)&&(null===this.Df?null===e.Df:this.Df.isEqual(e.Df))&&this.d_===e.d_},t}(),eu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(tu);function nu(t,e,n,r,i,o,a){var s;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new h(l.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ou(a,o);for(var u=[],c=0,f=a;c<f.length;c++)u.push(iu(r,t,f[c]));s={arrayValue:{values:u}}}else s=iu(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ou(a,o),s=Ds(n,e,a,"in"===o||"not-in"===o);var d=Jn.create(i,o,s);return function(t,e){if(e.hn()){var n=Fn(t);if(null!==n&&!n.isEqual(e.field))throw new h(l.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=jn(t);null!==r&&au(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new h(l.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,d),d}function ru(t,e,n){if(null!==t.startAt)throw new h(l.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new h(l.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new cr(e,n);return function(t,e){if(null===jn(t)){var n=Fn(t);null!==n&&au(0,n,e.field)}}(t,r),r}function iu(t,e,n){if("string"==typeof n){if(""===n)throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Un(e)&&-1!==n.indexOf("/"))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(I.g(n));if(!T.F(r))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ue(t,new T(r))}if(n instanceof Es)return ue(t,n.f_);throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+K(n)+".")}function ou(t,e){if(!Array.isArray(t)||0===t.length)throw new h(l.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function au(t,e,n){if(!n.isEqual(e))throw new h(l.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function su(t){if(Rn(t)&&0===t.on.length)throw new h(l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var uu=function(){function t(t,e,n){this.Ff=t,this.firestore=e,this.d_=n}return t.prototype.where=function(e,n,r){L("Query.where",arguments,3),z("Query.where",3,r);var i=F("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),o=Fs("Query.where",e),a=nu(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new xn(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.Ff,a),this.firestore,this.d_)},t.prototype.orderBy=function(e,n){var r;if(x("Query.orderBy",arguments,1,2),N("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new h(l.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Fs("Query.orderBy",e),o=ru(this.Ff,i,r);return new t(function(t,e){var n=t.on.concat([e]);return new xn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.Ff,o),this.firestore,this.d_)},t.prototype.limit=function(e){return L("Query.limit",arguments,1),D("Query.limit","number",1,e),H("Query.limit",1,e),new t(zn(this.Ff,e,"F"),this.firestore,this.d_)},t.prototype.limitToLast=function(e){return L("Query.limitToLast",arguments,1),D("Query.limitToLast","number",1,e),H("Query.limitToLast",1,e),new t(zn(this.Ff,e,"L"),this.firestore,this.d_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];A("Query.startAt",arguments,1);var i=this.xf("Query.startAt",e,n,!0);return new t(Bn(this.Ff,i),this.firestore,this.d_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];A("Query.startAfter",arguments,1);var i=this.xf("Query.startAfter",e,n,!1);return new t(Bn(this.Ff,i),this.firestore,this.d_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];A("Query.endBefore",arguments,1);var i=this.xf("Query.endBefore",e,n,!0);return new t(qn(this.Ff,i),this.firestore,this.d_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];A("Query.endAt",arguments,1);var i=this.xf("Query.endAt",e,n,!1);return new t(qn(this.Ff,i),this.firestore,this.d_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","Query",1,e);return this.firestore===e.firestore&&Hn(this.Ff,e.Ff)&&this.d_===e.d_},t.prototype.withConverter=function(e){return new t(this.Ff,this.firestore,e)},t.prototype.xf=function(t,e,n,i){if(z(t,1,e),e instanceof tu)return L(t,r.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new h(l.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Vn(t);a<s.length;a++){var u=s[a];if(u.field.p())o.push(ue(e,r.key));else{var c=r.field(u.field);if(Jt(c))throw new h(l.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var f=u.field.R();throw new h(l.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(c)}}return new or(o,i)}(this.Ff,this.firestore.__,t,e.Df,i);var o=[e].concat(n);return function(t,e,n,r,i,o){var a=t.on;if(i.length>a.length)throw new h(l.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.p()){if("string"!=typeof c)throw new h(l.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Un(t)&&-1!==c.indexOf("/"))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var f=t.path.child(I.g(c));if(!T.F(f))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var d=new T(f);s.push(ue(e,d))}else{var p=Ds(n,r,c);s.push(p)}}return new or(s,o)}(this.Ff,this.firestore.__,this.firestore.mf,t,o,i)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];x("Query.onSnapshot",arguments,1,4);var a={},s=0;if("object"!=typeof i[s]||Hs(i[s])||(B("Query.onSnapshot",a=i[s],["includeMetadataChanges"]),R("Query.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++),Hs(i[s])){var u=i[s];i[s]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[s+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[s+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else D("Query.onSnapshot","function",s,i[s]),N("Query.onSnapshot","function",s+1,i[s+1]),N("Query.onSnapshot","function",s+2,i[s+2]);var c={next:function(t){i[s]&&i[s](new cu(r.firestore,r.Ff,t,r.d_))},error:i[s+1],complete:i[s+2]};return su(this.Ff),this.firestore.hf().listen(this.Ff,a,c)},t.prototype.get=function(t){var e=this;x("Query.get",arguments,0,1),du("Query.get",t),su(this.Ff);var n=this.firestore.hf();return(t&&"cache"===t.source?n.j_(this.Ff):n.K_(this.Ff,t)).then((function(t){return new cu(e.firestore,e.Ff,t,e.d_)}))},t}(),cu=function(){function t(t,e,n,r){this.yf=t,this.$f=e,this.kf=n,this.d_=r,this.Mf=null,this.Of=null,this.metadata=new $s(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;x("QuerySnapshot.forEach",arguments,1,2),D("QuerySnapshot.forEach","function",1,t),this.kf.docs.forEach((function(r){t.call(e,n.Lf(r,n.metadata.fromCache,n.kf.Wt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new uu(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(B("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),R("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.kf.Kt)throw new h(l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===e||(this.Mf=function(t,e,n){if(t.Qt.m()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Qt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),o=-1,a=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(a=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:vu(e.type),doc:r,oldIndex:o,newIndex:a}}))}(this.kf,e,this.Lf.bind(this)),this.Of=e),this.Mf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","QuerySnapshot",1,e);return this.yf===e.yf&&Hn(this.$f,e.$f)&&this.kf.isEqual(e.kf)&&this.d_===e.d_},t.prototype.Lf=function(t,e,n){return new eu(this.yf,t.key,t,e,n,this.d_)},t}(),lu=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Nn(e),n,r)||this).Bf=e,e.length%2!=1)throw new h(l.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Ff.path.h();return t.m()?null:new Zs(new T(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){x("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=X.k()),D("CollectionReference.doc","non-empty string",1,t);var e=I.g(t);return Zs.Rf(this.Ff.path.child(e),this.firestore,this.d_)},e.prototype.add=function(t){L("CollectionReference.add",arguments,1);var e=this.d_?this.d_.toFirestore(t):t;D("CollectionReference.add","object",1,e);var n=this.doc();return new Zs(n.f_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Bf,this.firestore,t)},e}(uu);function hu(t,e){if(void 0===e)return{merge:!1};if(B(t,e,["merge","mergeFields"]),R(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+K(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+K(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof fs}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new h(l.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function fu(t,e){return void 0===e?{}:(B(t,e,["serverTimestamps"]),j(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function du(t,e){N(t,"object",1,e),e&&(B(t,e,["source"]),j(t,0,"source",e.source,["default","server","cache"]))}function pu(t,e,n){if(e instanceof Es){if(e.firestore!==n)throw new h(l.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw q(t,"DocumentReference",1,e)}function vu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return b()}}function yu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var gu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.serverTimestamp=function(){P("FieldValue.serverTimestamp",arguments);var t=new gs("serverTimestamp");return t.e_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){P("FieldValue.delete",arguments);var t=new vs("deleteField");return t.e_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];A("FieldValue.arrayUnion",arguments,1);var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return A("arrayUnion()",arguments,1),new bs("arrayUnion",t)}).apply(void 0,t);return r.e_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];A("FieldValue.arrayRemove",arguments,1);var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return A("arrayRemove()",arguments,1),new _s("arrayRemove",t)}).apply(void 0,t);return r.e_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){D("FieldValue.increment","number",1,t),L("FieldValue.increment",arguments,1);var n=function(t){return new ms("increment",t)}(t);return n.e_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.l_.isEqual(t.l_)},e}(Cs),bu={Firestore:Xs,GeoPoint:ws,Timestamp:st,Blob:rt,Transaction:Js,WriteBatch:Ys,DocumentReference:Zs,DocumentSnapshot:tu,Query:uu,QueryDocumentSnapshot:eu,QuerySnapshot:cu,CollectionReference:lu,FieldPath:fs,FieldValue:gu,setLogLevel:Xs.setLogLevel,CACHE_SIZE_UNLIMITED:Gs};function _u(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){var n=new cs,r=new us(n);return new Xs(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},bu)))}(t),t.registerVersion("@firebase/firestore","1.18.0")}_u(c.default),e.__PRIVATE_registerFirestore=_u},"7JkV":function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("fXoL"),i=n("D6lp"),o=n("ofXK");function a(t,e){if(1&t){var n=r.Mb();r.Lb(0,"div",7),r.Lb(1,"button",8),r.Sb("click",(function(){r.dc(n);var t=r.Ub().$implicit;return r.Ub(2).deleteNote(t)})),r.ic(2,"Vymaza\u0165"),r.Kb(),r.Lb(3,"h5"),r.ic(4),r.Kb(),r.Lb(5,"div",9),r.Lb(6,"button",10),r.Sb("click",(function(){r.dc(n);var t=r.cc(21),e=r.Ub(3);return e.abcBold(),e.dataChangedAlert(t)})),r.ic(7,"b"),r.Kb(),r.Lb(8,"button",10),r.Sb("click",(function(){r.dc(n);var t=r.cc(21),e=r.Ub(3);return e.abcItalic(),e.dataChangedAlert(t)})),r.ic(9,"i"),r.Kb(),r.Lb(10,"button",10),r.Sb("click",(function(){r.dc(n);var t=r.cc(21),e=r.Ub(3);return e.abcUnderline(),e.dataChangedAlert(t)})),r.ic(11,"u"),r.Kb(),r.Lb(12,"button",11),r.Sb("click",(function(){r.dc(n);var t=r.cc(21),e=r.Ub(3);return e.abcBlack(),e.dataChangedAlert(t)})),r.ic(13,"b"),r.Kb(),r.Lb(14,"button",12),r.Sb("click",(function(){r.dc(n);var t=r.cc(21),e=r.Ub(3);return e.abcRed(),e.dataChangedAlert(t)})),r.ic(15,"r"),r.Kb(),r.Lb(16,"button",13),r.Sb("click",(function(){r.dc(n);var t=r.cc(21),e=r.Ub(3);return e.abcGreen(),e.dataChangedAlert(t)})),r.ic(17,"g"),r.Kb(),r.Lb(18,"div",14,15),r.Sb("keyup",(function(){r.dc(n);var t=r.cc(21);return r.Ub(3).dataChangedAlert(t)})),r.Kb(),r.Jb(20,"p",16,17),r.Kb(),r.Lb(22,"button",18),r.Sb("click",(function(){r.dc(n);var t=r.cc(19),e=r.Ub().$implicit;return r.Ub(2).updateNote(e,t.innerHTML)})),r.ic(23,"Upravi\u0165"),r.Kb(),r.Kb()}if(2&t){var i=r.Ub().$implicit;r.yb(4),r.jc(i.header),r.yb(14),r.Xb("innerHTML",i.text,r.ec),r.yb(2),r.Yb("id",i.text.concat(i.header))}}function s(t,e){if(1&t&&(r.Lb(0,"div"),r.hc(1,a,24,3,"div",5),r.Kb()),2&t){var n=e.$implicit,i=r.Ub(2);r.yb(1),r.Xb("ngIf",n.forItemId==i.item.id&&n.forGroup==i.group)}}function u(t,e){if(1&t){var n=r.Mb();r.Lb(0,"div",7),r.Lb(1,"h5"),r.ic(2,"Prida\u0165 pozn\xe1mku:"),r.Kb(),r.Lb(3,"label"),r.ic(4,"Nadpis"),r.Kb(),r.Jb(5,"input",19,20),r.Lb(7,"button",10),r.Sb("click",(function(){return r.dc(n),r.Ub(2).abcBold()})),r.ic(8,"b"),r.Kb(),r.Lb(9,"button",10),r.Sb("click",(function(){return r.dc(n),r.Ub(2).abcItalic()})),r.ic(10,"i"),r.Kb(),r.Lb(11,"button",10),r.Sb("click",(function(){return r.dc(n),r.Ub(2).abcUnderline()})),r.ic(12,"u"),r.Kb(),r.Lb(13,"button",11),r.Sb("click",(function(){return r.dc(n),r.Ub(2).abcBlack()})),r.ic(14,"b"),r.Kb(),r.Lb(15,"button",12),r.Sb("click",(function(){return r.dc(n),r.Ub(2).abcRed()})),r.ic(16,"r"),r.Kb(),r.Lb(17,"button",13),r.Sb("click",(function(){return r.dc(n),r.Ub(2).abcGreen()})),r.ic(18,"g"),r.Kb(),r.Jb(19,"div",21,15),r.Lb(21,"a",22),r.Sb("click",(function(){r.dc(n);var t=r.cc(6),e=r.cc(20);return r.Ub(2).addNote(t.value,e.innerHTML)})),r.ic(22,"Prida\u0165"),r.Kb(),r.Lb(23,"button",3),r.Sb("click",(function(){return r.dc(n),r.Ub(2).showAddNote=!1})),r.ic(24,"Zru\u0161i\u0165"),r.Kb(),r.Kb()}}function c(t,e){if(1&t){var n=r.Mb();r.Lb(0,"button",23),r.Sb("click",(function(){return r.dc(n),r.Ub(2).showAddNote=!0})),r.ic(1,"Prida\u0165 pozn\xe1mku"),r.Kb()}}function l(t,e){if(1&t){var n=r.Mb();r.Lb(0,"div",2),r.Lb(1,"button",3),r.Sb("click",(function(){return r.dc(n),r.Ub().closeNotes()})),r.ic(2,"X"),r.Kb(),r.Lb(3,"h5"),r.ic(4),r.Kb(),r.hc(5,s,2,1,"div",4),r.Vb(6,"async"),r.hc(7,u,25,0,"div",5),r.hc(8,c,2,0,"button",6),r.Kb()}if(2&t){var i=r.Ub();r.yb(4),r.jc(i.item.name),r.yb(1),r.Xb("ngForOf",r.Wb(6,4,i.notes)),r.yb(2),r.Xb("ngIf",i.showAddNote),r.yb(1),r.Xb("ngIf",!i.showAddNote)}}function h(t,e){if(1&t){var n=r.Mb();r.Lb(0,"div",24),r.Lb(1,"button",3),r.Sb("click",(function(){return r.dc(n),r.Ub().closeNotes()})),r.ic(2,"X"),r.Kb(),r.Lb(3,"h5"),r.ic(4,"Pros\xedm prihl\xe1ste sa..."),r.Kb(),r.Kb()}}var f=function(){var t=function(){function t(e){_classCallCheck(this,t),this.user=e,this.newItemEvent=new r.n,this.showAddNote=!1,this.notes=e.getItemList()}return _createClass(t,[{key:"ngOnInit",value:function(){this.userIsLoggedIn=null!=this.user.getUser()}},{key:"addNote",value:function(t,e){this.user.createNote({header:t,text:e,forItemId:this.item.id,forGroup:this.group}).catch((function(t){return Materialize.toast("Pozn\xe1mku sa nepodarilo ulo\u017ei\u0165...",2e3)})).then((function(){Materialize.toast("Pozn\xe1mka bola ulo\u017een\xe1...",2e3)}))}},{key:"dataChangedAlert",value:function(t){t.innerHTML="Zmeny neboli ulo\u017een\xe9..."}},{key:"deleteNote",value:function(t){this.user.deleteNote(t).catch((function(t){return Materialize.toast("Pozn\xe1mku sa nepodarilo odstr\xe1ni\u0165...",2e3)})).then((function(){Materialize.toast("Pozn\xe1mka bola odstr\xe1nen\xe1...",2e3)}))}},{key:"updateNote",value:function(t,e){this.user.updateSpecificNote(t,e).catch((function(t){return Materialize.toast("Pozn\xe1mku sa nepodarilo aktualizova\u0165...",2e3)})).then((function(){Materialize.toast("Pozn\xe1mka bola aktualizovan\xe1...",2e3)}))}},{key:"closeNotes",value:function(){this.newItemEvent.emit(null)}},{key:"abcBold",value:function(){document.execCommand("bold")}},{key:"abcItalic",value:function(){document.execCommand("italic")}},{key:"abcUnderline",value:function(){document.execCommand("underline")}},{key:"abcBlack",value:function(){document.execCommand("foreColor",!1,"rgba(0,0,0,1)")}},{key:"abcRed",value:function(){document.execCommand("foreColor",!1,"rgba(255,0,0,1)")}},{key:"abcGreen",value:function(){document.execCommand("foreColor",!1,"rgba(0,255,0,1)")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Ib(i.a))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-item-notes"]],inputs:{item:"item",group:"group"},outputs:{newItemEvent:"newItemEvent"},decls:2,vars:2,consts:[["class","card-panel blue lighten-5 mainPanel",4,"ngIf"],["class","card-panel blue lighten-5 logInfoBox",4,"ngIf"],[1,"card-panel","blue","lighten-5","mainPanel"],[1,"btn","red","btnClose",3,"click"],[4,"ngFor","ngForOf"],["class","card-panel white",4,"ngIf"],["class","btn",3,"click",4,"ngIf"],[1,"card-panel","white"],[1,"btn","red","waves-effect","waves-light","btnClose",3,"click"],[1,"input-field"],[1,"btn","btnTextChange",3,"click"],[1,"btn","black","black-text","btnTextChange",3,"click"],[1,"btn","red","red-text","btnTextChange",3,"click"],[1,"btn","green","green-text","btnTextChangeLast",3,"click"],["contenteditable","true",1,"noteText",3,"innerHTML","keyup"],["boxNotesNewText",""],[1,"red-text",3,"id"],["boxNotesInformation",""],[1,"btn","black-text","waves-effect","waves-light",3,"click"],["placeholder","Zadajte text...","type","text"],["head",""],["contenteditable","true",1,"noteTextAdd"],[1,"waves-effect","waves-light","btn",3,"click"],[1,"btn",3,"click"],[1,"card-panel","blue","lighten-5","logInfoBox"]],template:function(t,e){1&t&&(r.hc(0,l,9,6,"div",0),r.hc(1,h,5,0,"div",1)),2&t&&(r.Xb("ngIf",e.userIsLoggedIn),r.yb(1),r.Xb("ngIf",!e.userIsLoggedIn))},directives:[o.l,o.k],pipes:[o.b],styles:[".mainPanel[_ngcontent-%COMP%]{margin:0!important;overflow:scroll;max-height:400px;box-shadow:0 0 0 600px}.btnClose[_ngcontent-%COMP%]{float:right}.btnTextChange[_ngcontent-%COMP%]{margin-right:.25em}.btnTextChange[_ngcontent-%COMP%], .btnTextChangeLast[_ngcontent-%COMP%]{margin-bottom:.25em;font-size:14px;height:auto!important;padding:.55em!important;line-height:normal;width:28px!important}.noteText[_ngcontent-%COMP%], .noteTextAdd[_ngcontent-%COMP%]{padding:.5em;border:.35px solid #000}.noteTextAdd[_ngcontent-%COMP%]{margin-bottom:.25em}.logInfoBox[_ngcontent-%COMP%]{margin-bottom:5em}"]}),t}()},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,o){var a;switch(_classCallCheck(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),t,r,o)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,s){var u,c;_classCallCheck(this,n),(u=e.call(this))._parentSubscriber=t;var l=_assertThisInitialized(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"82nU":function(t,e,n){"use strict";n.r(e),n.d(e,"MainModule",(function(){return v}));var r,i,o,a,s=n("fXoL"),u=((i=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=s.Cb({type:i,selectors:[["app-news"]],decls:16,vars:0,consts:[[1,"card","horizontal"],[1,"card-image"],["src","https://image.flaticon.com/icons/png/512/226/226770.png",1,"newsImage"],[1,"card-stacked"],[1,"card-content"],[1,"headerParagraph"],[1,"card-action"],["href","#",1,"downloadAnchor"],[1,"infoSpan"]],template:function(t,e){1&t&&(s.Lb(0,"h4"),s.ic(1,"Novinky"),s.Kb(),s.Lb(2,"div",0),s.Lb(3,"div",1),s.Jb(4,"img",2),s.Kb(),s.Lb(5,"div",3),s.Lb(6,"div",4),s.Lb(7,"p",5),s.ic(8,"Mobiln\xe1 aplik\xe1cia"),s.Kb(),s.Lb(9,"p"),s.ic(10,"Pripravujeme pre v\xe1s aj mobiln\xfa aplik\xe1ciu NEOCALC pre syst\xe9m Android!"),s.Kb(),s.Kb(),s.Lb(11,"div",6),s.Lb(12,"a",7),s.ic(13,"STIAHNU\u0164 "),s.Lb(14,"span",8),s.ic(15,"(\u010doskoro)"),s.Kb(),s.Kb(),s.Kb(),s.Kb(),s.Kb())},styles:[".newsImage[_ngcontent-%COMP%]{width:150px!important;padding:20px!important}h4[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;margin-top:0!important;padding-bottom:.5em;padding-top:.5em}.headerParagraph[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{text-transform:uppercase}.headerParagraph[_ngcontent-%COMP%]{font-weight:700;color:#00f!important}.downloadAnchor[_ngcontent-%COMP%]{color:#000!important;font-weight:700}.infoSpan[_ngcontent-%COMP%]{font-weight:400}"]}),i),c=((r=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=s.Cb({type:r,selectors:[["app-main"]],decls:21,vars:0,consts:[[1,"row"],[1,"col","s10","offset-s1"],[1,"card-panel","blue","lighten-5"],[1,"left-align"],[1,"right-align"]],template:function(t,e){1&t&&(s.Lb(0,"div",0),s.Lb(1,"div",1),s.Lb(2,"h4"),s.ic(3,"O n\xe1s"),s.Kb(),s.Lb(4,"div",2),s.Lb(5,"p",3),s.ic(6," Port\xe1l NEOCALC vznikol pre zefekt\xedvnenie a u\u013eah\u010denie n\xe1ro\u010dnej pr\xe1ce na neonatologick\xfdch pracovisk\xe1ch na Slovensku. "),s.Kb(),s.Lb(7,"p",3),s.ic(8," Prim\xe1rne je tento port\xe1l navrhnut\xfd tak, aby pom\xe1hal pri pr\xe1ci lek\xe1rom a zdravotn\xedkom na novorodeneck\xfdch jednotk\xe1ch intenz\xedvnej starostlivosti bez oh\u013eadu na stupe\u0148 poskytovanej zdravotnej starostlivosti, av\u0161ak n\xe1pomocn\xfd m\xf4\u017ee by\u0165 aj lek\xe1rom na pracovisk\xe1ch poskytuj\xfacich z\xe1kladn\xfa zdravotn\xfa starostlivos\u0165 o fyziologick\xfdch novorodencov. "),s.Kb(),s.Lb(9,"p",3),s.ic(10," N\xe1jdete tu na jednom mieste datab\xe1zu liekov pou\u017e\xedvan\xfdch v neonatol\xf3gii, ktor\xfa pravidelne aktualizujeme a roz\u0161irujeme (s mo\u017enos\u0165ou vyu\u017eitia inteligentnej kalkula\u010dky), mnoh\xe9 n\xe1stroje a v\xfdpo\u010dty u\u017eito\u010dn\xe9 pri starostlivosti o deti na novorodeneck\xfdch jednotk\xe1ch intenz\xedvnej starostlivosti, automatizovan\xe9 grafy pre hodnotenie jednoduchej hyperbilirub\xedn\xe9mie, rastov\xe9 krivky pre chlapcov aj diev\u010dat\xe1 v novorodeneckom veku, odborn\xe9 odpor\xfa\u010dania pre zdravotn\xfa starostlivos\u0165 o novorodencov a mnoho in\xe9ho. "),s.Kb(),s.Lb(11,"p",3),s.ic(12," Na\u0161ou v\xedziou je vybudova\u0165 platformu, ktor\xe1 bude n\xe1pomocn\xe1 zdravotn\xedkom pracuj\xfacim na neonatologick\xfdch pracovisk\xe1ch na celom Slovensku a ktor\xe1 komplexne zhroma\u017ed\xed v\u0161etky potrebn\xe9 inform\xe1cie i n\xe1stroje potrebn\xe9 pri zdravotnej starostlivosti o novorodencov a syst\xe9mom \u201eall in one\u201c vytvor\xed stabiln\xe9 z\xe1zemie a poskytne pomoc v\u0161etk\xfdm, \u010di u\u017e za\u010d\xednaj\xfacim, alebo sk\xfasen\xfdm lek\xe1rom a zdravotn\xedkom pracuj\xfacim s pacientom v novorodeneckom veku. "),s.Kb(),s.Lb(13,"p",3),s.ic(14," Pre spr\xedstupnenie v\u0161etk\xfdch funkci\xed port\xe1lu a\xa0z\xedskanie mo\u017enosti zapisovania si vlastn\xfdch pozn\xe1mok, ktor\xe9 budete ma\u0165 v\u017edy a\xa0kdeko\u013evek k\xa0dispoz\xedcii aj vo va\u0161om mobilnom telef\xf3ne V\xe1m pon\xfakame mo\u017enos\u0165 bezplatnej registr\xe1cie. "),s.Kb(),s.Lb(15,"p",3),s.ic(16," Odborn\xfdm garantom platformy NEOCALC je krajsk\xe1 odborn\xed\u010dka MZ SR pre neonatol\xf3giu v Banskobystrickom kraji a prednostka Neonatologickej kliniky SZU FNsP F.D.Roosevelta v Banskej Bystrici - MUDr. Jana Nikolinyov\xe1, PhD. "),s.Kb(),s.Lb(17,"p",4),s.ic(18," Vitajte na port\xe1li NEOCALC ! "),s.Kb(),s.Kb(),s.Kb(),s.Lb(19,"div",1),s.Jb(20,"app-news"),s.Kb(),s.Kb())},directives:[u],styles:[".card-panel[_ngcontent-%COMP%]   .left-align[_ngcontent-%COMP%]{padding-bottom:1em}.phoneWarning[_ngcontent-%COMP%]{display:none}h4[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;margin-top:0!important;padding-bottom:.5em;padding-top:.5em}.row[_ngcontent-%COMP%]{margin-bottom:0}@media only screen and (max-width:800px){.phoneWarning[_ngcontent-%COMP%]{display:block}}"]}),r),l=n("tyNb"),h=[{path:"",component:c}],f=((o=function t(){_classCallCheck(this,t)}).\u0275mod=s.Gb({type:o}),o.\u0275inj=s.Fb({factory:function(t){return new(t||o)},imports:[[l.e.forChild(h)],l.e]}),o),d=n("ofXK"),p=n("jcKA"),v=((a=function t(){_classCallCheck(this,t)}).\u0275mod=s.Gb({type:a}),a.\u0275inj=s.Fb({factory:function(t){return new(t||a)},providers:[p.a],imports:[[d.c,f]]}),a)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[u.a](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a),o=i},D6lp:function(t,e,n){"use strict";n.d(e,"a",(function(){return B}));var r=n("fXoL"),i=n("UbJi"),o=n("D0XW"),a=n("HDdC"),s=n("LRne"),u=n("VRyK"),c=n("lJxs"),l=n("w1tV"),h=n("eIep"),f=n("Kqap"),d=n("7o/Q"),p=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new v(t,this.compare,this.keySelector))}}]),t}(),v=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(d.a),y=n("l7GE"),g=n("ZUHj"),b=function(){function t(e,n){_classCallCheck(this,t),this.observables=e,this.project=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new _(t,this.observables,this.project))}}]),t}(),_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;_classCallCheck(this,n),(o=e.call(this,t)).observables=r,o.project=i,o.toRespond=[];var a=r.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var u=0;u<a;u++){var c=r[u];o.add(Object(g.a)(_assertThisInitialized(o),c,void 0,u))}return o}return _createClass(n,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(_toConsumableArray(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(y.a),m=function(){function t(e){_classCallCheck(this,t),this.predicate=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new w(t,this.predicate))}}]),t}(),w=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).predicate=r,i.skipping=!0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}},{key:"tryCallPredicate",value:function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}}}]),n}(d.a),C=n("spgP"),k=n("NSPt"),E=n("Wcq6"),I=n.n(E);function O(t){return null==t}function S(t){return"function"==typeof t.set}function T(t,e){return S(e)?e:t.ref(e)}function P(t,e){if("string"==typeof t)return e.stringCase();if(S(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function L(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"on",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.b;return new a.a((function(i){var o;return o=t[n](e,(function(t,e){r.schedule((function(){i.next({snapshot:t,prevKey:e})})),"once"===n&&r.schedule((function(){return i.complete()}))}),(function(t){r.schedule((function(){return i.error(t)}))})),"on"===n?{unsubscribe:function(){null!=o&&t.off(e,o)}}:{unsubscribe:function(){}}})).pipe(Object(c.a)((function(t){var n=t.snapshot,r=t.prevKey,i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}})),Object(l.a)())}function A(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function x(t,e){var n=e.payload,r=e.prevKey,i=e.key,o=A(t,i),a=function(t,e){if(O(e))return 0;var n=A(t,e);return-1===n?t.length:n+1}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){var s=null;e.payload.forEach((function(e){var n={payload:e,type:"value",prevKey:s,key:e.key};return s=e.key,t=[].concat(_toConsumableArray(t),[n]),!1}))}return t;case"child_added":if(o>-1){var u=t[o-1];(u&&u.key||null)!==r&&(t=t.filter((function(t){return t.payload.key!==n.key}))).splice(a,0,e)}else{if(null==r)return[e].concat(_toConsumableArray(t));(t=t.slice()).splice(a,0,e)}return t;case"child_removed":return t.filter((function(t){return t.payload.key!==n.key}));case"child_changed":return t.map((function(t){return t.payload.key===i?e:t}));case"child_moved":if(o>-1){var c=t.splice(o,1)[0];return(t=t.slice()).splice(a,0,c),t}return t;default:return t}}function D(t){return(O(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function N(t,e,n){return function(t,e,n){return L(t,"value","once",n).pipe(Object(h.a)((function(r){var i=[Object(s.a)(r)];return e.forEach((function(e){return i.push(L(t,e,"on",n))})),Object(u.a).apply(void 0,i).pipe(Object(f.a)(x,[]))})),(function(t){return t.lift(new p(void 0,void 0))}))}(t,e=D(e),n)}function M(t,e,n){var r=(e=D(e)).map((function(e){return L(t,e,"on",n)}));return Object(u.a).apply(void 0,_toConsumableArray(r))}function R(t,e){return function(n,r){return P(n,{stringCase:function(){return t.child(n)[e](r)},firebaseCase:function(){return n[e](r)},snapshotCase:function(){return n.ref[e](r)}})}}function j(t,e){return function(){return L(t,"value","on",e)}}var F,U,V=new r.q("angularfire2.realtimeDatabaseURL"),K=((F=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.schedulers=new C.d(o),this.keepUnstableUntilFirst=Object(C.f)(this.schedulers),this.database=o.runOutsideAngular((function(){var t=Object(C.e)(e,o,n);return k.registerDatabase&&Object(k.registerDatabase)(I.a),t.database(r||void 0)}))}return _createClass(t,[{key:"list",value:function(t,e){var n=T(this.database,t),r=n;return e&&(r=e(n)),function(t,e){var n,r=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run((function(){return t.ref}));return{query:t,update:R(i,"update"),set:R(i,"set"),push:function(t){return i.push(t)},remove:(n=i,function(t){return t?P(t,{stringCase:function(){return n.child(t).remove()},firebaseCase:function(){return t.remove()},snapshotCase:function(){return t.ref.remove()}}):n.remove()}),snapshotChanges:function(n){return N(t,n,r).pipe(e.keepUnstableUntilFirst)},stateChanges:function(n){return M(t,n,r).pipe(e.keepUnstableUntilFirst)},auditTrail:function(n){return function(t,e,n){return function(t,e,n){return function(t,e){return L(t,"value","on",e).pipe(Object(c.a)((function(t){var e;return t.payload.forEach((function(t){return e=t.key,!1})),{data:t,lastKeyToLoad:e}})))}(t,n).pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new b(e,n))}}(e),Object(c.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=n.lastKeyToLoad,o=r.map((function(t){return t.key}));return{actions:r,lastKeyToLoad:i,loadedKeys:o}})),(r=function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)},function(t){return t.lift(new m(r))}),Object(c.a)((function(t){return t.actions})));var r}(t,M(t,e).pipe(Object(f.a)((function(t,e){return[].concat(_toConsumableArray(t),[e])}),[])),n)}(t,n,r).pipe(e.keepUnstableUntilFirst)},valueChanges:function(n){return N(t,n,r).pipe(Object(c.a)((function(t){return t.map((function(t){return t.payload.val()}))})),e.keepUnstableUntilFirst)}}}(r,this)}},{key:"object",value:function(t){var e,n,r=T(this.database,t);return n=this,{query:e=r,snapshotChanges:function(){return j(e,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst)},update:function(t){return e.ref.update(t)},set:function(t){return e.ref.set(t)},remove:function(){return e.ref.remove()},valueChanges:function(){return j(e,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst,Object(c.a)((function(t){return t.payload.exists()?t.payload.val():null})))}}}},{key:"createPushId",value:function(){return this.database.ref().push().key}}]),t}()).\u0275fac=function(t){return new(t||F)(r.Pb(C.c),r.Pb(C.b,8),r.Pb(V,8),r.Pb(r.B),r.Pb(r.z))},F.\u0275prov=Object(r.Eb)({factory:function(){return new F(Object(r.Pb)(C.c),Object(r.Pb)(C.b,8),Object(r.Pb)(V,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z))},token:F,providedIn:"any"}),F),z=n("I/3d"),B=((U=function(){function t(e,n,r){_classCallCheck(this,t),this.auth=e,this.db=n,this.afs=r,this.user=null,this.allPatients={allPatients:[]},this.checkState()}return _createClass(t,[{key:"getItemList",value:function(){return this.allNotes}},{key:"getItemSaved",value:function(){return this.allPatients}},{key:"createNote",value:function(t){var e=this;return new Promise((function(n,r){e.db.list("notes/"+e.user.uid).push(t).catch((function(t){r()})).then((function(){n()}))}))}},{key:"createPatient",value:function(t){var e=this;return new Promise((function(n,r){var i=[];null!=e.allPatients&&(i=e.allPatients.allPatients),null!=i&&i.length>=6?r():(null==i?i=[t]:i.push(t),e.afs.collection("dataSaved").doc(e.user.uid).set({allPatients:i}).finally((function(){return n()})))}))}},{key:"deletePatient",value:function(t){var e=this;return new Promise((function(n,r){var i=[];e.allPatients.allPatients.forEach((function(e){e.name!=t.name&&i.push(e)})),e.afs.collection("dataSaved").doc(e.user.uid).set({allPatients:i}).then((function(){return n()}))}))}},{key:"addDataToPatient",value:function(t,e){var n=this;return new Promise((function(r,i){n.allPatients.allPatients.forEach((function(n){n.name==t&&n.saved.push(e)})),n.afs.collection("dataSaved").doc(n.user.uid).set({allPatients:n.allPatients.allPatients}).then((function(){return r()}))}))}},{key:"deleteDataToPatient",value:function(t,e){var n=this;return new Promise((function(r,i){n.allPatients.allPatients.forEach((function(n){if(n.name==t){var r=[];n.saved.forEach((function(t){t!=e&&r.push(t)})),n.saved=r}})),n.afs.collection("dataSaved").doc(n.user.uid).set({allPatients:n.allPatients.allPatients}).then((function(){return r()}))}))}},{key:"getItemId",value:function(t){var e="";return this.db.database.ref("notes").child(""+this.user.uid).on("value",(function(n){n.forEach((function(n){n.val().text==t.text&&(e=n.key)}))})),e}},{key:"deleteNote",value:function(t){var e=this;return new Promise((function(n,r){var i=e.getItemId(t);""!=i?e.db.list("notes/".concat(e.user.uid,"/").concat(i)).remove().then((function(){return n()})):r()}))}},{key:"updateNote",value:function(t,e){var n=this;return new Promise((function(r,i){var o=n.getItemId(t);""!=o?n.db.database.ref("notes").child(""+n.user.uid).child(""+o).set({header:t.header,text:e}).then((function(){return r()})):i()}))}},{key:"updateSpecificNote",value:function(t,e){var n=this;return new Promise((function(r,i){var o=n.getItemId(t);""!=o?n.db.database.ref("notes").child(""+n.user.uid).child(""+o).set({header:t.header,text:e,forItemId:t.forItemId,forGroup:t.forGroup}).then((function(){return r()})):i()}))}},{key:"checkState",value:function(){var t=this;this.auth.onAuthStateChanged((function(e){e?(t.user=e,t.allNotes=t.db.list("notes/"+e.uid).valueChanges(),t.afs.collection("dataSaved").doc(t.user.uid).valueChanges().subscribe((function(e){t.allPatients=e}))):t.user=null}))}},{key:"updateUserName",value:function(t){var e=this;return new Promise((function(n,r){e.auth.onAuthStateChanged((function(e){e&&e.updateProfile({displayName:t})})).catch((function(t){r()})).finally((function(){return n()}))}))}},{key:"updateUserPassword",value:function(t){var e=this;return new Promise((function(n,r){e.auth.onAuthStateChanged((function(e){e&&e.updatePassword(t)})).catch((function(t){r()})).finally((function(){return n()}))}))}},{key:"getUser",value:function(){return this.user}}]),t}()).\u0275fac=function(t){return new(t||U)(r.Pb(i.a),r.Pb(K),r.Pb(z.a))},U.\u0275prov=r.Eb({token:U,factory:U.\u0275fac,providedIn:"root"}),U)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},DKVz:function(t,e,n){"use strict";function r(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return k}));var i=n("fXoL"),o=n("LRne"),a=n("EY2u"),s=n("HDdC"),u=n("DH7j"),c=n("n6bG"),l=n("lJxs"),h=n("7o/Q"),f=n("D0XW"),d=function(){function t(e,n){_classCallCheck(this,t),this.dueTime=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new p(t,this.dueTime,this.scheduler))}}]),t}(),p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(v,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(h.a);function v(t){t.debouncedNext()}var y,g,b,_=n("eIep"),m=function(){function t(e){_classCallCheck(this,t),this.changes=e}return _createClass(t,[{key:"notEmpty",value:function(t){if(this.changes[t]){var e=this.changes[t].currentValue;if(null!=e)return Object(o.a)(e)}return a.a}},{key:"has",value:function(t){if(this.changes[t]){var e=this.changes[t].currentValue;return Object(o.a)(e)}return a.a}},{key:"notFirst",value:function(t){if(this.changes[t]&&!this.changes[t].isFirstChange()){var e=this.changes[t].currentValue;return Object(o.a)(e)}return a.a}},{key:"notFirstAndEmpty",value:function(t){if(this.changes[t]&&!this.changes[t].isFirstChange()){var e=this.changes[t].currentValue;if(null!=e)return Object(o.a)(e)}return a.a}}],[{key:"of",value:function(e){return new t(e)}}]),t}(),w=new i.q("NGX_ECHARTS_CONFIG"),C=((y=function(){function t(e,n,r){_classCallCheck(this,t),this.el=n,this.ngZone=r,this.autoResize=!0,this.loadingType="default",this.chartInit=new i.n,this.optionsError=new i.n,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.currentOffsetWidth=0,this.currentOffsetHeight=0,this.echarts=e.echarts}return _createClass(t,[{key:"ngOnChanges",value:function(t){var e=this,n=m.of(t);n.notFirstAndEmpty("options").subscribe((function(t){return e.onOptionsChange(t)})),n.notFirstAndEmpty("merge").subscribe((function(t){return e.setOption(t)})),n.has("loading").subscribe((function(t){return e.toggleLoading(!!t)})),n.notFirst("theme").subscribe((function(){return e.refreshChart()}))}},{key:"ngOnInit",value:function(){var t=this;this.resizeSub=function t(e,n,r,i){return Object(c.a)(r)&&(i=r,r=void 0),i?t(e,n,r).pipe(Object(l.a)((function(t){return Object(u.a)(t)?i.apply(void 0,_toConsumableArray(t)):i(t)}))):new s.a((function(t){!function t(e,n,r,i,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),a=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,h=e.length;l<h;l++)t(e[l],n,r,i,o)}i.add(a)}(e,n,(function(e){t.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),t,r)}))}(window,"resize").pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a;return function(n){return n.lift(new d(t,e))}}(50)).subscribe((function(){t.autoResize&&window.innerWidth!==t.currentWindowWidth&&(t.currentWindowWidth=window.innerWidth,t.currentOffsetWidth=t.el.nativeElement.offsetWidth,t.currentOffsetHeight=t.el.nativeElement.offsetHeight,t.resize())}))}},{key:"ngOnDestroy",value:function(){this.resizeSub&&this.resizeSub.unsubscribe(),this.dispose()}},{key:"ngDoCheck",value:function(){if(this.chart&&this.autoResize){var t=this.el.nativeElement.offsetWidth,e=this.el.nativeElement.offsetHeight;this.currentOffsetWidth===t&&this.currentOffsetHeight===e||(this.currentOffsetWidth=t,this.currentOffsetHeight=e,this.resize())}}},{key:"ngAfterViewInit",value:function(){var t=this;setTimeout((function(){return t.initChart()}))}},{key:"dispose",value:function(){this.chart&&(this.chart.dispose(),this.chart=null)}},{key:"resize",value:function(){this.chart&&this.chart.resize()}},{key:"toggleLoading",value:function(t){this.chart&&(t?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())}},{key:"setOption",value:function(t,e){if(this.chart)try{this.chart.setOption(t,e)}catch(n){console.error(n),this.optionsError.emit(n)}}},{key:"refreshChart",value:function(){return r(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.dispose(),t.next=3,this.initChart();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"createChart",value:function(){var t=this;this.currentWindowWidth=window.innerWidth,this.currentOffsetWidth=this.el.nativeElement.offsetWidth,this.currentOffsetHeight=this.el.nativeElement.offsetHeight;var e=this.el.nativeElement;if(window&&window.getComputedStyle){var n=window.getComputedStyle(e,null).getPropertyValue("height");n&&"0px"!==n||e.style.height&&"0px"!==e.style.height||(e.style.height="400px")}return this.ngZone.runOutsideAngular((function(){return("function"==typeof t.echarts?t.echarts:function(){return Promise.resolve(t.echarts)})().then((function(n){return(0,n.init)(e,t.theme,t.initOpts)}))}))}},{key:"initChart",value:function(){return r(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.onOptionsChange(this.options);case 2:this.merge&&this.chart&&this.setOption(this.merge);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"onOptionsChange",value:function(t){return r(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=9;break}if(e.t1=this.chart,e.t1){e.next=8;break}return e.next=6,this.createChart();case 6:this.chart=e.sent,this.chartInit.emit(this.chart);case 8:this.setOption(this.options,!0);case 9:case"end":return e.stop()}}),e,this)})))}},{key:"createLazyEvent",value:function(t){var e=this;return this.chartInit.pipe(Object(_.a)((function(n){return new s.a((function(r){return n.on(t,(function(t){return e.ngZone.run((function(){return r.next(t)}))})),function(){return n.off(t)}}))})))}}]),t}()).\u0275fac=function(t){return new(t||y)(i.Ib(w),i.Ib(i.l),i.Ib(i.z))},y.\u0275dir=i.Db({type:y,selectors:[["echarts"],["","echarts",""]],inputs:{autoResize:"autoResize",loadingType:"loadingType",options:"options",theme:"theme",loading:"loading",initOpts:"initOpts",merge:"merge",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartPieSelectChanged:"chartPieSelectChanged",chartPieSelected:"chartPieSelected",chartPieUnselected:"chartPieUnselected",chartMapSelectChanged:"chartMapSelectChanged",chartMapSelected:"chartMapSelected",chartMapUnselected:"chartMapUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartFocusNodeAdjacency:"chartFocusNodeAdjacency",chartUnfocusNodeAdjacency:"chartUnfocusNodeAdjacency",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],features:[i.wb]}),y),k=((b=g=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(t){return{ngModule:g,providers:[{provide:w,useValue:t}]}}},{key:"forChild",value:function(){return{ngModule:g}}}]),t}()).\u0275mod=i.Gb({type:b}),b.\u0275inj=i.Fb({factory:function(t){return new(t||b)},imports:[[]]}),b)},E0Iw:function(t,e,n){"use strict";n.r(e),n.d(e,"KrivkyModule",(function(){return k}));var r,i=n("ofXK"),o=n("DKVz"),a=(n("HTFn"),n("tyNb")),s=n("fXoL"),u=n("I/3d"),c=((r=function(){function t(e){_classCallCheck(this,t),this.afs=e,this.items=this.afs.collection("rastkrivky").doc("rastKrivkyAll").valueChanges()}return _createClass(t,[{key:"getItems",value:function(){return this.items}}]),t}()).\u0275fac=function(t){return new(t||r)(s.Pb(u.a))},r.\u0275prov=s.Eb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),l=n("PWRg");function h(t,e){1&t&&(s.Lb(0,"div",3),s.Lb(1,"div",4),s.Lb(2,"div",5),s.Jb(3,"div",6),s.Kb(),s.Lb(4,"div",7),s.Jb(5,"div",6),s.Kb(),s.Lb(6,"div",8),s.Jb(7,"div",6),s.Kb(),s.Kb(),s.Kb())}function f(t,e){if(1&t){var n=s.Mb();s.Lb(0,"div"),s.Jb(1,"div",15),s.Lb(2,"div",16),s.Lb(3,"p"),s.ic(4),s.Kb(),s.Lb(5,"label"),s.ic(6,"Gesta\u010dn\xfd t\xfd\u017ede\u0148"),s.Kb(),s.Jb(7,"input",17,18),s.Lb(9,"label"),s.ic(10),s.Kb(),s.Jb(11,"input",17,19),s.Lb(13,"button",20),s.Sb("click",(function(){s.dc(n);var t=s.cc(8),e=s.cc(12),r=s.cc(16),i=s.Ub().$implicit;return s.Ub(2).evaluation(i.key.name,t.value,e.value,r)})),s.ic(14,"vypo\u010d\xedta\u0165"),s.Kb(),s.Lb(15,"p",21,22),s.ic(17,"Zadajte \xfadaje die\u0165a\u0165a"),s.Kb(),s.Kb(),s.Kb()}if(2&t){var r=s.Ub().$implicit;s.yb(1),s.Xb("options",r.value),s.yb(3),s.jc(r.key.name),s.yb(6),s.jc(r.key.fields[0]),s.yb(5),s.Yb("id",r.key.name)}}function d(t,e){if(1&t&&(s.Lb(0,"div"),s.hc(1,f,18,4,"div",2),s.Jb(2,"div",14),s.Kb()),2&t){var n=e.$implicit,r=s.Ub(2);s.yb(1),s.Xb("ngIf",r.forBoys&&n.key.name.includes("chlapcov")||r.forGirls&&n.key.name.includes("diev\u010dat\xe1"))}}function p(t,e){if(1&t&&(s.Lb(0,"a",26),s.ic(1),s.Jb(2,"br"),s.Kb()),2&t){var n=e.$implicit;s.Yb("href",n,s.fc),s.yb(1),s.jc(n)}}function v(t,e){if(1&t&&(s.Lb(0,"div",23),s.Lb(1,"p",24),s.ic(2,"Zdroje:"),s.Kb(),s.hc(3,p,3,2,"a",25),s.Kb()),2&t){var n=s.Ub(2);s.yb(3),s.Xb("ngForOf",n.sources)}}var y=function(t){return{turnRed:t}};function g(t,e){if(1&t){var n=s.Mb();s.Lb(0,"div"),s.Lb(1,"h4"),s.ic(2,"Rastov\xe9 krivky - Fenton 2013"),s.Kb(),s.Lb(3,"div",9),s.Lb(4,"button",10),s.Sb("click",(function(){return s.dc(n),s.Ub().switchGirls()})),s.ic(5,"Pre diev\u010dat\xe1"),s.Kb(),s.Lb(6,"button",11),s.Sb("click",(function(){return s.dc(n),s.Ub().switchBoys()})),s.ic(7,"Pre chlapcov"),s.Kb(),s.Kb(),s.hc(8,d,3,1,"div",12),s.Vb(9,"keyvalue"),s.hc(10,v,4,1,"div",13),s.Kb()}if(2&t){var r=s.Ub();s.yb(4),s.Xb("ngClass",s.ac(6,y,!r.forGirls)),s.yb(2),s.Xb("ngClass",s.ac(8,y,!r.forBoys)),s.yb(2),s.Xb("ngForOf",s.Wb(9,4,r.graphs)),s.yb(2),s.Xb("ngIf",null!=r.sources)}}var b,_,m,w=[{path:"",component:(b=function(){function t(e,n){_classCallCheck(this,t),this.itemService=e,this.calc=n,this.isLoading=!1,this.graphs=new Map,this.listValues=new Map,this.forBoys=!1,this.forGirls=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.itemService.getItems().subscribe((function(e){e.all.forEach((function(e){t.saveGraphOptions(e,{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:e.legend},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:e.data}],yAxis:[{type:"value",data:[e.name]}],series:e.series})}))}))}},{key:"saveGraphOptions",value:function(t,e){this.graphs.set(t,e),this.listValues[t.name]=this.buildCalculationListOfValues(t)}},{key:"buildCalculationListOfValues",value:function(t){var e=new Map,n=0;return t.data.forEach((function(r){var i=[];t.series.forEach((function(t){i.push(t.data[n])})),e[r]=i,n++})),e}},{key:"evaluation",value:function(t,e,n,r){r.innerHTML=this.calc.calculateResultRastKrivky(this.listValues[t],e,n)}},{key:"switchBoys",value:function(){this.forBoys=!this.forBoys}},{key:"switchGirls",value:function(){this.forGirls=!this.forGirls}}]),t}(),b.\u0275fac=function(t){return new(t||b)(s.Ib(c),s.Ib(l.a))},b.\u0275cmp=s.Cb({type:b,selectors:[["app-krivky"]],decls:4,vars:2,consts:[["href","https://drive.google.com/file/d/1rMo5AGOTSr0EEq7U9627BYlbmJrs6Zi4/view?usp=sharing","target","_blank",1,"about"],["class","preloader-wrapper big active container",4,"ngIf"],[4,"ngIf"],[1,"preloader-wrapper","big","active","container"],[1,"spinner-layer","spinner-blue-only"],[1,"circle-clipper","left"],[1,"circle"],[1,"gap-patch"],[1,"circle-clipper","right"],[1,"center"],[1,"btn","girls",3,"ngClass","click"],[1,"btn","boys",3,"ngClass","click"],[4,"ngFor","ngForOf"],["class","sourcesBox",4,"ngIf"],[1,"divider"],["echarts","","theme","macarons",1,"demo-chart",3,"options"],[1,"container"],["type","number","placeholder","Enter value..."],["boxGestWeek",""],["boxInputValue",""],[1,"btn","waves-effect","waves-light",3,"click"],[1,"resultParagraph",3,"id"],["boxResult",""],[1,"sourcesBox"],[1,"boldText"],["target","_blank",3,"href",4,"ngFor","ngForOf"],["target","_blank",3,"href"]],template:function(t,e){1&t&&(s.Lb(0,"a",0),s.ic(1,"N\xe1vod na pou\u017eitie"),s.Kb(),s.hc(2,h,8,0,"div",1),s.hc(3,g,11,10,"div",2)),2&t&&(s.yb(2),s.Xb("ngIf",e.isLoading),s.yb(1),s.Xb("ngIf",!e.isLoading))},directives:[i.l,i.j,i.k,o.a],pipes:[i.f],styles:[".boys[_ngcontent-%COMP%]{margin-left:3em}.boys[_ngcontent-%COMP%], .girls[_ngcontent-%COMP%]{background:green;margin-bottom:2em}.turnRed[_ngcontent-%COMP%]{background:red}.preloader-wrapper[_ngcontent-%COMP%]{margin-bottom:3%!important;display:block!important}h4[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;margin-top:0!important;padding-top:.5em;padding-left:2em;text-transform:uppercase}.resultParagraph[_ngcontent-%COMP%]{font-size:18px;text-align:center;font-weight:700;padding:5px;border:1px solid green}.sourcesBox[_ngcontent-%COMP%]{padding-left:2em;padding-bottom:2em;word-break:break-all}.about[_ngcontent-%COMP%], .boldText[_ngcontent-%COMP%]{font-weight:700}.about[_ngcontent-%COMP%]{text-transform:uppercase;float:right;margin-right:2em;margin-top:1em}@media only screen and (max-width:800px){h4[_ngcontent-%COMP%]{padding-left:.5em!important}.boys[_ngcontent-%COMP%], .girls[_ngcontent-%COMP%]{width:80%;margin-bottom:1em!important}.boys[_ngcontent-%COMP%]{margin-left:0!important}}"]}),b)}],C=((m=function t(){_classCallCheck(this,t)}).\u0275mod=s.Gb({type:m}),m.\u0275inj=s.Fb({factory:function(t){return new(t||m)},imports:[[a.e.forChild(w)],a.e]}),m),k=((_=function t(){_classCallCheck(this,t)}).\u0275mod=s.Gb({type:_}),_.\u0275inj=s.Fb({factory:function(t){return new(t||_)},imports:[[i.c,o.b.forRoot({echarts:function(){return n.e(1).then(n.t.bind(null,"MT78",7))}}),C]]}),_)},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},Ektc:function Ektc(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CalculatorComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),CalculatorComponent=function(){var CalculatorComponent=function(){function CalculatorComponent(){_classCallCheck(this,CalculatorComponent),this.result=""}return _createClass(CalculatorComponent,[{key:"clear",value:function(){this.result=""}},{key:"addCharacter",value:function(t){"Nespr\xe1vny vstup!"==this.result&&(this.result=""),this.result+=t}},{key:"calculate",value:function calculate(){try{this.result=eval(this.result).toFixed(2)}catch(e){this.result="Nespr\xe1vny vstup!"}}},{key:"ngOnInit",value:function(){}}]),CalculatorComponent}();return CalculatorComponent.\u0275fac=function(t){return new(t||CalculatorComponent)},CalculatorComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Cb({type:CalculatorComponent,selectors:[["app-calculator"]],decls:64,vars:1,consts:[[1,"container"],[1,"row"],[1,"col","s12","l4","offset-l4","xl4","offset-xl4"],[1,"card-panel","blue-grey","lighten-3","right-align","screen"],[1,"black-text","result"],[1,"buttons"],[1,"col","s3"],["type","button",1,"waves-effect","waves-light","btn",3,"click"],["type","button",1,"waves-effect","waves-light","orange","accent-3","btn",3,"click"],[1,"col","s6"],["type","button",1,"waves-effect","waves-light","btn","btn-special",3,"click"]],template:function(t,e){1&t&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(2,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(4,"span",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(6,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(7,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(8,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.clear()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(9,"C"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(10,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(11,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter("(")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(12,"("),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(13,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(14,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter(")")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(15,")"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(16,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(17,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter("/")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(18,"\xf7"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(19,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(20,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter("7")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(21,"7"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(22,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(23,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter("8")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(24,"8"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(25,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(26,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter("9")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(27,"9"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(28,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(29,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter("*")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(30,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(31,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(32,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter("4")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(33,"4"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(34,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(35,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter("5")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(36,"5"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(37,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(38,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter("6")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(39,"6"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(40,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(41,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter("-")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(42,"-"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(43,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(44,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter("1")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(45,"1"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(46,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(47,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter("2")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(48,"2"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(49,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(50,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter("3")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(51,"3"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(52,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(53,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter("+")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(54,"+"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(55,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(56,"button",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter("0")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(57,"0"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(58,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(59,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.addCharacter(".")})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(60,"."),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(61,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lb(62,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb("click",(function(){return e.calculate()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(63,"="),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb()),2&t&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.yb(5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.jc(e.result))},styles:[".screen[_ngcontent-%COMP%]{height:120px}.result[_ngcontent-%COMP%]{font-size:2em;margin-top:10em}.btn[_ngcontent-%COMP%]{float:left;height:80px;font-size:1.2em;border:1px solid;width:5.4vw;margin-left:-.6vw}.btn-special[_ngcontent-%COMP%]{width:10.7vw}body[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;min-height:80vh;-ms-flex-direction:column;flex-direction:column}main[_ngcontent-%COMP%]{-ms-flex:1 0 auto;flex:1 0 auto}@media (max-width:600px){body[_ngcontent-%COMP%]{margin-top:2vh}.btn[_ngcontent-%COMP%]{width:21vw;margin-left:-2vw}.btn-special[_ngcontent-%COMP%]{width:43.5vw}}"]}),CalculatorComponent}()},F4UR:function(t,e,n){"use strict";n.r(e),n.d(e,"LoginModule",(function(){return v}));var r,i,o,a=n("tyNb"),s=n("ofXK"),u=n("3Pt+"),c=n("fXoL"),l=n("UbJi"),h=n("D6lp"),f=function(){return["/register"]},d=[{path:"",component:(r=function(){function t(e,n,r,i){_classCallCheck(this,t),this.fb=e,this.auth=n,this.router=r,this.logcheck=i}return _createClass(t,[{key:"ngOnInit",value:function(){this.loginForm=this.fb.group({email:new u.c("",u.k.required),password:new u.c("",[u.k.required,u.k.minLength(6)])})}},{key:"login",value:function(){var t=this,e="",n=this.loginForm.value,r=n.email,i=n.password;this.auth.signInWithEmailAndPassword(r,i).then((function(){return t.logcheck.checkState()})).then((function(){return t.router.navigate([""])})).catch((function(t){e="Nepodarilo sa prihl\xe1si\u0165. Nespr\xe1vny email alebo heslo!"})).finally((function(){return t.message=e}))}},{key:"resetPassword",value:function(){var t=this,e=this.loginForm.value.email,n="";this.auth.sendPasswordResetEmail(e).then((function(){n="Email s odkazom na obnovu hesla bol odoslan\xfd. Pros\xedm skontorujte si Va\u0161u emailov\xfa schr\xe1nku"})).catch((function(t){n="Email s odkazom na obnovu hesla sa nepodarilo odosla\u0165. Pros\xedm skontrolujte, \u010di ste zadali spr\xe1vne emailov\xfa adresu."})).finally((function(){return t.message=n}))}}]),t}(),r.\u0275fac=function(t){return new(t||r)(c.Ib(u.b),c.Ib(l.a),c.Ib(a.a),c.Ib(h.a))},r.\u0275cmp=c.Cb({type:r,selectors:[["app-login-form"]],decls:20,vars:4,consts:[[1,"form",3,"formGroup"],[1,"input-field"],["type","text","formControlName","email","required","",1,"validate"],["type","password","formControlName","password","required","",1,"validate"],[1,"form-footer"],[1,"btn","waves-effect","waves-light",3,"click"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"waves-effect","waves-light","btn","white","blue-text",2,"width","inherit",3,"click"],[1,"message-box"]],template:function(t,e){1&t&&(c.Lb(0,"form",0),c.Lb(1,"h2"),c.ic(2,"Prihl\xe1senie"),c.Kb(),c.Lb(3,"div",1),c.Lb(4,"label"),c.ic(5,"E-mail"),c.Kb(),c.Jb(6,"input",2),c.Kb(),c.Lb(7,"div",1),c.Lb(8,"label"),c.ic(9,"Heslo"),c.Kb(),c.Jb(10,"input",3),c.Kb(),c.Lb(11,"div",4),c.Lb(12,"button",5),c.Sb("click",(function(){return e.login()})),c.ic(13,"Prihl\xe1si\u0165 sa"),c.Kb(),c.Lb(14,"a",6),c.ic(15,"Zaregistrova\u0165 sa"),c.Kb(),c.Kb(),c.Lb(16,"button",7),c.Sb("click",(function(){return e.resetPassword()})),c.ic(17,"Resetova\u0165 heslo"),c.Kb(),c.Lb(18,"p",8),c.ic(19),c.Kb(),c.Kb()),2&t&&(c.Xb("formGroup",e.loginForm),c.yb(14),c.Xb("routerLink",c.Zb(3,f)),c.yb(5),c.jc(e.message))},directives:[u.l,u.h,u.e,u.a,u.g,u.d,u.j,a.d,a.c],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100vh}.form[_ngcontent-%COMP%]{width:20rem}.form-footer[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}h2[_ngcontent-%COMP%]{margin-bottom:1em}.message-box[_ngcontent-%COMP%]{font-weight:700}"]}),r)}],p=((o=function t(){_classCallCheck(this,t)}).\u0275mod=c.Gb({type:o}),o.\u0275inj=c.Fb({factory:function(t){return new(t||o)},imports:[[a.e.forChild(d)],a.e]}),o),v=((i=function t(){_classCallCheck(this,t)}).\u0275mod=c.Gb({type:i}),i.\u0275inj=c.Fb({factory:function(t){return new(t||i)},imports:[[s.c,a.e,u.f,u.i,p]]}),i)},Gc80:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("ofXK"),i=n("fXoL"),o=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Gb({type:t}),t.\u0275inj=i.Fb({factory:function(e){return new(e||t)},imports:[[r.c]]}),t}()},Gmzl:function(t,e,n){"use strict";n.r(e),n.d(e,"InfuziaModule",(function(){return R}));var r,i=n("UXLv"),o=n("Gc80"),a=n("ofXK"),s=n("fXoL"),u=n("I/3d"),c=((r=function(){function t(e){_classCallCheck(this,t),this.afs=e,this.items=this.afs.collection("infuzie").doc("infuzieAll").valueChanges()}return _createClass(t,[{key:"getItems",value:function(){return this.items}}]),t}()).\u0275fac=function(t){return new(t||r)(s.Pb(u.a))},r.\u0275prov=s.Eb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),l=n("J5iy"),h=n("D6lp"),f=n("qN0D"),d=n("7JkV");function p(t,e){1&t&&(s.Lb(0,"div",8),s.Lb(1,"div",9),s.Lb(2,"div",10),s.Jb(3,"div",11),s.Kb(),s.Lb(4,"div",12),s.Jb(5,"div",11),s.Kb(),s.Lb(6,"div",13),s.Jb(7,"div",11),s.Kb(),s.Kb(),s.Kb())}function v(t,e){1&t&&(s.Lb(0,"h4"),s.ic(1,"Inf\xfazie"),s.Kb())}function y(t,e){if(1&t){var n=s.Mb();s.Lb(0,"div",14),s.Lb(1,"input",15,16),s.Sb("keyup",(function(){s.dc(n);var t=s.cc(2);return s.Ub().searchValue(t.value)})),s.Kb(),s.Lb(3,"label",17),s.Lb(4,"i",18),s.ic(5,"search"),s.Kb(),s.Kb(),s.Kb()}}function g(t,e){if(1&t){var n=s.Mb();s.Lb(0,"app-informations",19),s.Sb("newItemEvent",(function(t){return s.dc(n),s.Ub().closeItem(t)})),s.Kb()}if(2&t){var r=s.Ub();s.Xb("item",r.moreInfoItem)}}function b(t,e){if(1&t){var n=s.Mb();s.Lb(0,"app-item-notes",20),s.Sb("newItemEvent",(function(t){return s.dc(n),s.Ub().closeNotes(t)})),s.Kb()}if(2&t){var r=s.Ub();s.Xb("item",r.notesForItem)("group",r.group)}}function _(t,e){if(1&t&&(s.Lb(0,"div",23),s.ic(1),s.Kb()),2&t){var n=s.Ub().$implicit;s.yb(1),s.kc(" ",n.name," ")}}function m(t,e){if(1&t&&(s.Lb(0,"a",34),s.Lb(1,"span"),s.ic(2,"ADC/MEDIATELY"),s.Kb(),s.Kb()),2&t){var n=s.Ub(2).$implicit;s.Yb("href",n.link2,s.fc)}}function w(t,e){1&t&&(s.Lb(0,"a",35),s.Lb(1,"span"),s.ic(2,"ADC/MEDIATELY"),s.Kb(),s.Kb())}function C(t,e){if(1&t){var n=s.Mb();s.Lb(0,"input-field"),s.Lb(1,"label"),s.ic(2),s.Kb(),s.Lb(3,"input",36,37),s.Sb("keyup",(function(){s.dc(n);var t=e.$implicit,r=s.cc(4);s.Ub();var i=s.cc(13),o=s.Ub().$implicit;return s.Ub().evaluation(o,t.concat(o.id),i,r)})),s.Kb(),s.Kb()}if(2&t){var r=e.$implicit,i=s.Ub(2).$implicit;s.yb(2),s.jc(r),s.yb(1),s.Yb("id",r.concat(i.id))}}function k(t,e){if(1&t){var n=s.Mb();s.Lb(0,"button",38),s.Sb("click",(function(){return s.dc(n),s.Ub(3).showPatients()})),s.ic(1,"Zobrazi\u0165 pacientov"),s.Kb()}}function E(t,e){if(1&t){var n=s.Mb();s.Lb(0,"div"),s.Lb(1,"button",39,40),s.Sb("click",(function(){s.dc(n);var t=e.$implicit,r=s.cc(2),i=s.Ub(2).$implicit;return s.Ub().createSavedData(i,t,r)})),s.ic(3),s.Kb(),s.Kb()}if(2&t){var r=e.$implicit;s.yb(3),s.kc("Ulo\u017ei\u0165 v\xfdpo\u010det - ",r.name,"")}}function I(t,e){if(1&t){var n=s.Mb();s.Lb(0,"div",24),s.Lb(1,"div",25),s.Lb(2,"button",26),s.Sb("click",(function(){s.dc(n);var t=s.Ub().$implicit;return s.Ub().autofill(t)})),s.ic(3,"preddefinovan\xe9 hodnoty"),s.Kb(),s.Lb(4,"button",27),s.Sb("click",(function(){s.dc(n);var t=s.Ub().$implicit;return s.Ub().openItemNotes(t)})),s.ic(5,"Pozn\xe1mky"),s.Kb(),s.Lb(6,"button",28),s.Sb("click",(function(){s.dc(n);var t=s.Ub().$implicit;return s.Ub().openItem(t)})),s.ic(7,"Viac inform\xe1cii"),s.Kb(),s.hc(8,m,3,1,"a",29),s.hc(9,w,3,0,"a",30),s.Kb(),s.Lb(10,"div"),s.hc(11,C,5,2,"input-field",7),s.Lb(12,"p",31,32),s.ic(14,"Zadajte \xfadaje"),s.Kb(),s.Kb(),s.hc(15,k,2,0,"button",33),s.hc(16,E,4,1,"div",7),s.Kb()}if(2&t){var r=s.Ub().$implicit,i=s.Ub();s.yb(8),s.Xb("ngIf",r.link2),s.yb(1),s.Xb("ngIf",!r.link2),s.yb(2),s.Xb("ngForOf",r.parameters),s.yb(4),s.Xb("ngIf",0==i.patients.length),s.yb(1),s.Xb("ngForOf",i.patients)}}function O(t,e){if(1&t&&(s.Lb(0,"li"),s.hc(1,_,2,1,"div",21),s.hc(2,I,17,5,"div",22),s.Kb()),2&t){var n=e.$implicit,r=s.Ub();s.yb(1),s.Xb("ngIf",n.name.toLowerCase().includes(r.search)),s.yb(1),s.Xb("ngIf",n.name.toLowerCase().includes(r.search))}}var S,T,P=((T=function(){function t(e,n,r){_classCallCheck(this,t),this.itemService=e,this.calc=n,this.user=r,this.inputValues=new Map,this.isLoading=!0,this.search="",this.moreInfoItem=null,this.notesForItem=null,this.group="infuzie",this.patients=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;$(".collapsible").collapsible(),$(".collapsible .collapsible").collapsible(),$(document).ready((function(){$(".tooltipped").tooltip()})),this.itemService.getItems().subscribe((function(e){t.allItems=e.all.sort((function(t,e){return t.name>e.name?1:t.name<e.name?-1:0})),t.isLoading=!1}));var e=this.user.getItemSaved();this.patients=e.allPatients}},{key:"autofill",value:function(t){var e=this;t.fill&&Object.keys(t.fill).forEach((function(n){var r=document.getElementById(n);r.value=t.fill[n],e.evaluation(t,n,null,r)}))}},{key:"searchValue",value:function(t){this.search=t.toLowerCase()}},{key:"evaluation",value:function(t,e,n,r){this.inputValues[e]=r.value.toString(),null!=n&&(n.innerHTML=this.calc.evaluation(this.inputValues,t))}},{key:"closeItem",value:function(t){this.moreInfoItem=t}},{key:"closeNotes",value:function(t){this.notesForItem=t}},{key:"openItem",value:function(t){this.closeNotes(null),this.moreInfoItem=t}},{key:"openItemNotes",value:function(t){this.closeItem(null),this.notesForItem=t}},{key:"showPatients",value:function(){var t=this.user.getItemSaved();this.patients=t.allPatients,0==this.patients.length&&Materialize.toast("Nem\xe1te vytvoren\xfdch \u017eiadnych pacientov...",2e3)}},{key:"createSavedData",value:function(t,e,n){var r={item:t,dataInputs:JSON.stringify(this.inputValues)};this.saveDataToDB(e.name,r,n)}},{key:"saveDataToDB",value:function(t,e,n){var r=this;this.user.addDataToPatient(t,e).then((function(){Materialize.toast("V\xfdpo\u010det bol ulo\u017een\xfd",2e3),n.innerHTML="Ulo\u017een\xe9 - "+t,n.disabled=!0,r.inputValues.clear()}))}}]),t}()).\u0275fac=function(t){return new(t||T)(s.Ib(c),s.Ib(l.a),s.Ib(h.a))},T.\u0275cmp=s.Cb({type:T,selectors:[["app-items"]],decls:9,vars:6,consts:[["class","preloader-wrapper big active container",4,"ngIf"],[4,"ngIf"],["class","input-field container",4,"ngIf"],[1,"panels"],[3,"item","newItemEvent",4,"ngIf"],[3,"item","group","newItemEvent",4,"ngIf"],["materialize","collapsible",1,"collapsible","popout"],[4,"ngFor","ngForOf"],[1,"preloader-wrapper","big","active","container"],[1,"spinner-layer","spinner-blue-only"],[1,"circle-clipper","left"],[1,"circle"],[1,"gap-patch"],[1,"circle-clipper","right"],[1,"input-field","container"],["id","search","type","search","placeholder","               Zadajte h\u013eadan\xfd v\xfdraz...",3,"keyup"],["searchBox",""],["for","search"],[1,"material-icons"],[3,"item","newItemEvent"],[3,"item","group","newItemEvent"],["class","collapsible-header",4,"ngIf"],["class","collapsible-body",4,"ngIf"],[1,"collapsible-header"],[1,"collapsible-body"],[1,"panelButtons"],[1,"btn","autoFillButton",3,"click"],[1,"btn","blue","lighten-3","black-text","notesButton",3,"click"],[1,"btn","moreInfoButton",3,"click"],["class","btn buttonADC","target","_blank",3,"href",4,"ngIf"],["class","btn grey buttonADC","target","_blank",4,"ngIf"],[1,"resultParagraph"],["boxResult",""],["class","btn",3,"click",4,"ngIf"],["target","_blank",1,"btn","buttonADC",3,"href"],["target","_blank",1,"btn","grey","buttonADC"],["placeholder","Zadajte hodnotu...","type","number",3,"id","keyup"],["box",""],[1,"btn",3,"click"],[1,"btn","btnAddToSaved","green","lighten-2",3,"click"],["btnBOX",""]],template:function(t,e){1&t&&(s.hc(0,p,8,0,"div",0),s.hc(1,v,2,0,"h4",1),s.hc(2,y,6,0,"div",2),s.Lb(3,"div",3),s.hc(4,g,1,1,"app-informations",4),s.Kb(),s.Lb(5,"div",3),s.hc(6,b,1,2,"app-item-notes",5),s.Kb(),s.Lb(7,"ul",6),s.hc(8,O,3,2,"li",7),s.Kb()),2&t&&(s.Xb("ngIf",e.isLoading),s.yb(1),s.Xb("ngIf",!e.isLoading),s.yb(1),s.Xb("ngIf",!e.isLoading),s.yb(2),s.Xb("ngIf",null!=e.moreInfoItem),s.yb(2),s.Xb("ngIf",null!=e.notesForItem),s.yb(2),s.Xb("ngForOf",e.allItems))},directives:[a.l,a.k,f.a,d.a],styles:[".preloader-wrapper[_ngcontent-%COMP%]{margin-bottom:3%!important;display:block!important}.collapsible-body[_ngcontent-%COMP%]{background-color:#fff}h4[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;margin-top:0!important;padding-top:.5em;text-transform:uppercase}.collapsible[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.input-field[_ngcontent-%COMP%]{margin-top:2em}.collapsible[_ngcontent-%COMP%]{margin-bottom:0;padding-bottom:1em}.autoFillButton[_ngcontent-%COMP%]{margin-bottom:.4em}.notesButton[_ngcontent-%COMP%]{float:right;margin-left:1em}.addToPrintButton[_ngcontent-%COMP%], .buttonADC[_ngcontent-%COMP%], .moreInfoButton[_ngcontent-%COMP%]{float:right}.buttonADC[_ngcontent-%COMP%]{margin-bottom:.4em;margin-right:1em}.resultParagraph[_ngcontent-%COMP%]{font-weight:700;padding:5px;border:1px solid green}.btnAddToSaved[_ngcontent-%COMP%]{width:48%;margin:1%;float:left}.collapsible-body[_ngcontent-%COMP%]{padding-bottom:12em!important}.panels[_ngcontent-%COMP%]{margin-top:-10em;position:fixed;width:70%}@media only screen and (max-width:800px){.panelButtons[_ngcontent-%COMP%]{float:left}.autoFillButton[_ngcontent-%COMP%]{width:100%}.notesButton[_ngcontent-%COMP%]{float:left;margin-left:0!important}.moreInfoButton[_ngcontent-%COMP%], .notesButton[_ngcontent-%COMP%]{width:100%;margin-bottom:.4em}.moreInfoButton[_ngcontent-%COMP%]{float:right}.buttonADC[_ngcontent-%COMP%]{width:100%;margin-right:0!important}.btnAddToSaved[_ngcontent-%COMP%]{width:90%;margin-left:5%;margin-bottom:.5em}}"]}),T),L=((S=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||S)},S.\u0275cmp=s.Cb({type:S,selectors:[["app-infuzia"]],decls:4,vars:0,consts:[[1,"container"],["href","https://drive.google.com/file/d/1Vq3A2b3HKCDyGp8LTag-4GfNCEq-Nkzu/view?usp=sharing","target","_blank",1,"about"]],template:function(t,e){1&t&&(s.Lb(0,"div",0),s.Lb(1,"a",1),s.ic(2,"N\xe1vod na pou\u017eitie"),s.Kb(),s.Jb(3,"app-items"),s.Kb())},directives:[P],styles:[".about[_ngcontent-%COMP%]{text-transform:uppercase;float:right;font-weight:700}"]}),S),A=n("tyNb");n("HTFn");var x,D,N=[{path:"",component:L}],M=((D=function t(){_classCallCheck(this,t)}).\u0275mod=s.Gb({type:D}),D.\u0275inj=s.Fb({factory:function(t){return new(t||D)},imports:[[A.e.forChild(N)],A.e]}),D),R=((x=function t(){_classCallCheck(this,t)}).\u0275mod=s.Gb({type:x}),x.\u0275inj=s.Fb({factory:function(t){return new(t||x)},imports:[[a.c,o.a,M,i.a]]}),x)},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("mCNh"),c=n("2fFW"),l=((r=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:Object(u.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new r(t)},r);function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},HTFn:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return y}));var r=n("fXoL"),i=n("tyNb"),o=n("LRne"),a=n("HDdC"),s=n("mCNh"),u=n("lJxs"),c=n("IzEk"),l=n("pxpQ"),h=n("eIep"),f=n("UXun"),d=n("spgP"),p=Object(u.a)((function(t){return!!t})),v=function(){var t=function t(e,r,i,s){var v=this;_classCallCheck(this,t),this.router=s,this.canActivate=function(t,e){var n=t.data.authGuardPipe||function(){return p};return v.authState.pipe(Object(c.a)(1),n(t,e),Object(u.a)((function(t){return"boolean"==typeof t?t:v.router.createUrlTree(t)})))};var y=new d.d(i),g=Object(d.f)(y),b=Object(o.a)(void 0).pipe(Object(l.b)(new d.d(i).outsideAngular),Object(h.a)((function(){return i.runOutsideAngular((function(){return n.e(2).then(n.bind(null,"6nsN"))}))})),Object(u.a)((function(){return Object(d.e)(e,i,r)})),Object(u.a)((function(t){return i.runOutsideAngular((function(){return t.auth()}))})),Object(f.a)({bufferSize:1,refCount:!1}));this.authState=b.pipe(Object(h.a)((function(t){return new a.a(t.onAuthStateChanged.bind(t))})),g)};return t.\u0275fac=function(e){return new(e||t)(r.Pb(d.c),r.Pb(d.b,8),r.Pb(r.z),r.Pb(i.a))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(d.c),Object(r.Pb)(d.b,8),Object(r.Pb)(r.z),Object(r.Pb)(i.a))},token:t,providedIn:"any"}),t}(),y=function(t){return Object(s.a)(p,Object(u.a)((function(e){return e||t})))}},"I/3d":function(t,e,n){"use strict";n.d(e,"a",(function(){return A})),n.d(e,"b",(function(){return x}));var r=n("fXoL"),i=n("D0XW"),o=n("HDdC"),a=n("Cfvw"),s=n("LRne"),u=n("lJxs"),c=n("Kqap"),l=n("pLZG"),h=n("pxpQ"),f=n("spgP"),d=n("ofXK"),p=(n("6Joi"),n("Wcq6")),v=n.n(p);function y(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.b;return new o.a((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot(n)})):r=t.onSnapshot(n),function(){null!=r&&r()}}))}(t,e)}function g(t,e){return y(t,e).pipe(Object(u.a)((function(t){return{payload:t,type:"query"}})))}function b(t,e){return g(t,e).pipe(Object(u.a)((function(t){return t.payload.docChanges().map((function(t){return{type:t.type,payload:t}}))})))}function _(t,e,n){return g(t,n).pipe(Object(u.a)((function(t){return t.payload.docChanges()})),Object(c.a)((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))})),t}(t,n,e)}),[]),Object(u.a)((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function m(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var w=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?b(this.query,this.afs.schedulers.outsideAngular).pipe(Object(u.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Object(l.a)((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):b(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Object(c.a)((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=m(t);return _(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g(this.query,this.afs.schedulers.outsideAngular).pipe(Object(u.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(Object.assign({},e.data()),_defineProperty({},t.idField,e.id)):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(a.a)(this.query.get(t)).pipe(Object(h.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new C(this.ref.doc(t),this.afs)}}]),t}(),C=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=T(this.ref.collection(t),e),r=n.ref,i=n.query;return new w(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return y(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(u.a)((function(t){return{payload:t,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(Object(u.a)((function(t){return t.payload.data()})))}},{key:"get",value:function(t){return Object(a.a)(this.ref.get(t)).pipe(Object(h.b)(this.afs.schedulers.insideAngular))}}]),t}(),k=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?b(this.query,this.afs.schedulers.outsideAngular).pipe(Object(u.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Object(l.a)((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):b(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Object(c.a)((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=m(t);return _(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return g(this.query,this.afs.schedulers.outsideAngular).pipe(Object(u.a)((function(t){return t.payload.docs.map((function(t){return t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(a.a)(this.query.get(t)).pipe(Object(h.b)(this.afs.schedulers.insideAngular))}}]),t}(),E=n("6Joi"),I=new r.q("angularfire2.enableFirestorePersistence"),O=new r.q("angularfire2.firestore.persistenceSettings"),S=new r.q("angularfire2.firestore.settings");function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var P,L,A=((L=function(){function t(e,n,r,i,o,u,c){var l=this;_classCallCheck(this,t),this.schedulers=new f.d(u),this.keepUnstableUntilFirst=Object(f.f)(this.schedulers),this.firestore=u.runOutsideAngular((function(){var t=Object(f.e)(e,u,n);"registerFirestore"in E&&E.registerFirestore(v.a);var r=t.firestore();return i&&r.settings(i),r})),this.persistenceEnabled$=r&&!Object(d.p)(o)?u.runOutsideAngular((function(){try{return Object(a.a)(l.firestore.enablePersistence(c||void 0).then((function(){return!0}),(function(){return!1})))}catch(t){return Object(s.a)(!1)}})):Object(s.a)(!1)}return _createClass(t,[{key:"collection",value:function(t,e){var n=T("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new w(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new k(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run((function(){return e}));return new C(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||L)(r.Pb(f.c),r.Pb(f.b,8),r.Pb(I,8),r.Pb(S,8),r.Pb(r.B),r.Pb(r.z),r.Pb(O,8))},L.\u0275prov=Object(r.Eb)({factory:function(){return new L(Object(r.Pb)(f.c),Object(r.Pb)(f.b,8),Object(r.Pb)(I,8),Object(r.Pb)(S,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(O,8))},token:L,providedIn:"any"}),L),x=((P=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:I,useValue:!0},{provide:O,useValue:e}]}}}]),t}()).\u0275mod=r.Gb({type:P}),P.\u0275inj=r.Fb({factory:function(t){return new(t||P)},providers:[A]}),P)},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},IzEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function a(t){return function(e){return 0===t?Object(o.b)():e.lift(new s(t))}}var s=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new i.a}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.total))}}]),t}(),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(r.a)},J5iy:function J5iy(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CalculatorService}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),CalculatorService=function(){var CalculatorService=function(){function CalculatorService(){_classCallCheck(this,CalculatorService)}return _createClass(CalculatorService,[{key:"evaluation",value:function(t,e){var n=this,r="";return e.result.forEach((function(i){if("\xb0"==i[0]){var o=t[i.substr(1)];r+=""==o||null==o?"<span style='color:red;'>???</span>":"<span style='color:green;'>"+o+"</span>"}else if("'"==i[0]){var a=n.createResult(t,i.substr(1));a==1/0||isNaN(a)||"0.00"==a.toFixed(2)?r+="<span style='color:red;'>???</span>":r+="<span style='color:green;'>"+a.toFixed(2)+"</span>"}else if("CREATERESULT"==i){var s=n.createResult(t,e.pattern);s==1/0||isNaN(s)||"0.00"==s.toFixed(2)?r+="<span style='color:red;'>???</span>":r+="<span style='color:green;'>"+s.toFixed(2)+"</span>"}else r+=i})),r}},{key:"createResult",value:function createResult(inputs,pattern){var result=[],patternWithValues=pattern.split(" ");return patternWithValues.forEach((function(t){if("\xb0"==t[0]){var e=inputs[t.split("!").join(" ").substr(1)];result.push(null==e||""==e?"0":e)}else result.push(t)})),eval(result.join(" "))}}]),CalculatorService}();return CalculatorService.\u0275fac=function(t){return new(t||CalculatorService)},CalculatorService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Eb({token:CalculatorService,factory:CalculatorService.\u0275fac,providedIn:"root"}),CalculatorService}()},JAoR:function(t,e,n){"use strict";n.r(e),n.d(e,"MkchModule",(function(){return m}));var r,i=n("ofXK"),o=n("tyNb"),a=n("fXoL"),s=n("I/3d"),u=((r=function(){function t(e){_classCallCheck(this,t),this.afs=e,this.items=this.afs.collection("mkch").doc("mkchAll").valueChanges()}return _createClass(t,[{key:"getItems",value:function(){return this.items}}]),t}()).\u0275fac=function(t){return new(t||r)(a.Pb(s.a))},r.\u0275prov=a.Eb({token:r,factory:r.\u0275fac,providedIn:"root"}),r);function c(t,e){if(1&t&&(a.Lb(0,"div",19),a.Lb(1,"p",20),a.ic(2),a.Kb(),a.Jb(3,"p",21),a.Kb()),2&t){var n=a.Ub(2).$implicit;a.yb(2),a.jc(n.key),a.yb(1),a.Xb("innerHTML",n.value,a.ec)}}function l(t,e){if(1&t&&(a.Lb(0,"div"),a.hc(1,c,4,2,"div",18),a.Kb()),2&t){var n=a.Ub().$implicit,r=a.Ub(2);a.yb(1),a.Xb("ngIf",n.key.toLowerCase().includes(r.search)||n.value.toLowerCase().includes(r.search))}}function h(t,e){if(1&t&&(a.Lb(0,"div"),a.hc(1,l,2,1,"div",17),a.Kb()),2&t){var n=e.$implicit,r=a.Ub(2);a.yb(1),a.Xb("ngIf",r.forP&&n.key.startsWith("P")||r.forQ&&n.key.startsWith("Q"))}}function f(t,e){if(1&t&&(a.Lb(0,"div"),a.hc(1,h,2,1,"div",10),a.Vb(2,"keyvalue"),a.Kb()),2&t){var n=e.$implicit;a.yb(1),a.Xb("ngForOf",a.Wb(2,1,n.text))}}function d(t,e){1&t&&(a.Lb(0,"div",22),a.Lb(1,"div",23),a.Lb(2,"div",24),a.Jb(3,"div",25),a.Kb(),a.Lb(4,"div",26),a.Jb(5,"div",25),a.Kb(),a.Lb(6,"div",27),a.Jb(7,"div",25),a.Kb(),a.Kb(),a.Kb())}var p,v,y,g=function(t){return{turnRed:t}},b=[{path:"",component:(p=function(){function t(e){_classCallCheck(this,t),this.itemService=e,this.allItems=[],this.isLoading=!0,this.search="",this.forP=!0,this.forQ=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.itemService.getItems().subscribe((function(e){t.allItems=e.all.sort((function(t,e){return t.header>e.header?1:t.header<e.header?-1:0})),t.isLoading=!1}))}},{key:"searchValue",value:function(t){this.search=t.toLowerCase()}},{key:"switchP",value:function(){this.forP=!0,this.forQ=!1}},{key:"switchQ",value:function(){this.forP=!1,this.forQ=!0}}]),t}(),p.\u0275fac=function(t){return new(t||p)(a.Ib(u))},p.\u0275cmp=a.Cb({type:p,selectors:[["app-mkch"]],decls:28,vars:8,consts:[[1,"row"],[1,"center"],[1,"btn","P",3,"ngClass","click"],[1,"btn","Q",3,"ngClass","click"],[1,"input-field","container"],["id","search","type","search","placeholder","               Zadajte h\u013eadan\xfd v\xfdraz...",3,"keyup"],["box",""],["for","search"],[1,"material-icons"],[1,"col","s10","offset-s1"],[4,"ngFor","ngForOf"],["class","preloader-wrapper big active container",4,"ngIf"],[1,"boxSources"],[1,"sourcesText"],["href","http://data.nczisk.sk/old/infozz/mkch/mkch-10/cast1600.pdf","target","_blank"],["href","https://mediately.co/sk/icd/P00-P96/ur%C4%8Dit%C3%A9-choroby-vzniknut%C3%A9-v-perinat%C3%A1lnom-obdob%C3%AD","target","_blank"],["href","https://mediately.co/sk/icd/Q00-Q99/vroden%C3%A9-chyby-deformity-a-chromoz%C3%B3mov%C3%A9-anom%C3%A1lie","target","_blank"],[4,"ngIf"],["class","card-panel white",4,"ngIf"],[1,"card-panel","white"],[1,"boldText"],[1,"italicText",3,"innerHTML"],[1,"preloader-wrapper","big","active","container"],[1,"spinner-layer","spinner-blue-only"],[1,"circle-clipper","left"],[1,"circle"],[1,"gap-patch"],[1,"circle-clipper","right"]],template:function(t,e){if(1&t){var n=a.Mb();a.Lb(0,"div",0),a.Lb(1,"h4"),a.ic(2,"MKCH-10"),a.Kb(),a.Lb(3,"div",1),a.Lb(4,"button",2),a.Sb("click",(function(){return e.switchP()})),a.ic(5,"MKCH-10 (P00-P96)"),a.Kb(),a.Lb(6,"button",3),a.Sb("click",(function(){return e.switchQ()})),a.ic(7,"MKCH-10 (Q00-Q96)"),a.Kb(),a.Kb(),a.Lb(8,"div",4),a.Lb(9,"input",5,6),a.Sb("keyup",(function(){a.dc(n);var t=a.cc(10);return e.searchValue(t.value)})),a.Kb(),a.Lb(11,"label",7),a.Lb(12,"i",8),a.ic(13,"search"),a.Kb(),a.Kb(),a.Kb(),a.Lb(14,"div",9),a.hc(15,f,3,3,"div",10),a.Kb(),a.hc(16,d,8,0,"div",11),a.Lb(17,"div",12),a.Lb(18,"p",13),a.ic(19,"Zdroje:"),a.Kb(),a.Lb(20,"a",14),a.ic(21,"http://data.nczisk.sk/old/infozz/mkch/mkch-10/cast1600.pdf "),a.Kb(),a.Jb(22,"br"),a.Lb(23,"a",15),a.ic(24,"https://mediately.co/sk/icd/P00-P96/ur%C4%8Dit%C3%A9-choroby-vzniknut%C3%A9-v-perinat%C3%A1lnom-obdob%C3%AD"),a.Kb(),a.Jb(25,"br"),a.Lb(26,"a",16),a.ic(27,"https://mediately.co/sk/icd/Q00-Q99/vroden%C3%A9-chyby-deformity-a-chromoz%C3%B3mov%C3%A9-anom%C3%A1lie"),a.Kb(),a.Kb(),a.Kb()}2&t&&(a.yb(4),a.Xb("ngClass",a.ac(4,g,!e.forP)),a.yb(2),a.Xb("ngClass",a.ac(6,g,!e.forQ)),a.yb(9),a.Xb("ngForOf",e.allItems),a.yb(1),a.Xb("ngIf",e.isLoading))},directives:[i.j,i.k,i.l],pipes:[i.f],styles:[".preloader-wrapper[_ngcontent-%COMP%]{margin-bottom:3%!important;display:block!important}.P[_ngcontent-%COMP%], .Q[_ngcontent-%COMP%]{background:green;margin-bottom:2em}.Q[_ngcontent-%COMP%]{margin-left:3em}.turnRed[_ngcontent-%COMP%]{background:red}.row[_ngcontent-%COMP%]{margin-bottom:0}h4[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;margin-top:0!important;padding-top:.5em;padding-bottom:.5em;padding-left:2em}.boldText[_ngcontent-%COMP%]{font-weight:700}.italicText[_ngcontent-%COMP%]{font-style:italic}.boxSources[_ngcontent-%COMP%]{padding-left:3em;padding-bottom:2em}.sourcesText[_ngcontent-%COMP%]{font-weight:700;width:70%}@media only screen and (max-width:800px){h4[_ngcontent-%COMP%]{padding-left:.75em}.P[_ngcontent-%COMP%]{margin-bottom:1em}.P[_ngcontent-%COMP%], .Q[_ngcontent-%COMP%]{width:70%}.Q[_ngcontent-%COMP%]{margin-left:0}}"]}),p)}],_=((y=function t(){_classCallCheck(this,t)}).\u0275mod=a.Gb({type:y}),y.\u0275inj=a.Fb({factory:function(t){return new(t||y)},imports:[[o.e.forChild(b)],o.e]}),y),m=((v=function t(){_classCallCheck(this,t)}).\u0275mod=a.Gb({type:v}),v.\u0275inj=a.Fb({factory:function(t){return new(t||v)},imports:[[i.c,_]]}),v)},Kqap:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}}var o=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(r.a)},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("wj3C"),i=n("mAIw"),o=n("zVF4"),a=n("q/0M"),s=n("S+S0");var u,c,l=(c=r)&&"object"==typeof c&&"default"in c?c:{default:c},h=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),o.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:o.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),f=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return o.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(c){}return new f},p=d("localStorage"),v=d("sessionStorage"),y=new a.Logger("@firebase/database"),g=(u=1,function(){return u++}),b=function(t){var e=o.stringToByteArray(t),n=new o.Sha1;n.update(e);var r=n.digest();return o.base64.encodeByteArray(r)},_=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var a=e[i];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=t.apply(null,a):r+="object"==typeof a?o.stringify(a):a,r+=" "}return r},m=null,w=!0,C=function(t,e){o.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(y.logLevel=a.LogLevel.VERBOSE,m=y.log.bind(y),e&&v.set("logging_enabled",!0)):"function"==typeof t?m=t:(m=null,v.remove("logging_enabled"))},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===w&&(w=!1,null===m&&!0===v.get("logging_enabled")&&C(!0)),m){var n=_.apply(null,t);m(n)}},E=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];k.apply(void 0,i.__spread([t],e))}},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,i.__spread(t));y.error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,i.__spread(t));throw y.error(n),new Error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+_.apply(void 0,i.__spread(t));y.warn(n)},T=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},P="[MIN_NAME]",L="[MAX_NAME]",A=function(t,e){if(t===e)return 0;if(t===P||e===L)return-1;if(e===P||t===L)return 1;var n=X(t),r=X(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},x=function(t,e){return t===e?0:t<e?-1:1},D=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+o.stringify(e))},N=function t(e){if("object"!=typeof e||null===e)return o.stringify(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=o.stringify(n[a]),i+=":",i+=t(e[n[a]]);return i+"}"},M=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function R(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var j,F,U,V,K,z,B,q,H,W,G=function(t){var e,n,r,i,a;o.assert(!T(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},Q=new RegExp("^-?(0*)\\d{1,10}$"),X=function(t){if(Q.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},J=function(t){try{t()}catch(c){setTimeout((function(){throw S("Exception was thrown by user callback.",c.stack||""),c}),Math.floor(0))}},Y=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},Z=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),$=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=o.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=o.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=o.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),tt=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(o.assert("string"==typeof t,"typeof type must == string"),o.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return R(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),et=function(t,e){var n=nt(t),r=n.namespace;return"firebase.com"===n.domain&&O(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||O("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tt(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new Z(n.pathString)}},nt=function(t){var e="",n="",r="",o="",a="",s=!0,u="https",l=443;if("string"==typeof t){var h=t.indexOf("//");h>=0&&(u=t.substring(0,h-1),t=t.substring(h+2));var f=t.indexOf("/");-1===f&&(f=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(f,d)),f<d&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(c){}e+="/"+i}return e}(t.substring(f,d)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=i.__values(t.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):S("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(h=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,l=parseInt(e.substring(h+1),10)):h=e.length;var v=e.slice(0,h);if("localhost"===v.toLowerCase())n="localhost";else if(v.split(".").length<=2)n=v;else{var y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),a=r}"ns"in p&&(a=p.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:u,pathString:o,namespace:a}},rt=/[\[\].#$\/\u0000-\u001F\u007F]/,it=/[\[\].#$\u0000-\u001F\u007F]/,ot=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},at=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},st=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!T(t)||t&&"object"==typeof t&&o.contains(t,".sv")},ut=function(t,e,n,r,i){i&&void 0===n||ct(o.errorPrefix(t,e,i),n,r)},ct=function t(e,n,r){var i=r instanceof Z?new $(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(T(n))throw new Error(e+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>10485760/3&&o.stringLength(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,s=!1;if(R(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!ot(n)))throw new Error(e+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),t(e,r,i),i.pop()})),a&&s)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},lt=function(t,e,n,r,i){if(!i||void 0!==n){var a=o.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];R(n,(function(t,e){var n=new Z(t);if(ct(a,e,r.child(n)),".priority"===n.getBack()&&!st(e))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ot(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Z.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,s)}},ht=function(t,e,n,r){if(!r||void 0!==n){if(T(n))throw new Error(o.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!st(n))throw new Error(o.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ft=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(o.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},dt=function(t,e,n,r){if(!(r&&void 0===n||ot(n)))throw new Error(o.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},pt=function(t,e,n,r){if(!(r&&void 0===n||at(n)))throw new Error(o.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},vt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),pt(t,e,n,r)},yt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},gt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ot(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),at(t)}(r))throw new Error(o.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},bt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(o.errorPrefix(t,e,r)+"must be a boolean.")},_t=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){o.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),o.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new o.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){o.validateArgCount("OnDisconnect.remove",0,1,arguments.length),yt("OnDisconnect.remove",this.path_),o.validateCallback("OnDisconnect.remove",1,t,!0);var e=new o.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){o.validateArgCount("OnDisconnect.set",1,2,arguments.length),yt("OnDisconnect.set",this.path_),ut("OnDisconnect.set",1,t,this.path_,!1),o.validateCallback("OnDisconnect.set",2,e,!0);var n=new o.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){o.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),yt("OnDisconnect.setWithPriority",this.path_),ut("OnDisconnect.setWithPriority",1,t,this.path_,!1),ht("OnDisconnect.setWithPriority",2,e,!1),o.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new o.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(o.validateArgCount("OnDisconnect.update",1,2,arguments.length),yt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}lt("OnDisconnect.update",1,t,this.path_,!1),o.validateCallback("OnDisconnect.update",2,e,!0);var i=new o.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),mt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return o.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),wt=(j="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",F=0,U=[],function(t){var e,n=t===F;F=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=j.charAt(t%64),t=Math.floor(t/64);o.assert(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===U[e];e--)U[e]=0;U[e]++}else for(e=0;e<12;e++)U[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=j.charAt(U[e]);return o.assert(20===i.length,"nextPushId: Length should be 20."),i}),Ct=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),kt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Ct(P,t),r=new Ct(P,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Ct.MIN},t}(),Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return V},set:function(t){V=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return A(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw o.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return new Ct(L,V)},e.prototype.makePost=function(t,e){return o.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ct(t,V)},e.prototype.toString=function(){return".key"},e}(kt),It=new Et,Ot=function(t){return"number"==typeof t?"number:"+G(t):"string:"+t},St=function(t){if(t.isLeafNode()){var e=t.val();o.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&o.contains(e,".sv"),"Priority must be a string or number.")}else o.assert(t===K||t.isEmpty(),"priority of unexpected type.");o.assert(t===K||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Tt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,o.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),St(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return z},set:function(t){z=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(o.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ot(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?G(this.value_):this.value_,this.lazyHash_=b(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(o.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return o.assert(i>=0,"Unknown leaf type: "+n),o.assert(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Pt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return new Ct(L,new Tt("[PRIORITY-POST]",q))},e.prototype.makePost=function(t,e){var n=B(t);return new Ct(e,new Tt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(kt)),Lt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),At=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Dt.EMPTY_NODE,this.right=null!=o?o:Dt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Dt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Dt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),xt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new At(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Dt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,At.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,At.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Lt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Lt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Lt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Lt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new xt,t}(),Nt=Math.log(2),Mt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Nt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Rt=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,a=function(e,r){var i=o-e,a=o;o-=e;var u=function e(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=t[r],a=n?n(o):o,new At(a,o.node,At.BLACK,null,null);var u=parseInt(s/2,10)+r,c=e(r,u),l=e(u+1,i);return o=t[u],a=n?n(o):o,new At(a,o.node,At.BLACK,c,l)}(i+1,a),c=t[i],l=n?n(c):c;s(new At(l,c.node,r,null,u))},s=function(t){r?(r.left=t,r=t):(i=t,r=t)},u=0;u<e.count;++u){var c=e.nextBitIsOne(),l=Math.pow(2,e.count-(u+1));c?a(l,At.BLACK):(a(l,At.BLACK),a(l,At.RED))}return i}(new Mt(t.length));return new Dt(r||e,i)},jt={},Ft=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return o.assert(jt&&Pt,"ChildrenNode.ts has not been loaded"),H=H||new t({".priority":jt},{".priority":Pt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=o.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Dt?e:null},t.prototype.hasIndex=function(t){return o.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){o.assert(e!==It,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,u=n.getIterator(Ct.Wrap),c=u.getNext();c;)s=s||e.isDefinedOn(c.node),a.push(c),c=u.getNext();r=s?Rt(a,e.getCompare()):jt;var l=e.toString(),h=i.__assign({},this.indexSet_);h[l]=e;var f=i.__assign({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(o.map(this.indexes_,(function(t,i){var a=o.safeGet(r.indexSet_,i);if(o.assert(a,"Missing index implementation for "+i),t===jt){if(a.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(Ct.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),Rt(s,a.getCompare())}return jt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Ct(e.name,l))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(o.map(this.indexes_,(function(t){if(t===jt)return t;var r=n.get(e.name);return r?t.remove(new Ct(e.name,r)):t})),this.indexSet_)},t}();function Ut(t,e){return A(t.name,e.name)}function Vt(t,e){return A(t,e)}var Kt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&St(this.priorityNode_),this.children_.isEmpty()&&o.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return W||(W=new t(new Dt(Vt),null,Ft.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||W},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?W:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(o.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Ct(e,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?W:this.priorityNode_;return new t(i,s,a)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;o.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Pt,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Ot(this.getPriority().val())+":"),this.forEachChild(Pt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":b(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ct(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Ct(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Ct(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Ct.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Ct.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===zt?-1:0},t.prototype.withIndex=function(e){if(e===It||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===It||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Pt),r=e.getIterator(Pt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===It?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),zt=new(function(t){function e(){return t.call(this,new Dt(Vt),Kt.EMPTY_NODE,Ft.Default)||this}return i.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Kt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Kt));function Bt(t,e){if(void 0===e&&(e=null),null===t)return Kt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),o.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Tt(t,Bt(e));if(t instanceof Array){var n=Kt.EMPTY_NODE;return R(t,(function(e,r){if(o.contains(t,e)&&"."!==e.substring(0,1)){var i=Bt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Bt(e))}var r=[],i=!1;if(R(t,(function(t,e){if("."!==t.substring(0,1)){var n=Bt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ct(t,n)))}})),0===r.length)return Kt.EMPTY_NODE;var a=Rt(r,Ut,(function(t){return t.name}),Vt);if(i){var s=Rt(r,Pt.getCompare());return new Kt(a,Bt(e),new Ft({".priority":s},{".priority":Pt}))}return new Kt(a,Bt(e),Ft.Default)}Object.defineProperties(Ct,{MIN:{value:new Ct(P,Kt.EMPTY_NODE)},MAX:{value:new Ct(L,zt)}}),Et.__EMPTY_NODE=Kt.EMPTY_NODE,Tt.__childrenNodeConstructor=Kt,K=zt,q=zt,B=Bt;var qt,Ht=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?A(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return Ct.MAX},e.prototype.makePost=function(t,e){var n=Bt(t);return new Ct(e,n)},e.prototype.toString=function(){return".value"},e}(kt)),Wt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,o.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return i.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Bt(t),r=Kt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ct(e,r)},e.prototype.maxPost=function(){var t=Kt.EMPTY_NODE.updateChild(this.indexPath_,zt);return new Ct(L,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(kt),Gt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return o.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return o.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return o.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return o.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){o.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),pt("DataSnapshot.child",1,e,!1);var n=new Z(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Pt)},t.prototype.hasChild=function(t){o.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),pt("DataSnapshot.hasChild",1,t,!1);var e=new Z(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return o.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(o.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),o.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Pt))}))},t.prototype.hasChildren=function(){return o.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return o.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return o.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Qt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+o.stringify(this.snapshot.exportVal())},t}(),Xt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Jt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Qt("value",this,new Gt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){o.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Xt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Yt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return o.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Xt(this,t,e):null},t.prototype.createEvent=function(t,e){o.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Qt(t.type,this,new Gt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){o.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||e.callbacks_[a]&&this.callbacks_[s]&&e.callbacks_[a]!==this.callbacks_[s])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Zt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return o.assert(qt,"Reference.ts has not been loaded"),qt},set:function(t){qt=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===It){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==P)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==L)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Pt){if(null!=e&&!st(e)||null!=n&&!st(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(o.assert(t.getIndex()instanceof Wt||t.getIndex()===Ht,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return o.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){o.validateArgCount("Query.on",2,4,arguments.length),ft("Query.on",1,e,!1),o.validateCallback("Query.on",2,n,!1);var a=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[e]=n,this.onChildEvent(s,a.cancel,a.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Jt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Yt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){o.validateArgCount("Query.off",0,3,arguments.length),ft("Query.off",1,t,!0),o.validateCallback("Query.off",2,e,!0),o.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var a=e||null;r=new Jt(a,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Yt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var a=this;o.validateArgCount("Query.once",1,4,arguments.length),ft("Query.once",1,e,!1),o.validateCallback("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.Deferred;c.promise.catch((function(){}));var l=function t(r){u&&(u=!1,a.off(e,t),n&&n.bind(s.context)(r),c.resolve(r))};return this.on(e,l,(function(t){a.off(e,l),s.cancel&&s.cancel.bind(s.context)(t),c.reject(t)})),c.promise},t.prototype.limitToFirst=function(e){if(o.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(o.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(o.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');pt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new Z(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Wt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){o.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(It);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){o.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Pt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){o.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Ht);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),o.validateArgCount("Query.startAt",0,2,arguments.length),ut("Query.startAt",1,e,this.path,!0),dt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),o.validateArgCount("Query.endAt",0,2,arguments.length),ut("Query.endAt",1,e,this.path,!0),dt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(o.validateArgCount("Query.equalTo",1,2,arguments.length),ut("Query.equalTo",1,t,this.path,!1),dt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return o.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return o.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=N(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(o.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),a=this.queryIdentifier()===e.queryIdentifier();return r&&i&&a},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,o.validateCallback(t,3,r.cancel,!0),r.context=n,o.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(o.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),$t=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),te=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),ee=function(t,e,n){return t&&"object"==typeof t?(o.assert(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?ne(t[".sv"],e,n):"object"==typeof t[".sv"]?re(t[".sv"],e):void o.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ne=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:o.assert(!1,"Unexpected server value: "+t)}},re=function(t,e,n){t.hasOwnProperty("increment")||o.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&o.assert(!1,"Unexpected increment value: "+r);var i=e.node();if(o.assert(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},ie=function(t,e,n,r){return ae(e,new te(n,t),r)},oe=function(t,e,n){return ae(t,new $t(e),n)};function ae(t,e,n){var r,i=t.getPriority().val(),o=ee(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=ee(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new Tt(s,Bt(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Tt(o))),u.forEachChild(Pt,(function(t,i){var o=ae(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var se,ue,ce=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Pt,(function(t,e){n.remember(new Z(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new Z(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),le=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),he=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,o.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),fe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=le.ACK_USER_WRITE,this.source=he.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return o.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Z(e));return new t(Z.Empty,n,this.revert)}return o.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),de=function(){function t(t,e){void 0===e&&(se||(se=new Dt(x)),e=se),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return R(e,(function(t,e){n=n.set(new Z(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Z.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new Z(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(Z.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Z.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Z.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(Z.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),pe=function(){function t(t,e){this.source=t,this.path=e,this.type=le.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Z.Empty):new t(this.source,this.path.popFront())},t}(),ve=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=le.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Z.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),ye=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=le.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new Z(e));return n.isEmpty()?null:n.value?new ve(this.source,Z.Empty,n.value):new t(this.source,Z.Empty,n)}return o.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ge=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),be=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ge(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ge(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ge(Kt.EMPTY_NODE,!1,!1),new ge(Kt.EMPTY_NODE,!1,!1)),t}(),_e=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),me=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,a){o.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(_e.childRemovedChange(e,s)):o.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(_e.childAddedChange(e,n)):a.trackChildChange(_e.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Pt,(function(t,r){e.hasChild(t)||n.trackChildChange(_e.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Pt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(_e.childChangedChange(e,r,i))}else n.trackChildChange(_e.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Kt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),we=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;o.assert(e===_e.CHILD_ADDED||e===_e.CHILD_CHANGED||e===_e.CHILD_REMOVED,"Only child changes supported for tracking"),o.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===_e.CHILD_ADDED&&i===_e.CHILD_REMOVED)this.changeMap.set(n,_e.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===_e.CHILD_REMOVED&&i===_e.CHILD_ADDED)this.changeMap.delete(n);else if(e===_e.CHILD_REMOVED&&i===_e.CHILD_CHANGED)this.changeMap.set(n,_e.childRemovedChange(n,r.oldSnap));else if(e===_e.CHILD_CHANGED&&i===_e.CHILD_ADDED)this.changeMap.set(n,_e.childAddedChange(n,t.snapshotNode));else{if(e!==_e.CHILD_CHANGED||i!==_e.CHILD_CHANGED)throw o.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,_e.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Ce=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),ke=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ge(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Ee=function(t,e){this.viewCache=t,this.changes=e},Ie=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){o.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),o.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var a,s,u=new we;if(n.type===le.OVERWRITE){var c=n;c.source.fromUser?a=this.applyUserOverwrite_(e,c.path,c.snap,r,i,u):(o.assert(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),a=this.applyServerOverwrite_(e,c.path,c.snap,r,i,s,u))}else if(n.type===le.MERGE){var l=n;l.source.fromUser?a=this.applyUserMerge_(e,l.path,l.children,r,i,u):(o.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.getServerCache().isFiltered(),a=this.applyServerMerge_(e,l.path,l.children,r,i,s,u))}else if(n.type===le.ACK_USER_WRITE){var h=n;a=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==le.LISTEN_COMPLETE)throw o.assertionError("Unknown operation type: "+n.type);a=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,a,f),new Ee(a,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(_e.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var a=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,u=void 0;if(e.isEmpty())if(o.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),l=n.calcCompleteEventChildren(c instanceof Kt?c:Kt.EMPTY_NODE);s=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=e.getFront();if(".priority"===f){o.assert(1===e.getLength(),"Can't have a priority with additional path components");var d=a.getNode();u=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,d,u);s=null!=p?this.filter_.updatePriority(d,p):a.getNode()}else{var v=e.popFront(),y=void 0;if(a.isCompleteForChild(f)){u=t.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(e,a.getNode(),u);y=null!=g?a.getNode().getImmediateChild(f).updateChild(v,g):a.getNode().getImmediateChild(f)}else y=n.calcCompleteChild(f,t.getServerCache());s=null!=y?this.filter_.updateChild(a.getNode(),f,y,v,r,i):a.getNode()}}return t.updateEventSnap(s,a.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),d=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"===h?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),h,d,f,Ce,null)}var p=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),v=new ke(r,p,i);return this.generateEventCacheAfterServerEvent_(p,e,r,v,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new ke(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),d=void 0;if(h.isEmpty())d=n;else{var p=c.getCompleteChild(l);d=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):Kt.EMPTY_NODE}if(f.equals(d))a=t;else{var v=this.filter_.updateChild(u.getNode(),l,d,h,c,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:de.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new Z(e),h,r,i,o,a)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new Z(e),f,r,i,o,a)}})),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=de.Empty;return s.getNode().forEachChild(It,(function(t,e){u=u.set(new Z(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=de.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Ce,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var a;if(null!=n.shadowingWrite(e))return t;var s=new ke(n,t,r),u=t.getEventCache().getNode(),c=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();o.assert(h instanceof Kt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}c=this.filter_.updateFullNode(u,l=l,i)}else{var f=e.getFront(),d=n.calcCompleteChild(f,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(c=null!=d?this.filter_.updateChild(u,f,d,e.popFront(),s,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,Kt.EMPTY_NODE,e.popFront(),s,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,a,i))}return a=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Z.Empty),t.updateEventSnap(c,a,this.filter_.filtersNodes())},t}(),Oe=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===_e.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(_e.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,_e.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,_e.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,_e.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,_e.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,_e.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter((function(t){return t.type===e}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw o.assertionError("Should only compare child_ events.");var n=new Ct(t.childName,t.snapshotNode),r=new Ct(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Se=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new me(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ie(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Kt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Kt.EMPTY_NODE,a.getNode(),null),c=new ge(s,o.isFullyInitialized(),r.filtersNodes()),l=new ge(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new be(l,c),this.eventGenerator_=new Oe(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){o.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)}))}if(t){for(var i=[],a=0;a<this.eventRegistrations_.length;++a){var s=this.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(a+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===le.MERGE&&null!==t.source.queryId&&(o.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),o.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),o.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Pt,(function(t,e){n.push(_e.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(_e.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Te=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return o.assert(ue,"Reference.ts has not been loaded"),ue},set:function(t){o.assert(!ue,"__referenceConstructor has already been defined"),ue=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,a,s=t.source.queryId;if(null!==s){var u=this.views.get(s);return o.assert(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var c=[];try{for(var l=i.__values(this.views.values()),h=l.next();!h.done;h=l.next())c=c.concat((u=h.value).applyOperation(t,e,n))}catch(f){r={error:f}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}return c},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Kt?(s=n.calcCompleteEventChildren(r),u=!1):(s=Kt.EMPTY_NODE,u=!1);var c=new be(new ge(s,u,!1),new ge(r,i,!1));a=new Se(t,c),this.views.set(o,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o,a,s=e.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===s)try{for(var h=i.__values(this.views.entries()),f=h.next();!f.done;f=h.next()){var d,p=i.__read(f.value,2),v=p[0];c=c.concat((d=p[1]).removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(v),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery()))}}catch(y){o={error:y}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}else(d=this.views.get(s))&&(c=c.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(s),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery())));return l&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:c}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=i.__values(this.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;a.getQuery().getQueryParams().loadsAllData()||n.push(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var o=i.__values(this.views.values()),a=o.next();!a.done;a=o.next())r=r||a.value.getCompleteServerCache(t)}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=i.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Pe=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new de(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=Z.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new de(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return R(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,de.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Z.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Pt,(function(e,n){t.push(new Ct(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ct(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new de(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,a){".priority"===n?(o.assert(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=t(e.child(n),a,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(Z.Empty,this.writeTree_,t)},t.Empty=new t(new de(null)),t}(),Le=function(){function t(){this.visibleWrites_=Pe.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Ae(t,this)},t.prototype.addOverwrite=function(t,e,n,r){o.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){o.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));o.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,a=!1,s=this.allWrites_.length-1;i&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(a=!0)),s--}return!!i&&(a?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):R(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(Z.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||Kt.EMPTY_NODE):null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var s=this.visibleWrites_.childCompoundWrite(e);return s.isEmpty()?n:null!=n||s.hasCompleteWrite(Z.Empty)?s.apply(n||Kt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Kt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Pt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Pt,(function(t,e){var r=i.childCompoundWrite(new Z(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){o.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var a=this.visibleWrites_.childCompoundWrite(i);return a.isEmpty()?r.getChild(e):a.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(Z.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,Z.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Pe.Empty,i=0;i<t.length;++i){var a=t[i];if(e(a)){var s=a.path,u=void 0;if(a.snap)n.contains(s)?(u=Z.relativePath(n,s),r=r.addWrite(u,a.snap)):s.contains(n)&&(u=Z.relativePath(s,n),r=r.addWrite(Z.Empty,a.snap.getChild(u)));else{if(!a.children)throw o.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))u=Z.relativePath(n,s),r=r.addWrites(u,a.children);else if(s.contains(n))if((u=Z.relativePath(s,n)).isEmpty())r=r.addWrites(Z.Empty,a.children);else{var c=o.safeGet(a.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite(Z.Empty,l)}}}}}return r},t}(),Ae=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),xe=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=de.Empty,this.pendingWriteTree_=new Le,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new ve(he.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=de.fromObject(e);return this.applyOperationToSyncPoints_(new ye(he.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=de.Empty;return null!=n.snap?r=r.set(Z.Empty,!0):R(n.children,(function(t,e){r=r.set(new Z(t),e)})),this.applyOperationToSyncPoints_(new fe(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new ve(he.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=de.fromObject(e);return this.applyOperationToSyncPoints_(new ye(he.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new pe(he.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=Z.relativePath(a,e),c=new ve(he.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=Z.relativePath(a,e),c=de.fromObject(n),l=new ye(he.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=Z.relativePath(o,e),u=new pe(he.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,a=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Z.relativePath(t,r);i=i||e.getCompleteServerCache(n),a=a||e.hasCompleteView()}));var s,u=this.syncPointTree_.get(r);u?(a=a||u.hasCompleteView(),i=i||u.getCompleteServerCache(Z.Empty)):(u=new Te,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=Kt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(Z.Empty);n&&(i=i.updateImmediateChild(t,n))})));var c=u.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);o.assert(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var f=this.pendingWriteTree_.childWrites(r),d=u.addEventRegistration(e,n,f,i,s);if(!c&&!a){var p=u.viewForQuery(e);d=d.concat(this.setupListener_(e,p))}return d},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(f),p=0;p<d.length;++p){var v=d[p],y=v.getQuery(),g=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),g.hashFn,g.onComplete)}}!h&&c.length>0&&!r&&(l?this.listenProvider_.stopListening(t.queryForListening_(e),null):c.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=Z.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),R(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),a=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,a.hashFn,a.onComplete),u=this.syncPointTree_.subtree(r);if(i)o.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),R(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Kt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return o.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Z(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);o.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Z.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(Z.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(Z.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(Z.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Z.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),De=function(){function t(){this.rootNode_=Kt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ne=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),o.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return o.deepCopy(this.counters_)},t}(),Me=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Ne),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Re=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=i.__assign({},t);return this.last_&&R(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),je=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Re(t);var n=1e4+2e4*Math.random();Y(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;R(e,(function(e,i){i>0&&o.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Y(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Fe=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ue(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ue=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();m&&k("event: "+e.toString()),J(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Ve=function(){function t(t){this.allowedEvents_=t,this.listeners_={},o.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=i.__spread(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){o.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Ke=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return i.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return o.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Ve),ze=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||o.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return i.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return o.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Ve),Be=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&J((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),qe=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(t),this.stats_=Me.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Be(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(o.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new He((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=i.__read(t,5),o=r[0],a=r[1],s=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===o)n.id=a,n.password=s;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=i.__read(t,2),o=r[0],a=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,a)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(o.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=o.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=o.base64Encode(e),r=M(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!o.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=o.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),He=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,o.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(c){k("frame writing exception"),c.stack&&k(c.stack),k(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||k("No IE domain setting required")}catch(c){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;o.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){k("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(c){}}),Math.floor(1))},t}(),We="",Ge=null;"undefined"!=typeof MozWebSocket?Ge=MozWebSocket:"undefined"!=typeof WebSocket&&(Ge=WebSocket);var Qe=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=Me.getCollection(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!o.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(o.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+We+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,a=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new Ge(this.connURL,[],r)}else this.mySock=new Ge(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(c){this.log_("Error instantiating WebSocket.");var s=c.message||c.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ge&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=o.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(o.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=o.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=M(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(c){this.log_("Exception thrown from WebSocket.send():",c.message||c.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Xe=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[qe,Qe]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=Qe&&Qe.isAvailable(),a=o&&!Qe.previouslyFailed();if(e.webSocketOnly&&(o||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Qe];else{var s=this.transports_=[];try{for(var u=i.__values(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Je=function(){function t(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Xe(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Y((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=D("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?I("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Y((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Y((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Ye=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Ze=function(t){function e(n,r,i,a,s,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=E("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!o.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Ke.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&ze.getInstance().on("online",l.onOnline_,l),l}return i.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(o.stringify(i)),o.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),a=t.path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),o.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),o.assert(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&o.contains(t,"w")){var n=o.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||o.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=o.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),o.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+o.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):I("Unrecognized action received from server: "+o.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;o.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,s=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(t){o.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(t){c?k("getToken() completed but was canceled"):(k("getToken() completed. Creating connection."),s.authToken_=t&&t.accessToken,l=new Je(a,s.repoInfo_,s.applicationId_,n,r,i,(function(t){S(t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),u))})).then(null,(function(e){s.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&S(e),h())}))}},e.prototype.interrupt=function(t){k("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){k("Resuming connection for reason: "+t),delete this.interruptReasons_[t],o.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return N(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Z(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){k("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=i.__values(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,i.__values(s.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";o.isNodeSdk()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+We.replace(/\./g,"-")]=1,o.isMobileCordova()?t["framework.cordova"]=1:o.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ze.getInstance().currentlyOnline();return o.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Ye),$e=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return i.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(o.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var a=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),o.safeGet(a.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(e.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+o.querystring(e);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=o.jsonEval(u.responseText)}catch(c){S("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&S("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},e}(Ye),tn=function(){function t(t,e,n,r){var i=this;if(this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Fe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ce,this.persistentConnection_=null,this.stats_=Me.getCollection(t),e||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new $e(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options.databaseAuthVariableOverride;if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{o.stringify(a)}catch(c){throw new Error("Invalid authOverride provided: "+c)}}this.persistentConnection_=new Ze(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,a),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=Me.getOrCreateReporter(t,(function(){return new je(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new De,this.infoSyncTree_=new xe({startListening:function(t,e,n,r){var o=[],a=i.infoData_.getNode(t.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new xe({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new Z(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var a=[];if(r)if(n){var s=o.map(e,(function(t){return Bt(t)}));a=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var u=Bt(e);a=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=o.map(e,(function(t){return Bt(t)}));a=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=Bt(e);a=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;a.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,a)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;R(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new Z("/.info/"+t),r=Bt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=Bt(e,n),s=this.serverSyncTree_.calcCompleteEventCache(t),u=oe(a,s,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),a.val(!0),(function(e,n){var o="ok"===e;o||S("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(R(e,(function(e,n){i=!1,a[e]=ie(t.child(e),Bt(n),r.serverSyncTree_,o)})),i)k("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||S("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)})),R(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new ce;this.onDisconnect_.forEachTree(Z.Empty,(function(r,i){var o=ie(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(Z.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new ce,this.eventQueue_.raiseEventsForChangedPath(Z.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Bt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Bt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(o.isEmpty(e))return k("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&R(e,(function(e,n){var i=Bt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Re(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);R(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),k.apply(void 0,i.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&J((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new dn(this))},enumerable:!1,configurable:!0}),t}(),en=function(){function t(e){this.indexedFilter_=new me(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Ct(e,n))||(n=Kt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Kt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Kt.EMPTY_NODE);var i=this;return e.forEachChild(Pt,(function(t,e){i.matches(new Ct(t,e))||(r=r.updateImmediateChild(t,Kt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),nn=function(){function t(t){this.rangedFilter_=new en(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Ct(e,n))||(n=Kt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Kt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Kt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Kt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Kt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;o.assert(u.numChildren()===this.limit_,"");var c=new Ct(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(_e.childChangedChange(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(_e.childRemovedChange(e,f));var v=u.updateImmediateChild(e,Kt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(_e.childAddedChange(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?t:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(_e.childRemovedChange(l.name,l.node)),i.trackChildChange(_e.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,Kt.EMPTY_NODE)):t},t}(),rn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return o.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return o.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:P},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return o.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return o.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:L},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return o.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Pt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Pt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new me(this.getIndex()):this.hasLimit()?new nn(this):new en(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Pt?e=n.PRIORITY_INDEX:this.index_===Ht?e=n.VALUE_INDEX:this.index_===It?e=n.KEY_INDEX:(o.assert(this.index_ instanceof Wt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=o.stringify(e),this.startSet_&&(r[n.START_AT]=o.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+o.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=o.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+o.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),on=function(t){function e(e,n){if(!(e instanceof tn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,rn.DEFAULT,!1)||this}return i.__extends(e,t),e.prototype.getKey=function(){return o.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return o.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Z||(null===this.path.getFront()?vt("Reference.child",1,t,!1):pt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){o.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){o.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){o.validateArgCount("Reference.set",1,2,arguments.length),yt("Reference.set",this.path),ut("Reference.set",1,t,this.path,!1),o.validateCallback("Reference.set",2,e,!0);var n=new o.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(o.validateArgCount("Reference.update",1,2,arguments.length),yt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}lt("Reference.update",1,t,this.path,!1),o.validateCallback("Reference.update",2,e,!0);var i=new o.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(o.validateArgCount("Reference.setWithPriority",2,3,arguments.length),yt("Reference.setWithPriority",this.path),ut("Reference.setWithPriority",1,t,this.path,!1),ht("Reference.setWithPriority",2,e,!1),o.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return o.validateArgCount("Reference.remove",0,1,arguments.length),yt("Reference.remove",this.path),o.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(o.validateArgCount("Reference.transaction",1,3,arguments.length),yt("Reference.transaction",this.path),o.validateCallback("Reference.transaction",1,t,!1),o.validateCallback("Reference.transaction",2,e,!0),bt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.Deferred;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new mt(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){o.validateArgCount("Reference.setPriority",1,2,arguments.length),yt("Reference.setPriority",this.path),ht("Reference.setPriority",1,t,!1),o.validateCallback("Reference.setPriority",2,e,!0);var n=new o.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){o.validateArgCount("Reference.push",0,2,arguments.length),yt("Reference.push",this.path),ut("Reference.push",1,t,this.path,!0),o.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=wt(r),a=this.child(i),s=this.child(i);return n=null!=t?a.set(t,e).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),a},e.prototype.onDisconnect=function(){return yt("Reference.onDisconnect",this.path),new _t(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Zt);Zt.__referenceConstructor=on,Te.__referenceConstructor=on;var an=function(){this.children={},this.childCount=0,this.value=null},sn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new an),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof Z?e:new Z(e),r=this,i=n.getFront();null!==i;)r=new t(i,r,o.safeGet(r.node_.children,i)||new an),i=(n=n.popFront()).getFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){o.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;R(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new Z(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=o.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),un=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});tn.MAX_TRANSACTION_RETRIES_=25,tn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new sn},tn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},a=new on(this,t);a.on("value",i);var s={path:t,update:e,onComplete:n,status:null,order:g(),applyLocally:r,retryCount:0,unwatcher:function(){a.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new Gt(s.currentInputSnapshot,new on(this,s.path),Pt);s.onComplete(null,!1,l)}}else{ct("transaction failed: Data returned ",c,s.path),s.status=un.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(s),h.setValue(f);var d=void 0;"object"==typeof c&&null!==c&&o.contains(c,".priority")?(d=o.safeGet(c,".priority"),o.assert(st(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(t)||Kt.EMPTY_NODE).getPriority().val(),d=d;var p=this.generateServerValues(),v=Bt(c,d),y=oe(v,u,p);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_();var b=this.serverSyncTree_.applyUserOverwrite(t,y,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,b),this.sendReadyTransactions_()}},tn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Kt.EMPTY_NODE},tn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);o.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===un.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},tn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),a=i,s=i.hash(),u=0;u<e.length;u++){var c=e[u];o.assert(c.status===un.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=un.SENT,c.retryCount++;var l=Z.relativePath(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;this.server_.put(f.toString(),h,(function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=un.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new on(n,e[a].path),c=new Gt(s,u,Pt);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),a=0;a<o.length;a++)J(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status=e[a].status===un.SENT_NEEDS_ABORT?un.NEEDS_ABORT:un.RUN;else for(S("transaction at "+f.toString()+" failed: "+r),a=0;a<e.length;a++)e[a].status=un.NEEDS_ABORT,e[a].abortReason=r;n.rerunTransactions_(t)}}),s)},tn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},tn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===un.RUN})).map((function(t){return t.currentWriteId})),a=0;a<t.length;a++){var s=t[a],u=Z.relativePath(e,s.path),c=!1,l=void 0;if(o.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===un.NEEDS_ABORT)c=!0,l=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===un.RUN)if(s.retryCount>=tn.MAX_TRANSACTION_RETRIES_)c=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,i);s.currentInputSnapshot=h;var f=t[a].update(h.val());if(void 0!==f){ct("transaction failed: Data returned ",f,s.path);var d=Bt(f);"object"==typeof f&&null!=f&&o.contains(f,".priority")||(d=d.updatePriority(h.getPriority()));var p=s.currentWriteId,v=this.generateServerValues(),y=oe(d,h,v);s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,y,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else c=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],c&&(t[a].status=un.COMPLETED,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete))if("nodata"===l){var g=new on(this,t[a].path),b=new Gt(t[a].currentInputSnapshot,g,Pt);n.push(t[a].onComplete.bind(null,null,!1,b))}else n.push(t[a].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),a=0;a<n.length;a++)J(n[a]);this.sendReadyTransactions_()}},tn.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},tn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},tn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},tn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==un.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},tn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},tn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,a=0;a<e.length;a++)e[a].status===un.SENT_NEEDS_ABORT||(e[a].status===un.SENT?(o.assert(i===a-1,"All SENT items should be at beginning of queue."),i=a,e[a].status=un.SENT_NEEDS_ABORT,e[a].abortReason="set"):(o.assert(e[a].status===un.RUN,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[a].currentWriteId,!0)),e[a].onComplete&&n.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),a=0;a<n.length;a++)J(n[a])}};var cn,ln=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(k("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';S(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),hn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),fn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return cn||(cn=new t),cn},t.prototype.interrupt=function(){var t,e,n,r;try{for(var o=i.__values(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,i.__values(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next())this.repos_[s][c.value].interrupt()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var o=i.__values(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,i.__values(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next())this.repos_[s][c.value].resume()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||O("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),k("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,a=et(i,r),s=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,s=(a=et(i="http://"+u+"?ns="+s.namespace,r)).repoInfo):o=!a.repoInfo.secure;var c=r&&o?new hn:new ln(t,e);return gt("Invalid Firebase Database URL",1,a),a.path.isEmpty()||O("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(s,t,c).database},t.prototype.deleteRepo=function(t){var e=o.safeGet(this.repos_,t.app.name);e&&o.safeGet(e,t.repoInfo_.toURLString())===t||O("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=o.safeGet(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=o.safeGet(r,t.toURLString());return i&&O("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new tn(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),dn=function(){function t(t){this.repo_=t,t instanceof tn||O("Don't call new Database() directly - please use firebase.database()."),this.root_=new on(t,Z.Empty),this.INTERNAL=new pn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),o.validateArgCount("database.ref",0,1,arguments.length),t instanceof on?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),o.validateArgCount(e,1,1,arguments.length);var n=et(t,this.repo_.repoInfo_.nodeAdmin);gt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&O(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&O("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){o.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){o.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),pn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.database.checkDeleted_("delete"),fn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),vn=Object.freeze({__proto__:null,forceLongPolling:function(){Qe.forceDisallow(),qe.forceAllow()},forceWebSockets:function(){qe.forceDisallow()},isWebSocketsAvailable:function(){return Qe.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),yn=Ze;Ze.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ze.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var gn=Object.freeze({__proto__:null,DataConnection:yn,RealTimeConnection:Je,hijackHash:function(t){var e=Ze.prototype.put;return Ze.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Ze.prototype.put=e}},ConnectionTarget:tt,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){fn.getInstance().forceRestClient(t)}}),bn=dn.ServerValue;function _n(e){We=e.SDK_VERSION;var n=e.INTERNAL.registerComponent(new s.Component("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return fn.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:on,Query:Zt,Database:dn,DataSnapshot:Gt,enableLogging:C,INTERNAL:vn,ServerValue:bn,TEST_ACCESS:gn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.6.13"),o.isNodeSdk()&&(t.exports=n)}_n(l.default),e.DataSnapshot=Gt,e.Database=dn,e.OnDisconnect=_t,e.Query=Zt,e.Reference=on,e.ServerValue=bn,e.enableLogging=C,e.registerDatabase=_n},PSIr:function(t,e,n){"use strict";n.r(e),n.d(e,"LiekyModule",(function(){return D}));var r,i=n("ofXK"),o=n("Gc80"),a=n("tyNb"),s=(n("HTFn"),n("fXoL")),u=n("I/3d"),c=((r=function(){function t(e){_classCallCheck(this,t),this.afs=e,this.items=this.afs.collection("lieky").doc("liekyAll").valueChanges()}return _createClass(t,[{key:"getItems",value:function(){return this.items}}]),t}()).\u0275fac=function(t){return new(t||r)(s.Pb(u.a))},r.\u0275prov=s.Eb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),l=n("J5iy"),h=n("D6lp"),f=n("7JkV");function d(t,e){1&t&&(s.Lb(0,"div",7),s.Lb(1,"div",8),s.Lb(2,"div",9),s.Jb(3,"div",10),s.Kb(),s.Lb(4,"div",11),s.Jb(5,"div",10),s.Kb(),s.Lb(6,"div",12),s.Jb(7,"div",10),s.Kb(),s.Kb(),s.Kb())}function p(t,e){1&t&&(s.Lb(0,"h4"),s.ic(1,"Lieky"),s.Kb())}function v(t,e){if(1&t){var n=s.Mb();s.Lb(0,"div",13),s.Lb(1,"input",14,15),s.Sb("keyup",(function(){s.dc(n);var t=s.cc(2);return s.Ub().searchValue(t.value)})),s.Kb(),s.Lb(3,"label",16),s.Lb(4,"i",17),s.ic(5,"search"),s.Kb(),s.Kb(),s.Kb()}}function y(t,e){if(1&t){var n=s.Mb();s.Lb(0,"app-item-notes",18),s.Sb("newItemEvent",(function(t){return s.dc(n),s.Ub().closeNotes(t)})),s.Kb()}if(2&t){var r=s.Ub();s.Xb("item",r.notesForItem)("group",r.group)}}function g(t,e){if(1&t&&(s.Lb(0,"div",31),s.ic(1),s.Kb()),2&t){var n=s.Ub().$implicit;s.yb(1),s.kc(" ",n.name," ")}}function b(t,e){if(1&t&&(s.Lb(0,"a",32),s.Lb(1,"span"),s.ic(2,"ADC.SK"),s.Kb(),s.Kb()),2&t){var n=s.Ub().$implicit;s.Yb("href",n.link2,s.fc)}}function _(t,e){if(1&t&&(s.Lb(0,"a",33),s.Lb(1,"span"),s.ic(2,"viac inform\xe1cii"),s.Kb(),s.Kb()),2&t){var n=s.Ub().$implicit;s.Yb("href",n.link,s.fc)}}function m(t,e){1&t&&(s.Lb(0,"a",34),s.Lb(1,"span"),s.ic(2,"ADC.SK"),s.Kb(),s.Kb())}function w(t,e){1&t&&(s.Lb(0,"a",35),s.Lb(1,"span"),s.ic(2,"viac inform\xe1cii"),s.Kb(),s.Kb())}function C(t,e){if(1&t){var n=s.Mb();s.Lb(0,"input-field"),s.Lb(1,"label"),s.ic(2),s.Kb(),s.Lb(3,"input",36,15),s.Sb("keyup",(function(){s.dc(n);var t=e.$implicit,r=s.cc(4),i=s.Ub().$implicit,o=s.cc(15);return s.Ub().evaluation(i,t.concat(i.id),o,r)})),s.Kb(),s.Kb()}if(2&t){var r=e.$implicit,i=s.Ub().$implicit;s.yb(2),s.jc(r),s.yb(1),s.Yb("id",r.concat(i.id))}}function k(t,e){if(1&t){var n=s.Mb();s.Lb(0,"button",37),s.Sb("click",(function(){return s.dc(n),s.Ub(2).showPatients()})),s.ic(1,"Zobrazi\u0165 pacientov"),s.Kb()}}function E(t,e){if(1&t){var n=s.Mb();s.Lb(0,"div"),s.Lb(1,"button",38,39),s.Sb("click",(function(){s.dc(n);var t=e.$implicit,r=s.cc(2),i=s.Ub().$implicit;return s.Ub().saveData(i,t,r)})),s.ic(3),s.Kb(),s.Kb()}if(2&t){var r=e.$implicit;s.yb(3),s.kc("Ulo\u017ei\u0165 v\xfdpo\u010det - ",r.name,"")}}function I(t,e){if(1&t){var n=s.Mb();s.Lb(0,"li"),s.hc(1,g,2,1,"div",19),s.Lb(2,"div",20),s.Lb(3,"div",21),s.Lb(4,"button",22),s.Sb("click",(function(){s.dc(n);var t=e.$implicit;return s.Ub().autofill(t)})),s.ic(5,"preddefinovan\xe9 hodnoty"),s.Kb(),s.Lb(6,"button",23),s.Sb("click",(function(){s.dc(n);var t=e.$implicit;return s.Ub().openItemNotes(t)})),s.ic(7,"Pozn\xe1mky"),s.Kb(),s.hc(8,b,3,1,"a",24),s.hc(9,_,3,1,"a",25),s.hc(10,m,3,0,"a",26),s.hc(11,w,3,0,"a",27),s.Kb(),s.Lb(12,"div"),s.hc(13,C,5,2,"input-field",6),s.Lb(14,"p",28,29),s.ic(16,"Zadajte \xfadaje"),s.Kb(),s.Kb(),s.hc(17,k,2,0,"button",30),s.hc(18,E,4,1,"div",6),s.Kb(),s.Kb()}if(2&t){var r=e.$implicit,i=s.Ub();s.yb(1),s.Xb("ngIf",r.name.toLowerCase().includes(i.search)),s.yb(7),s.Xb("ngIf",r.link2),s.yb(1),s.Xb("ngIf",r.link),s.yb(1),s.Xb("ngIf",!r.link2),s.yb(1),s.Xb("ngIf",!r.link),s.yb(2),s.Xb("ngForOf",r.parameters),s.yb(4),s.Xb("ngIf",0==i.patients.length),s.yb(1),s.Xb("ngForOf",i.patients)}}var O,S,T,P,L=((O=function(){function t(e,n,r){_classCallCheck(this,t),this.itemService=e,this.calc=n,this.user=r,this.allItems=[],this.inputValues=new Map,this.isLoading=!0,this.search="",this.notesForItem=null,this.group="lieky",this.patients=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;$(".collapsible").collapsible(),this.itemService.getItems().subscribe((function(e){t.allItems=e.all.sort((function(t,e){return t.name>e.name?1:t.name<e.name?-1:0})),t.isLoading=!1})),this.refreshPatients()}},{key:"refreshPatients",value:function(){var t=this.user.getItemSaved();this.patients=t.allPatients}},{key:"autofill",value:function(t){var e=this;t.fill&&Object.keys(t.fill).forEach((function(n){var r=document.getElementById(n);r.value=t.fill[n],e.evaluation(t,n,null,r)}))}},{key:"searchValue",value:function(t){this.search=t.toLowerCase()}},{key:"evaluation",value:function(t,e,n,r){this.inputValues[e]=r.value.toString(),null!=n&&(n.innerHTML=this.calc.evaluation(this.inputValues,t))}},{key:"closeNotes",value:function(t){this.notesForItem=t}},{key:"openItemNotes",value:function(t){this.notesForItem=t}},{key:"showPatients",value:function(){this.refreshPatients(),0==this.patients.length&&Materialize.toast("Nem\xe1te vytvoren\xfdch \u017eiadnych pacientov...",2e3)}},{key:"saveData",value:function(t,e,n){var r={item:t,dataInputs:JSON.stringify(this.inputValues)};this.uploadToDatabase(e,r,n)}},{key:"uploadToDatabase",value:function(t,e,n){var r=this;this.user.addDataToPatient(t.name,e).catch((function(){Materialize.toast("V\xfdpo\u010det sa nepodarilo ulo\u017ei\u0165",2e3)})).then((function(){Materialize.toast("V\xfdpo\u010det bol ulo\u017een\xfd",2e3),n.innerHTML="Ulo\u017een\xe9 - "+t.name,n.disabled=!0,r.inputValues.clear()}))}}]),t}()).\u0275fac=function(t){return new(t||O)(s.Ib(c),s.Ib(l.a),s.Ib(h.a))},O.\u0275cmp=s.Cb({type:O,selectors:[["app-items"]],decls:7,vars:5,consts:[["class","preloader-wrapper big active container",4,"ngIf"],[4,"ngIf"],["class","input-field container searchBox",4,"ngIf"],[1,"panels"],[3,"item","group","newItemEvent",4,"ngIf"],["data-collapsible","accordion","materialize","collapsible","watch","",1,"collapsible","popout"],[4,"ngFor","ngForOf"],[1,"preloader-wrapper","big","active","container"],[1,"spinner-layer","spinner-blue-only"],[1,"circle-clipper","left"],[1,"circle"],[1,"gap-patch"],[1,"circle-clipper","right"],[1,"input-field","container","searchBox"],["id","search","type","search","placeholder","               Zadajte h\u013eadan\xfd v\xfdraz...",3,"keyup"],["box",""],["for","search"],[1,"material-icons"],[3,"item","group","newItemEvent"],["class","collapsible-header",4,"ngIf"],[1,"collapsible-body"],[1,"buttonBlock"],[1,"btn","buttonPreddef",3,"click"],[1,"btn","buttonNotes","blue","lighten-3","black-text",3,"click"],["class","btn buttonADC","target","_blank",3,"href",4,"ngIf"],["class","btn buttonInfo","target","_blank",3,"href",4,"ngIf"],["class","btn grey buttonADC","target","_blank",4,"ngIf"],["class","btn grey buttonInfo","target","_blank",4,"ngIf"],[1,"resultParagraph"],["boxResult",""],["class","btn",3,"click",4,"ngIf"],[1,"collapsible-header"],["target","_blank",1,"btn","buttonADC",3,"href"],["target","_blank",1,"btn","buttonInfo",3,"href"],["target","_blank",1,"btn","grey","buttonADC"],["target","_blank",1,"btn","grey","buttonInfo"],["placeholder","Zadajte hodnotu...","type","number",3,"id","keyup"],[1,"btn",3,"click"],[1,"btn","btnAddToSaved","green","lighten-2",3,"click"],["btnBOX",""]],template:function(t,e){1&t&&(s.hc(0,d,8,0,"div",0),s.hc(1,p,2,0,"h4",1),s.hc(2,v,6,0,"div",2),s.Lb(3,"div",3),s.hc(4,y,1,2,"app-item-notes",4),s.Kb(),s.Lb(5,"ul",5),s.hc(6,I,19,8,"li",6),s.Kb()),2&t&&(s.Xb("ngIf",e.isLoading),s.yb(1),s.Xb("ngIf",!e.isLoading),s.yb(1),s.Xb("ngIf",!e.isLoading),s.yb(2),s.Xb("ngIf",null!=e.notesForItem),s.yb(2),s.Xb("ngForOf",e.allItems))},directives:[i.l,i.k,f.a],styles:[".z-depth-1[_ngcontent-%COMP%]{font-size:1.4vw}.preloader-wrapper[_ngcontent-%COMP%]{margin-bottom:3%!important;display:block!important}.collapsible-body[_ngcontent-%COMP%]{background-color:#fff}.resultParagraph[_ngcontent-%COMP%]{font-weight:700;padding:5px;border:1px solid green}.btnAddToSaved[_ngcontent-%COMP%]{width:48%;margin:1%;float:left}h4[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;margin-top:0!important;padding-top:.5em}.searchBox[_ngcontent-%COMP%]{margin-top:2em}.panels[_ngcontent-%COMP%]{margin-top:-10em;position:fixed;width:70%}.collapsible[_ngcontent-%COMP%]{margin-bottom:0!important;padding-bottom:1em!important}.collapsible-body[_ngcontent-%COMP%]{padding-bottom:12em!important}.buttonPreddef[_ngcontent-%COMP%]{margin-bottom:.4em}.buttonADC[_ngcontent-%COMP%], .buttonNotes[_ngcontent-%COMP%]{float:right;margin-left:1em}.buttonADC[_ngcontent-%COMP%], .buttonInfo[_ngcontent-%COMP%]{margin-bottom:.4em}.buttonInfo[_ngcontent-%COMP%]{float:right}@media only screen and (max-width:800px){.buttonBlock[_ngcontent-%COMP%]{float:left}.buttonPreddef[_ngcontent-%COMP%]{width:100%}.buttonNotes[_ngcontent-%COMP%]{float:left!important;margin-left:0!important;width:47%}.buttonADC[_ngcontent-%COMP%]{float:right;width:47%}.buttonInfo[_ngcontent-%COMP%]{float:left;width:100%}.panels[_ngcontent-%COMP%]{width:90%!important}.btnAddToSaved[_ngcontent-%COMP%]{width:90%;margin-left:5%;margin-bottom:.5em}}"]}),O),A=[{path:"",component:(S=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),S.\u0275fac=function(t){return new(t||S)},S.\u0275cmp=s.Cb({type:S,selectors:[["app-lieky"]],decls:4,vars:0,consts:[[1,"container"],["href","https://drive.google.com/file/d/1ATkcFn3tS4zSIzRLsXMmcgRP0bgx0wuF/view?usp=sharing","target","_blank",1,"about"]],template:function(t,e){1&t&&(s.Lb(0,"div",0),s.Lb(1,"a",1),s.ic(2,"N\xe1vod na pou\u017eitie"),s.Kb(),s.Jb(3,"app-items"),s.Kb())},directives:[L],styles:[".about[_ngcontent-%COMP%]{text-transform:uppercase;float:right;font-weight:700}"]}),S)}],x=((P=function t(){_classCallCheck(this,t)}).\u0275mod=s.Gb({type:P}),P.\u0275inj=s.Fb({factory:function(t){return new(t||P)},imports:[[a.e.forChild(A)],a.e]}),P),D=((T=function t(){_classCallCheck(this,t)}).\u0275mod=s.Gb({type:T}),T.\u0275inj=s.Fb({factory:function(t){return new(t||T)},imports:[[i.c,o.a,x]]}),T)},PWRg:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("fXoL"),i=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"calculateResultRastKrivky",value:function(t,e,n){var r="Zle zadan\xe9 \xfadaje";if(""==e||""==n)return r;var i=Number(n),o=t[Number(e)];return r=o?i<=o[0]?"<span style='color:red;'>V\xfdsledok: pod 3\xb0</span>":i<=o[1]?"<span style='color:orange;'>V\xfdsledok v rozsahu: medzi 3\xb0 a 10\xb0</span>":i<=o[2]?"<span style='color:green;'>V\xfdsledok v rozsahu: medzi 10\xb0 a 50\xb0</span>":i<=o[3]?"<span style='color:green;'>V\xfdsledok v rozsahu: medzi 50\xb0 a 90\xb0</span>":i<=o[4]?"<span style='color:orange;'>V\xfdsledok v rozsahu: medzi 90\xb0 a 97\xb0</span>":"<span style='color:red;'>V\xfdsledok: nad 97\xb0</span>":"Pre zadan\xe9 hodnoty nie s\xfa zadefinovan\xe9 \xfadaje. Pros\xedm skontrolujte, \u010di sa zadan\xe9 hodnoty nach\xe1dzaj\xfa v intervale grafu..."}},{key:"calculateResultNormogram",value:function(t,e,n,r){var i=e[this.findClosestPositionInGraph(t.step,r)];return i?n<=i[0]?"Pre vek die\u0165a\u0165a "+r.toFixed(2)+"h, hodnotu bilirub\xednu "+(17.1*n).toFixed(2)+"umol/l ("+n.toFixed(2)+"mg/dl) je <span style='color:green;'>percentil pod 5th</span>":n<=i[1]?"Pre vek die\u0165a\u0165a "+r.toFixed(2)+"h, hodnotu bilirub\xednu "+(17.1*n).toFixed(2)+"umol/l ("+n.toFixed(2)+"mg/dl) je <span style='color:green;'>percentil medzi 5th a\u017e 25th</span>":n<=i[2]?"Pre vek die\u0165a\u0165a "+r.toFixed(2)+"h, hodnotu bilirub\xednu "+(17.1*n).toFixed(2)+"umol/l ("+n.toFixed(2)+"mg/dl) je <span style='color:green;'>percentil medzi 25th a\u017e 50th</span>":n<=i[3]?"Pre vek die\u0165a\u0165a "+r.toFixed(2)+"h, hodnotu bilirub\xednu "+(17.1*n).toFixed(2)+"umol/l ("+n.toFixed(2)+"mg/dl) je <span style='color:green;'>percentil medzi 50th a\u017e 75th</span>":n<=i[4]?"Pre vek die\u0165a\u0165a "+r.toFixed(2)+"h, hodnotu bilirub\xednu "+(17.1*n).toFixed(2)+"umol/l ("+n.toFixed(2)+"mg/dl) je <span style='color:orange;'>percentil medzi 75th a\u017e 95th</span>":"Pre vek die\u0165a\u0165a "+r.toFixed(2)+"h, hodnotu bilirub\xednu "+(17.1*n).toFixed(2)+"umol/l ("+n.toFixed(2)+"mg/dl) je <span style='color:red;'>percentil nad 95th</span>":"Pre zadan\xe9 hodnoty nie s\xfa zadefinovan\xe9 \xfadaje. Pros\xedm skontrolujte, \u010di sa zadan\xe9 hodnoty nach\xe1dzaj\xfa v intervalu grafu..."}},{key:"calculateResultIndication",value:function(t,e,n){var r=this.findClosestPositionInGraph(t.step,n),i=Math.max.apply(null,Object.keys(e));r>i&&(r=i);var o=e[r];return o?"Pre vek die\u0165a\u0165a "+n.toFixed(2)+"h s\xfa v\xfdsledn\xe9 hodnoty pribli\u017ene:<br>Infants higher risk: "+o[0]+" mg/dl ("+(17.1*o[0]).toFixed(2)+"umol/l)<br>Infants medium risk: "+o[1]+" mg/dl ("+(17.1*o[1]).toFixed(2)+"umol/l)<br>Infants lower risk: "+o[2]+" mg/dl ("+(17.1*o[2]).toFixed(2)+"umol/l)":"Pre vek die\u0165a\u0165a "+n.toFixed(2)+"h nie s\xfa zadefinovan\xe9 \xfadaje."}},{key:"findClosestPositionInGraph",value:function(t,e){return e%t<=t/2?e-e%t:e+(t-e%t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mAIw"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(r.__spread(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=s,e.Provider=a},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},SxV6:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("sVev"),i=n("pLZG"),o=n("IzEk"),a=n("xbPD"),s=n("XDbj"),u=n("SpAZ");function c(t,e){var n=arguments.length>=2;return function(c){return c.pipe(t?Object(i.a)((function(e,n){return t(e,n,c)})):u.a,Object(o.a)(1),n?Object(a.a)(e):Object(s.a)((function(){return new r.a})))}}},UXLv:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("ofXK"),i=n("fXoL"),o=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Gb({type:t}),t.\u0275inj=i.Fb({factory:function(e){return new(e||t)},imports:[[r.c]]}),t}()},UXun:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("XNiG"),i=n("qgXg"),o=n("quSY"),a=n("pxpQ"),s=n("9ppp"),u=n("Ylt2"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new l(this._getNow(),t)),this._trimBufferThenGetEvents()),_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,c=r.length;if(this.closed)throw new s.a;if(this.isStopped||this.hasError?e=o.a.EMPTY:(this.observers.push(t),e=new u.a(this,t)),i&&t.add(t=new a.a(t,i)),n)for(var l=0;l<c&&!t.closed;l++)t.next(r[l]);else for(var h=0;h<c&&!t.closed;h++)t.next(r[h].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||i.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(r.a),l=function t(e,n){_classCallCheck(this,t),this.time=e,this.value=n};function h(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,u=t.scheduler,l=0,h=!1,f=!1;return function(t){var r;l++,!e||h?(h=!1,e=new c(i,a,u),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){h=!0,e.error(t)},complete:function(){f=!0,n=void 0,e.complete()}})):r=e.subscribe(this),this.add((function(){l--,r.unsubscribe(),n&&!f&&s&&0===l&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(r))}}},UbJi:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("fXoL"),i=n("LRne"),o=n("HDdC"),a=n("Cfvw"),s=n("pxpQ"),u=n("eIep"),c=n("lJxs"),l=n("UXun"),h=n("SxV6"),f=n("spgP"),d=n("ofXK"),p=function(){var t=function t(e,r,p,v){_classCallCheck(this,t);var y=new f.d(v),g=Object(f.f)(y),b=Object(i.a)(void 0).pipe(Object(s.b)(y.outsideAngular),Object(u.a)((function(){return v.runOutsideAngular((function(){return n.e(2).then(n.bind(null,"6nsN"))}))})),Object(c.a)((function(){return Object(f.e)(e,v,r)})),Object(c.a)((function(t){return v.runOutsideAngular((function(){return t.auth()}))})),Object(l.a)({bufferSize:1,refCount:!1}));return Object(d.p)(p)?this.authState=this.user=this.idToken=this.idTokenResult=Object(i.a)(null):(b.pipe(Object(h.a)()).subscribe(),this.authState=b.pipe(Object(u.a)((function(t){return t.getRedirectResult().then((function(){return t}))})),Object(u.a)((function(t){return v.runOutsideAngular((function(){return new o.a(t.onAuthStateChanged.bind(t))}))})),g),this.user=b.pipe(Object(u.a)((function(t){return t.getRedirectResult().then((function(){return t}))})),Object(u.a)((function(t){return v.runOutsideAngular((function(){return new o.a(t.onIdTokenChanged.bind(t))}))})),g),this.idToken=this.user.pipe(Object(u.a)((function(t){return t?Object(a.a)(t.getIdToken()):Object(i.a)(null)}))),this.idTokenResult=this.user.pipe(Object(u.a)((function(t){return t?Object(a.a)(t.getIdTokenResult()):Object(i.a)(null)})))),Object(f.g)(this,b,v)};return t.\u0275fac=function(e){return new(e||t)(r.Pb(f.c),r.Pb(f.b,8),r.Pb(r.B),r.Pb(r.z))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(f.c),Object(r.Pb)(f.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z))},token:t,providedIn:"any"}),t}()},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},VWTT:function(t,e,n){"use strict";n.r(e),n.d(e,"DashboardModule",(function(){return L}));var r=n("UXLv"),i=n("ofXK"),o=n("jcKA"),a=n("tyNb"),s=n("fXoL"),u=n("J5iy"),c=n("qN0D");function l(t,e){1&t&&(s.Lb(0,"div",7),s.Lb(1,"div",8),s.Lb(2,"div",9),s.Jb(3,"div",10),s.Kb(),s.Lb(4,"div",11),s.Jb(5,"div",10),s.Kb(),s.Lb(6,"div",12),s.Jb(7,"div",10),s.Kb(),s.Kb(),s.Kb())}function h(t,e){1&t&&(s.Lb(0,"h4"),s.ic(1,"V\xfdpo\u010dty"),s.Kb())}function f(t,e){if(1&t){var n=s.Mb();s.Lb(0,"div",13),s.Lb(1,"input",14,15),s.Sb("keyup",(function(){s.dc(n);var t=s.cc(2);return s.Ub().searchValue(t.value)})),s.Kb(),s.Lb(3,"label",16),s.Lb(4,"i",17),s.ic(5,"search"),s.Kb(),s.Kb(),s.Kb()}}function d(t,e){if(1&t){var n=s.Mb();s.Lb(0,"app-informations",18),s.Sb("newItemEvent",(function(t){return s.dc(n),s.Ub().closeItem(t)})),s.Kb()}if(2&t){var r=s.Ub();s.Xb("item",r.moreInfoItem)}}function p(t,e){if(1&t&&(s.Lb(0,"div",21),s.ic(1),s.Kb()),2&t){var n=s.Ub().$implicit;s.yb(1),s.kc(" ",n.name," ")}}function v(t,e){if(1&t){var n=s.Mb();s.Lb(0,"input-field"),s.Lb(1,"label"),s.ic(2),s.Kb(),s.Lb(3,"input",27,28),s.Sb("keyup",(function(){s.dc(n);var t=e.$implicit,r=s.cc(4);s.Ub();var i=s.cc(7),o=s.Ub().$implicit;return s.Ub().evaluation(o,t.concat(o.id),i,r)})),s.Kb(),s.Kb()}if(2&t){var r=e.$implicit,i=s.Ub(2).$implicit;s.yb(2),s.jc(r),s.yb(1),s.Yb("id",r.concat(i.id))}}function y(t,e){if(1&t){var n=s.Mb();s.Lb(0,"div",22),s.Lb(1,"div",23),s.Lb(2,"button",24),s.Sb("click",(function(){s.dc(n);var t=s.Ub().$implicit;return s.Ub().openItem(t)})),s.ic(3,"Viac inform\xe1cii"),s.Kb(),s.Kb(),s.Lb(4,"div"),s.hc(5,v,5,2,"input-field",6),s.Lb(6,"p",25,26),s.ic(8,"Zadajte \xfadaje"),s.Kb(),s.Kb(),s.Kb()}if(2&t){var r=s.Ub().$implicit;s.yb(5),s.Xb("ngForOf",r.parameters)}}function g(t,e){if(1&t&&(s.Lb(0,"li"),s.hc(1,p,2,1,"div",19),s.hc(2,y,9,1,"div",20),s.Kb()),2&t){var n=e.$implicit,r=s.Ub();s.yb(1),s.Xb("ngIf",n.name.toLowerCase().includes(r.search)),s.yb(1),s.Xb("ngIf",n.name.toLowerCase().includes(r.search))}}var b,_=((b=function(){function t(e,n){_classCallCheck(this,t),this.itemService=e,this.calc=n,this.inputValues=new Map,this.isLoading=!0,this.moreInfoItem=null,this.search=""}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;$(".collapsible").collapsible(),this.itemService.getItems().subscribe((function(e){t.allItems=e.all.sort((function(t,e){return t.name>e.name?1:t.name<e.name?-1:0})),t.isLoading=!1}))}},{key:"searchValue",value:function(t){this.search=t.toLowerCase()}},{key:"evaluation",value:function(t,e,n,r){this.inputValues[e]=r.value.toString(),n.innerHTML=this.calc.evaluation(this.inputValues,t)}},{key:"closeItem",value:function(t){this.moreInfoItem=t}},{key:"openItem",value:function(t){this.moreInfoItem=t}}]),t}()).\u0275fac=function(t){return new(t||b)(s.Ib(o.a),s.Ib(u.a))},b.\u0275cmp=s.Cb({type:b,selectors:[["app-items"]],decls:7,vars:5,consts:[["class","preloader-wrapper big active container",4,"ngIf"],[4,"ngIf"],["class","input-field container",4,"ngIf"],[1,"panels"],[3,"item","newItemEvent",4,"ngIf"],["watch","",1,"collapsible","popout"],[4,"ngFor","ngForOf"],[1,"preloader-wrapper","big","active","container"],[1,"spinner-layer","spinner-blue-only"],[1,"circle-clipper","left"],[1,"circle"],[1,"gap-patch"],[1,"circle-clipper","right"],[1,"input-field","container"],["id","search","type","search","placeholder","               Zadajte h\u013eadan\xfd v\xfdraz...",3,"keyup"],["boxSearch",""],["for","search"],[1,"material-icons"],[3,"item","newItemEvent"],["class","collapsible-header",4,"ngIf"],["class","collapsible-body",4,"ngIf"],[1,"collapsible-header"],[1,"collapsible-body"],[1,"panelButtons"],[1,"btn","moreInfoButton",3,"click"],[1,"resultParagraph"],["boxInfoResult",""],["placeholder","Zadajte hodnotu...","type","number",3,"id","keyup"],["box",""]],template:function(t,e){1&t&&(s.hc(0,l,8,0,"div",0),s.hc(1,h,2,0,"h4",1),s.hc(2,f,6,0,"div",2),s.Lb(3,"div",3),s.hc(4,d,1,1,"app-informations",4),s.Kb(),s.Lb(5,"ul",5),s.hc(6,g,3,2,"li",6),s.Kb()),2&t&&(s.Xb("ngIf",e.isLoading),s.yb(1),s.Xb("ngIf",!e.isLoading),s.yb(1),s.Xb("ngIf",!e.isLoading),s.yb(2),s.Xb("ngIf",null!=e.moreInfoItem),s.yb(2),s.Xb("ngForOf",e.allItems))},directives:[i.l,i.k,c.a],styles:[".z-depth-1[_ngcontent-%COMP%]{font-size:1.4vw}.preloader-wrapper[_ngcontent-%COMP%]{margin-bottom:3%!important;display:block!important}.collapsible-body[_ngcontent-%COMP%]{background-color:#fff}.resultParagraph[_ngcontent-%COMP%]{font-weight:700;padding:5px;border:1px solid green}h4[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;margin-top:0!important;padding-top:.5em;text-transform:uppercase}p[_ngcontent-%COMP%]{font-size:14px}.panels[_ngcontent-%COMP%]{margin-top:-10em;position:fixed;width:70%}.moreInfoButton[_ngcontent-%COMP%]{float:right}@media only screen and (max-width:800px){.panelButtons[_ngcontent-%COMP%]{float:left}}"]}),b),m=n("adsU");function w(t,e){if(1&t){var n=s.Mb();s.Lb(0,"tr"),s.Lb(1,"td"),s.Lb(2,"label",17),s.ic(3),s.Kb(),s.Lb(4,"input",18,19),s.Sb("keyup",(function(){s.dc(n);var t=e.$implicit,r=s.cc(5);return s.Ub().onInput(r.value,t)})),s.Kb(),s.Kb(),s.Lb(6,"td"),s.ic(7),s.Kb(),s.Lb(8,"td"),s.ic(9),s.Kb(),s.Lb(10,"td"),s.ic(11),s.Kb(),s.Lb(12,"td"),s.ic(13),s.Kb(),s.Lb(14,"td"),s.ic(15),s.Kb(),s.Lb(16,"td"),s.ic(17),s.Kb(),s.Lb(18,"td"),s.ic(19),s.Kb(),s.Lb(20,"td"),s.ic(21),s.Kb(),s.Kb()}if(2&t){var r=e.$implicit;s.yb(3),s.jc(r.val),s.yb(4),s.jc(r.type),s.yb(2),s.jc(r.energy),s.yb(2),s.jc(r.carbo),s.yb(2),s.jc(r.fat),s.yb(2),s.jc(r.protein),s.yb(2),s.jc(r.ca),s.yb(2),s.jc(r.ph),s.yb(2),s.jc(r.fe)}}var C,k,E=((k=function(){function t(){_classCallCheck(this,t),this.energy=0,this.carbo=0,this.fat=0,this.protein=0,this.ca=0,this.ph=0,this.fe=0}return _createClass(t,[{key:"ngOnInit",value:function(){$(".collapsible").collapsible(),this.table=m.a,this.tableValues=new Map(m.b)}},{key:"onInput",value:function(t,e){var n=this.tableValues.get(e.type),r=0;""!=t&&(r="Po\u010det s\xe1\u010dkov"==n.val?Number(t):Number(t)/100),n.energy=e.energy*r,n.carbo=e.carbo*r,n.fat=e.fat*r,n.protein=e.protein*r,n.ca=e.ca*r,n.ph=e.ph*r,n.fe=e.fe*r,this.calculation()}},{key:"calculation",value:function(){var t=this;this.energy=0,this.carbo=0,this.fat=0,this.protein=0,this.ca=0,this.ph=0,this.fe=0,this.tableValues.forEach((function(e,n){t.energy+=e.energy,t.carbo+=e.carbo,t.fat+=e.fat,t.protein+=e.protein,t.ca+=e.ca,t.ph+=e.ph,t.fe+=e.fe}))}}]),t}()).\u0275fac=function(t){return new(t||k)},k.\u0275cmp=s.Cb({type:k,selectors:[["app-table"]],decls:126,vars:8,consts:[["watch","",1,"collapsible","popout"],[1,"collapsible-header"],[1,"collapsible-body"],[1,"highlight","centered"],[4,"ngFor","ngForOf"],[1,"boldText"],[1,"highlight","resultTable"],[1,"sources"],[1,"sourcesHeader"],["href","https://www.neocate.sk/docs/Neocate-Infant-zlozenie.pdf","target","_blank"],["href","https://kategorizacia.mzsr.sk/Dietetika/Download/RequestAttachment/4111","target","_blank"],["href","https://www.nutriklub.sk/media/907/original/Nutrilon_Vyzivove_tabulky_02-2019_01_HA%20PROSYNEO%201.png","target","_blank"],["href","https://www.nutriklub.sk/media/822/original/Nutrilon_Vyzivove_tabulky_01_N1.png","target","_blank"],["href","http://www.internetovalekaren.eu/nestle-beba-pre-discharge-mliecna-vyziva-400g/","target","_blank"],["href","https://www.nestlebaby.cz/sk/product/beba-optipro-ha-1-800-g/","target","_blank"],["href","https://www.nutriklub.cz/media/1439/original/V%C3%BD%C5%BEivov%C3%A9%20%C3%BAdaje.png","target","_blank"],["href","https://www.nestlebaby.cz/sk/product/prebeba-2-fm-85-200g/","target","_blank"],[1,"left"],["type","number","placeholder","Zadajte hodnotu...",3,"keyup"],["box",""]],template:function(t,e){1&t&&(s.Lb(0,"h4"),s.ic(1,"Energetick\xe9 tabu\u013eky"),s.Kb(),s.Lb(2,"ul",0),s.Lb(3,"li"),s.Lb(4,"div",1),s.ic(5," Energetick\xfd pr\xedjem novorodenca \u2013 p.o. pr\xedjem + Ca/P metabolizmus "),s.Kb(),s.Lb(6,"div",2),s.Lb(7,"table",3),s.Lb(8,"thead"),s.Lb(9,"tr"),s.Lb(10,"th"),s.ic(11,"Hodnoty (na 100 ml mlieka)"),s.Kb(),s.Lb(12,"th"),s.ic(13,"Typ mlieka"),s.Kb(),s.Lb(14,"th"),s.ic(15,"Energia [kcal]"),s.Kb(),s.Lb(16,"th"),s.ic(17,"Cukry [g]"),s.Kb(),s.Lb(18,"th"),s.ic(19,"Tuky [g]"),s.Kb(),s.Lb(20,"th"),s.ic(21,"Bielkoviny [g]"),s.Kb(),s.Lb(22,"th"),s.ic(23,"V\xe1pnik [mg]"),s.Kb(),s.Lb(24,"th"),s.ic(25,"Fosfor [mg]"),s.Kb(),s.Lb(26,"th"),s.ic(27,"\u017delezo [mg]"),s.Kb(),s.Kb(),s.Kb(),s.Lb(28,"tbody"),s.hc(29,w,22,9,"tr",4),s.Lb(30,"tr"),s.Lb(31,"td",5),s.ic(32,"Spolu:"),s.Kb(),s.Jb(33,"td"),s.Lb(34,"td",5),s.ic(35),s.Kb(),s.Lb(36,"td",5),s.ic(37),s.Kb(),s.Lb(38,"td",5),s.ic(39),s.Kb(),s.Lb(40,"td",5),s.ic(41),s.Kb(),s.Lb(42,"td",5),s.ic(43),s.Kb(),s.Lb(44,"td",5),s.ic(45),s.Kb(),s.Lb(46,"td",5),s.ic(47),s.Kb(),s.Kb(),s.Lb(48,"tr"),s.Jb(49,"th"),s.Jb(50,"th"),s.Lb(51,"th"),s.ic(52,"Energia [kcal]"),s.Kb(),s.Lb(53,"th"),s.ic(54,"Cukry [g]"),s.Kb(),s.Lb(55,"th"),s.ic(56,"Tuky [g]"),s.Kb(),s.Lb(57,"th"),s.ic(58,"Bielkoviny [g]"),s.Kb(),s.Lb(59,"th"),s.ic(60,"V\xe1pnik [mg]"),s.Kb(),s.Lb(61,"th"),s.ic(62,"Fosfor [mg]"),s.Kb(),s.Lb(63,"th"),s.ic(64,"\u017delezo [mg]"),s.Kb(),s.Kb(),s.Kb(),s.Kb(),s.Jb(65,"br"),s.Jb(66,"br"),s.Lb(67,"table",6),s.Lb(68,"thead"),s.Lb(69,"tr"),s.Jb(70,"th"),s.Lb(71,"th"),s.ic(72,"V\xe1pnik (denn\xe1 potreba 160-200mg/kg/de\u0148)"),s.Kb(),s.Lb(73,"th"),s.ic(74,"Fosfor (denn\xe1 potreba 60-90mg/kg/de\u0148)"),s.Kb(),s.Kb(),s.Kb(),s.Lb(75,"tbody"),s.Lb(76,"tr"),s.Lb(77,"td"),s.ic(78,"p.o. substit\xfacia"),s.Kb(),s.Lb(79,"td"),s.ic(80,"\u2022\tCa sirup: 1ml obsahuje 24mg Ca"),s.Kb(),s.Lb(81,"td"),s.ic(82,"\u2022\tFosf\xe1tov\xfd roztok: 1ml obsahuje 37,5mg P"),s.Kb(),s.Kb(),s.Lb(83,"tr"),s.Lb(84,"td"),s.ic(85,"i.v. substit\xfacia"),s.Kb(),s.Lb(86,"td"),s.ic(87,"\u2022\t10% Ca gluconicum: 1ml obsahuje 9mg Ca"),s.Kb(),s.Lb(88,"td"),s.ic(89,"\u2022\tGluk\xf3zo-1-fosf\xe1t: 1ml obsahuje 31mg P"),s.Kb(),s.Kb(),s.Lb(90,"tr"),s.Jb(91,"td"),s.Jb(92,"td"),s.Lb(93,"td"),s.ic(94,"\u2022\tNatrium-gluk\xf3zo-fosf\xe1t: 1ml obsahuje 31mg P"),s.Kb(),s.Kb(),s.Lb(95,"tr"),s.Jb(96,"td"),s.Jb(97,"td"),s.Lb(98,"td"),s.ic(99,"\u2022\t13,6% Natrium-gluk\xf3zo-fosforicum: 1ml obsahuje 31mg P"),s.Kb(),s.Kb(),s.Kb(),s.Kb(),s.Kb(),s.Kb(),s.Kb(),s.Lb(100,"div",7),s.Lb(101,"p",8),s.ic(102,"Zdroje:"),s.Kb(),s.Lb(103,"a",9),s.ic(104,"https://www.neocate.sk/docs/Neocate-Infant-zlozenie.pdf"),s.Kb(),s.Jb(105,"br"),s.Lb(106,"a",10),s.ic(107,"https://kategorizacia.mzsr.sk/Dietetika/Download/RequestAttachment/4111 "),s.Kb(),s.Jb(108,"br"),s.Lb(109,"a",11),s.ic(110,"https://www.nutriklub.sk/media/907/original/Nutrilon_Vyzivove_tabulky_02-2019_01_HA%20PROSYNEO%201.png"),s.Kb(),s.Jb(111,"br"),s.Lb(112,"a",12),s.ic(113,"https://www.nutriklub.sk/media/822/original/Nutrilon_Vyzivove_tabulky_01_N1.png"),s.Kb(),s.Jb(114,"br"),s.Lb(115,"a",13),s.ic(116,"http://www.internetovalekaren.eu/nestle-beba-pre-discharge-mliecna-vyziva-400g/"),s.Kb(),s.Jb(117,"br"),s.Lb(118,"a",14),s.ic(119,"https://www.nestlebaby.cz/sk/product/beba-optipro-ha-1-800-g/ "),s.Kb(),s.Jb(120,"br"),s.Lb(121,"a",15),s.ic(122,"https://www.nutriklub.cz/media/1439/original/V%C3%BD%C5%BEivov%C3%A9%20%C3%BAdaje.png"),s.Kb(),s.Jb(123,"br"),s.Lb(124,"a",16),s.ic(125,"https://www.nestlebaby.cz/sk/product/prebeba-2-fm-85-200g/ "),s.Kb(),s.Kb()),2&t&&(s.yb(29),s.Xb("ngForOf",e.table),s.yb(6),s.jc(e.energy.toFixed(2)),s.yb(2),s.jc(e.carbo.toFixed(2)),s.yb(2),s.jc(e.fat.toFixed(2)),s.yb(2),s.jc(e.protein.toFixed(2)),s.yb(2),s.jc(e.ca.toFixed(2)),s.yb(2),s.jc(e.ph.toFixed(2)),s.yb(2),s.jc(e.fe.toFixed(2)))},directives:[i.k],styles:[".collapsible-body[_ngcontent-%COMP%]{background-color:#fff;overflow:scroll!important}.collapsible[_ngcontent-%COMP%]{margin-bottom:0!important}h4[_ngcontent-%COMP%]{text-transform:uppercase;margin-top:1em;margin-bottom:1em;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif}.sources[_ngcontent-%COMP%]{padding-top:1em;padding-left:2em;padding-bottom:2em;word-break:break-all}.sourcesHeader[_ngcontent-%COMP%]{width:70%}.boldText[_ngcontent-%COMP%], .sourcesHeader[_ngcontent-%COMP%]{font-weight:700}"]}),k),I=((C=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||C)},C.\u0275cmp=s.Cb({type:C,selectors:[["app-td-list"]],decls:5,vars:0,consts:[[1,"container"],["href","https://drive.google.com/file/d/1GFwy44UOiPXxKfJbgIuK8XjcX41Zzju1/view?usp=sharing","target","_blank",1,"moreInformations"]],template:function(t,e){1&t&&(s.Lb(0,"div",0),s.Lb(1,"a",1),s.ic(2,"N\xe1vod na pou\u017eitie"),s.Kb(),s.Jb(3,"app-items"),s.Jb(4,"app-table"),s.Kb())},directives:[_,E],styles:[".button-dv[_ngcontent-%COMP%]{float:right}.moreInformations[_ngcontent-%COMP%]{text-transform:uppercase;float:right;font-weight:700}"]}),C);n("HTFn");var O,S,T=[{path:"",component:I}],P=((S=function t(){_classCallCheck(this,t)}).\u0275mod=s.Gb({type:S}),S.\u0275inj=s.Fb({factory:function(t){return new(t||S)},imports:[[a.e.forChild(T)],a.e]}),S),L=((O=function t(){_classCallCheck(this,t)}).\u0275mod=s.Gb({type:O}),O.\u0275inj=s.Fb({factory:function(t){return new(t||O)},providers:[o.a],imports:[[i.c,P,r.a]]}),O)},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r:{default:r};i.default.registerVersion("firebase","7.24.0","app"),t.exports=i.default},XDbj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("sVev"),i=n("7o/Q");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return function(e){return e.lift(new a(t))}}var a=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.errorFactory))}}]),t}(),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(i.a);function u(){return new r.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new h(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new h(t,e)},t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a),i=n("SeVD"),o=n("HDdC");function a(t,e,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r(t,n,a);if(!s.closed)return e instanceof o.a?e.subscribe(s):Object(i.a)(e)(s)}},adsU:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return s}));var r=[{type:"\u017densk\xe9 mlieko",energy:65,carbo:7,fat:3.75,protein:1.25,ca:33,ph:15,fe:1,val:"ml"},{type:"Neocate Infant",energy:71,carbo:7.1,fat:3.5,protein:1.8,ca:77.1,ph:50.2,fe:1,val:"ml"},{type:"Nenatal 0",energy:80,carbo:8.38,fat:3.85,protein:2.65,ca:100.13,ph:62.66,fe:1.6,val:"ml"},{type:"Nutrilon HA",energy:67,carbo:7.2,fat:3.4,protein:1.6,ca:50,ph:26,fe:.5,val:"ml"},{type:"Nutrilon NA",energy:66,carbo:6.9,fat:3.5,protein:1.8,ca:50,ph:28,fe:.8,val:"ml"},{type:"Pre Beba Discharge",energy:73,carbo:7.7,fat:3.8,protein:2,ca:77.5,ph:45.5,fe:.8,val:"ml"},{type:"Beba HA",energy:67,carbo:7.8,fat:3.4,protein:1.3,ca:45.5,ph:26.2,fe:.7,val:"ml"},{type:"Nutrilon ProExpert Human Milk Fortifier (HMF) (2,2g)",energy:8,carbo:1.4,fat:0,protein:.6,ca:33,ph:19,fe:0,val:"Po\u010det s\xe1\u010dkov"},{type:"PreBEBA 2 FM (1g)",energy:3.5,carbo:.66,fat:0,protein:.2,ca:15,ph:9,fe:.34,val:"Po\u010det s\xe1\u010dkov"}],i=new Map([["\u017densk\xe9 mlieko",{type:"\u017densk\xe9 mlieko",energy:0,carbo:0,fat:0,protein:0,ca:0,ph:0,fe:0,val:"ml"}],["Neocate Infant",{type:"Neocate",energy:0,carbo:0,fat:0,protein:0,ca:0,ph:0,fe:0,val:"ml"}],["Nenatal 0",{type:"Nenatal",energy:0,carbo:0,fat:0,protein:0,ca:0,ph:0,fe:0,val:"ml"}],["Nutrilon HA",{type:"Nutrilon HA",energy:0,carbo:0,fat:0,protein:0,ca:0,ph:0,fe:0,val:"ml"}],["Nutrilon NA",{type:"Nutrilon NA",energy:0,carbo:0,fat:0,protein:0,ca:0,ph:0,fe:0,val:"ml"}],["Pre Beba Discharge",{type:"Pre Beba Discharge",energy:0,carbo:0,fat:0,protein:0,ca:0,ph:0,fe:0,val:"ml"}],["Beba HA",{type:"Beba HA",energy:0,carbo:0,fat:0,protein:0,ca:0,ph:0,fe:0,val:"ml"}],["Nutrilon ProExpert Human Milk Fortifier (HMF) (2,2g)",{type:"HMF (2,2g)",energy:0,carbo:0,fat:0,protein:0,ca:0,ph:0,fe:0,val:"Po\u010det s\xe1\u010dkov"}],["PreBEBA 2 FM (1g)",{type:"FM (1g)",energy:0,carbo:0,fat:0,protein:0,ca:0,ph:0,fe:0,val:"Po\u010det s\xe1\u010dkov"}]]),o=[{weight:500,nazo:7,oro:6,kanyle:2},{weight:750,nazo:7.5,oro:6.5,kanyle:2},{weight:1e3,nazo:8,oro:7,kanyle:2.5},{weight:1250,nazo:8.5,oro:7.5,kanyle:2.5},{weight:1500,nazo:9,oro:8,kanyle:2.5},{weight:1750,nazo:9.5,oro:8.5,kanyle:2.5},{weight:2e3,nazo:10,oro:9,kanyle:3},{weight:2500,nazo:10.5,oro:9.5,kanyle:3},{weight:3e3,nazo:11,oro:10,kanyle:3},{weight:3500,nazo:11,oro:10,kanyle:3.5},{weight:4e3,nazo:11.5,oro:10.5,kanyle:3.5}],a=[{name:"ADRENAL\xcdN <span class='green-text'>(10mg/1ml)</span>",davkaFrom:.01,davkaTo:.03,resultMg:"",resultMl:"",davkaValue:"mg",resMlIndication:10},{name:"ATROP\xcdN <span class='green-text'>(0,5mg/1ml)</span>",davkaFrom:.02,davkaTo:null,resultMg:"",resultMl:"",davkaValue:"mg",resMlIndication:.5},{name:"MIDAZOLAM <span class='green-text'>(5mg/1ml)</span>",davkaFrom:.1,davkaTo:.3,resultMg:"",resultMl:"",davkaValue:"mg",resMlIndication:5},{name:"ROCURONIUM / ESMERON <span class='green-text'>(50mg/5ml)</span>",davkaFrom:.6,davkaTo:1,resultMg:"",resultMl:"",davkaValue:"mg",resMlIndication:10},{name:"SUKCYNYLCHOL\xcdN <span class='green-text'>(100mg/5ml)</span>",davkaFrom:1,davkaTo:2,resultMg:"",resultMl:"",davkaValue:"mg",resMlIndication:20},{name:"ADENOZ\xcdN <span class='green-text'>(3mg/1ml)</span>",davkaFrom:.1,davkaTo:.2,resultMg:"",resultMl:"",davkaValue:"mg",resMlIndication:3},{name:"AMIODARONE <span class='green-text'>(50mg/1ml)</span>",davkaFrom:5,davkaTo:null,resultMg:"",resultMl:"",davkaValue:"mg",resMlIndication:50},{name:"APAUR\xcdN <span class='green-text'>(5mg/1ml)</span>",davkaFrom:.25,davkaTo:null,resultMg:"",resultMl:"",davkaValue:"mg",resMlIndication:5},{name:"TRACRIUM <span class='green-text'>(50mg/5ml)</span>",davkaFrom:.5,davkaTo:null,resultMg:"",resultMl:"",davkaValue:"mg",resMlIndication:10},{name:"10% CALCIUM CHLORATUM",davkaFrom:.2,davkaTo:null,resultMg:"",resultMl:"",davkaValue:"ml",resMlIndication:null},{name:"10% CALCIUM GLUCONICUM",davkaFrom:.5,davkaTo:null,resultMg:"",resultMl:"",davkaValue:"ml",resMlIndication:null},{name:"4,2% NaHCO3",davkaFrom:2,davkaTo:4,resultMg:"",resultMl:"",davkaValue:"ml",resMlIndication:null},{name:"LUMINAL <span class='green-text'>(200mg/1ml)</span>",davkaFrom:10,davkaTo:null,resultMg:"",resultMl:"",davkaValue:"mg",resMlIndication:200},{name:"HYDROKORTIZ\xd3N <span class='green-text'>(100mg/2ml)</span>",davkaFrom:10,davkaTo:null,resultMg:"",resultMl:"",davkaValue:"mg",resMlIndication:50}],s=new Map([["https://www.uenps.eu/","https://firebasestorage.googleapis.com/v0/b/project-try-novu.appspot.com/o/ODKAZY%2F1link.jpg?alt=media&token=8fa30dd3-5f3c-4811-b63c-cb61638caed1"],["https://www.efcni.org/","https://firebasestorage.googleapis.com/v0/b/project-try-novu.appspot.com/o/ODKAZY%2F2link.png?alt=media&token=b5d5ada2-7c0e-412d-97fe-66c50e1a0054"],["https://www.aap.org/en-us/Pages/Default.aspx","https://firebasestorage.googleapis.com/v0/b/project-try-novu.appspot.com/o/ODKAZY%2F4link.svg?alt=media&token=b9e4e54f-0d64-4cfb-ba2d-3ccf08eb0502"],["https://www.nichd.nih.gov/cochrane","https://firebasestorage.googleapis.com/v0/b/project-try-novu.appspot.com/o/ODKAZY%2F6link.svg?alt=media&token=f668b38a-b89a-4ef6-b13b-bba35139249b"],["https://www.gfmer.ch/000_Homepage_En.htm","https://firebasestorage.googleapis.com/v0/b/project-try-novu.appspot.com/o/ODKAZY%2F7link.jpg?alt=media&token=cbc22079-96c1-49c5-a0d5-e8dc6bc7d386"],["http://slovenskaneonatologia.sk","https://firebasestorage.googleapis.com/v0/b/project-try-novu.appspot.com/o/ODKAZY%2FSLOVAKNEONATALOBR.png?alt=media&token=53f9a7f7-b250-4fe6-aa97-daafe393cbd3"]])},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function a(t,e){return"function"==typeof e?function(n){return n.pipe(a((function(n,o){return Object(i.a)(t(n,o)).pipe(Object(r.a)((function(t,r){return e(n,t,o,r)})))})))}:function(e){return e.lift(new s(t))}}var s=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.project))}}]),t}(),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new o.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(o.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(o.b)},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return ho})),n.d(e,"b",(function(){return Fs})),n.d(e,"c",(function(){return Ds})),n.d(e,"d",(function(){return As})),n.d(e,"e",(function(){return xs})),n.d(e,"f",(function(){return Su})),n.d(e,"g",(function(){return gu})),n.d(e,"h",(function(){return Gi})),n.d(e,"i",(function(){return Xs})),n.d(e,"j",(function(){return ya})),n.d(e,"k",(function(){return Ks})),n.d(e,"l",(function(){return ga})),n.d(e,"m",(function(){return wn})),n.d(e,"n",(function(){return vs})),n.d(e,"o",(function(){return G})),n.d(e,"p",(function(){return l})),n.d(e,"q",(function(){return W})),n.d(e,"r",(function(){return lo})),n.d(e,"s",(function(){return Ra})),n.d(e,"t",(function(){return ja})),n.d(e,"u",(function(){return Vs})),n.d(e,"v",(function(){return at})),n.d(e,"w",(function(){return _u})),n.d(e,"x",(function(){return ot})),n.d(e,"y",(function(){return fu})),n.d(e,"z",(function(){return Zs})),n.d(e,"A",(function(){return h})),n.d(e,"B",(function(){return js})),n.d(e,"C",(function(){return Rs})),n.d(e,"D",(function(){return wa})),n.d(e,"E",(function(){return _a})),n.d(e,"F",(function(){return ma})),n.d(e,"G",(function(){return ka})),n.d(e,"H",(function(){return cr})),n.d(e,"I",(function(){return d})),n.d(e,"J",(function(){return Cu})),n.d(e,"K",(function(){return Ka})),n.d(e,"L",(function(){return au})),n.d(e,"M",(function(){return Xi})),n.d(e,"N",(function(){return Ia})),n.d(e,"O",(function(){return Ea})),n.d(e,"P",(function(){return Ba})),n.d(e,"Q",(function(){return pt})),n.d(e,"R",(function(){return du})),n.d(e,"S",(function(){return Un})),n.d(e,"T",(function(){return L})),n.d(e,"U",(function(){return Fn})),n.d(e,"V",(function(){return Iu})),n.d(e,"W",(function(){return uu})),n.d(e,"X",(function(){return Us})),n.d(e,"Y",(function(){return Ji})),n.d(e,"Z",(function(){return os})),n.d(e,"ab",(function(){return sr})),n.d(e,"bb",(function(){return qn})),n.d(e,"cb",(function(){return Pn})),n.d(e,"db",(function(){return An})),n.d(e,"eb",(function(){return Mn})),n.d(e,"fb",(function(){return Dn})),n.d(e,"gb",(function(){return xn})),n.d(e,"hb",(function(){return Nn})),n.d(e,"ib",(function(){return es})),n.d(e,"jb",(function(){return Eu})),n.d(e,"kb",(function(){return ns})),n.d(e,"lb",(function(){return rs})),n.d(e,"mb",(function(){return Ln})),n.d(e,"nb",(function(){return F})),n.d(e,"ob",(function(){return ko})),n.d(e,"pb",(function(){return Vo})),n.d(e,"qb",(function(){return Uo})),n.d(e,"rb",(function(){return ts})),n.d(e,"sb",(function(){return qt})),n.d(e,"tb",(function(){return S})),n.d(e,"ub",(function(){return Tn})),n.d(e,"vb",(function(){return vo})),n.d(e,"wb",(function(){return Ft})),n.d(e,"xb",(function(){return da})),n.d(e,"yb",(function(){return Pr})),n.d(e,"zb",(function(){return So})),n.d(e,"Ab",(function(){return Jo})),n.d(e,"Bb",(function(){return Ss})),n.d(e,"Cb",(function(){return bt})),n.d(e,"Db",(function(){return It})),n.d(e,"Eb",(function(){return g})),n.d(e,"Fb",(function(){return b})),n.d(e,"Gb",(function(){return Ct})),n.d(e,"Hb",(function(){return Ot})),n.d(e,"Ib",(function(){return Ao})),n.d(e,"Jb",(function(){return jo})),n.d(e,"Kb",(function(){return Ro})),n.d(e,"Lb",(function(){return Mo})),n.d(e,"Mb",(function(){return Fo})),n.d(e,"Nb",(function(){return gn})),n.d(e,"Ob",(function(){return oa})),n.d(e,"Pb",(function(){return et})),n.d(e,"Qb",(function(){return xo})),n.d(e,"Rb",(function(){return Ls})),n.d(e,"Sb",(function(){return Ko})),n.d(e,"Tb",(function(){return Ts})),n.d(e,"Ub",(function(){return qo})),n.d(e,"Vb",(function(){return ds})),n.d(e,"Wb",(function(){return ps})),n.d(e,"Xb",(function(){return Do})),n.d(e,"Yb",(function(){return Ho})),n.d(e,"Zb",(function(){return ls})),n.d(e,"ac",(function(){return hs})),n.d(e,"bc",(function(){return Os})),n.d(e,"cc",(function(){return Lo})),n.d(e,"dc",(function(){return le})),n.d(e,"ec",(function(){return lr})),n.d(e,"fc",(function(){return hr})),n.d(e,"gc",(function(){return kt})),n.d(e,"hc",(function(){return Po})),n.d(e,"ic",(function(){return ea})),n.d(e,"jc",(function(){return na})),n.d(e,"kc",(function(){return ra})),n.d(e,"lc",(function(){return ia}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("w1tV");function u(t){return{toString:t}.toString()}function c(t,e,n){return u((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var l=c("Inject",(function(t){return{token:t}})),h=c("Optional"),f=c("Self"),d=c("SkipSelf"),p=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function v(t){for(var e in t)if(t[e]===v)return e;throw Error("Could not find renamed property on target object.")}function y(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function g(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function b(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function _(t){return m(t,t[C])||m(t,t[I])}function m(t,e){return e&&e.token===t?e:null}function w(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(O))?t[k]:null}var C=v({"\u0275prov":v}),k=v({"\u0275inj":v}),E=v({"\u0275provFallback":v}),I=v({ngInjectableDef:v}),O=v({ngInjectorDef:v});function S(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(S).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function T(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var P=v({__forward_ref__:v});function L(t){return t.__forward_ref__=L,t.toString=function(){return S(this())},t}function A(t){return x(t)?t():t}function x(t){return"function"==typeof t&&t.hasOwnProperty(P)&&t.__forward_ref__===L}var D,N="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,F=N||j||M||R,U=v({"\u0275cmp":v}),V=v({"\u0275dir":v}),K=v({"\u0275pipe":v}),z=v({"\u0275mod":v}),B=v({"\u0275loc":v}),q=v({"\u0275fac":v}),H=v({__NG_ELEMENT_ID__:v}),W=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=g({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),G=new W("INJECTOR",-1),Q={},X=/\n/gm,J=v({provide:String,useValue:v}),Y=void 0;function Z(t){var e=Y;return Y=t,e}function $(t){var e=D;return D=t,e}function tt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Default;if(void 0===Y)throw new Error("inject() must be called from an injection context");return null===Y?nt(t,void 0,e):Y.get(t,e&p.Optional?null:void 0,e)}function et(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Default;return(D||tt)(A(t),e)}function nt(t,e,n){var r=_(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&p.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(S(t),"]"))}function rt(t){for(var e=[],n=0;n<t.length;n++){var r=A(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=p.Default,a=0;a<r.length;a++){var s=r[a];s instanceof h||"Optional"===s.ngMetadataName||s===h?o|=p.Optional:s instanceof d||"SkipSelf"===s.ngMetadataName||s===d?o|=p.SkipSelf:s instanceof f||"Self"===s.ngMetadataName||s===f?o|=p.Self:i=s instanceof l||s===l?s.token:s}e.push(et(i,o))}else e.push(et(r))}return e}var it=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q;if(e===Q){var n=new Error("NullInjectorError: No provider for ".concat(S(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),ot=function t(){_classCallCheck(this,t)},at=function t(){_classCallCheck(this,t)};function st(t,e){t.forEach((function(t){return Array.isArray(t)?st(t,e):e(t)}))}function ut(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ct(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function lt(t,e){var n=ht(t,e);if(n>=0)return t[1|n]}function ht(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var ft,dt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),pt=((ft={})[ft.Emulated=0]="Emulated",ft[ft.Native=1]="Native",ft[ft.None=2]="None",ft[ft.ShadowDom=3]="ShadowDom",ft),vt={},yt=[],gt=0;function bt(t){return u((function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===dt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||yt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||pt.Emulated,id:"c",styles:t.styles||yt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=gt++,n.inputs=Et(t.inputs,e),n.outputs=Et(t.outputs),i&&i.forEach((function(t){return t(n)})),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(_t)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(mt)}:null,n}))}function _t(t){return St(t)||function(t){return t[V]||null}(t)}function mt(t){return function(t){return t[K]||null}(t)}var wt={};function Ct(t){var e={type:t.type,bootstrap:t.bootstrap||yt,declarations:t.declarations||yt,imports:t.imports||yt,exports:t.exports||yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&u((function(){wt[t.id]=t.type})),e}function kt(t,e){return u((function(){var n=Pt(t,!0);n.declarations=e.declarations||yt,n.imports=e.imports||yt,n.exports=e.exports||yt}))}function Et(t,e){if(null==t)return vt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var It=bt;function Ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function St(t){return t[U]||null}function Tt(t,e){return t.hasOwnProperty(q)?t[q]:null}function Pt(t,e){var n=t[z]||null;if(!n&&!0===e)throw new Error("Type ".concat(S(t)," does not have '\u0275mod' property."));return n}function Lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function At(t){return Array.isArray(t)&&!0===t[1]}function xt(t){return 0!=(8&t.flags)}function Dt(t){return 2==(2&t.flags)}function Nt(t){return 1==(1&t.flags)}function Mt(t){return null!==t.template}function Rt(t){return 0!=(512&t[2])}var jt=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Ft(){return Ut}function Ut(t){return t.type.prototype.ngOnChanges&&(t.setInput=Kt),Vt}function Vt(){var t=zt(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===vt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Kt(t,e,n,r){var i=zt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:vt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new jt(u&&u.currentValue,e,a===vt),t[r]=e}function zt(t){return t.__ngSimpleChanges__||null}Ft.ngInherit=!0;var Bt=void 0;function qt(t){Bt=t}function Ht(){return void 0!==Bt?Bt:"undefined"!=typeof document?document:void 0}function Wt(t){return!!t.listen}var Gt={createRenderer:function(t,e){return Ht()}};function Qt(t){for(;Array.isArray(t);)t=t[0];return t}function Xt(t,e){return Qt(e[t+20])}function Jt(t,e){return Qt(e[t.index])}function Yt(t,e){return t.data[e+20]}function Zt(t,e){return t[e+20]}function $t(t,e){var n=e[t];return Lt(n)?n:n[0]}function te(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ee(t){return 4==(4&t[2])}function ne(t){return 128==(128&t[2])}function re(t,e){return null===t||null==e?null:t[e]}function ie(t){t[18]=0}function oe(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var ae={lFrame:Se(null),bindingsEnabled:!0,checkNoChangesMode:!1};function se(){return ae.bindingsEnabled}function ue(){return ae.lFrame.lView}function ce(){return ae.lFrame.tView}function le(t){ae.lFrame.contextLView=t}function he(){return ae.lFrame.currentTNode}function fe(t,e){ae.lFrame.currentTNode=t,ae.lFrame.isParent=e}function de(){return ae.lFrame.isParent}function pe(){return ae.checkNoChangesMode}function ve(t){ae.checkNoChangesMode=t}function ye(){var t=ae.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ge(){return ae.lFrame.bindingIndex}function be(){return ae.lFrame.bindingIndex++}function _e(t){var e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function me(t,e){var n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,we(e)}function we(t){ae.lFrame.currentDirectiveIndex=t}function Ce(){return ae.lFrame.currentQueryIndex}function ke(t){ae.lFrame.currentQueryIndex=t}function Ee(t,e){var n=Oe();ae.lFrame=n,n.currentTNode=e,n.lView=t}function Ie(t){var e=Oe(),n=t[1];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function Oe(){var t=ae.lFrame,e=null===t?null:t.child;return null===e?Se(t):e}function Se(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Te(){var t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Pe=Te;function Le(){var t=Te();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ae(){return ae.lFrame.selectedIndex}function xe(t){ae.lFrame.selectedIndex=t}function De(){var t=ae.lFrame;return Yt(t.tView,t.selectedIndex)}function Ne(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Me(t,e,n){Fe(t,e,3,n)}function Re(t,e,n,r){(3&t[2])===n&&Fe(t,e,n,r)}function je(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Fe(t,e,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ue(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ue(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var Ve=function t(e,n,r){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Ke(t,e,n){for(var r=Wt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Be(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function ze(t){return 3===t||4===t||6===t}function Be(t){return 64===t.charCodeAt(0)}function qe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||He(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function He(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function We(t){return-1!==t}function Ge(t){return 32767&t}function Qe(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}function Xe(t){return"string"==typeof t?t:null==t?"":""+t}function Je(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Xe(t)}var Ye=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(F);function Ze(t){return t instanceof Function?t():t}var $e=!0;function tn(t){var e=$e;return $e=t,e}var en=0;function nn(t,e){var n=on(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,rn(r.data,t),rn(e,null),rn(r.blueprint,null));var i=an(t,e),o=t.injectorIndex;if(We(i))for(var a=Ge(i),s=Qe(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function rn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function on(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function an(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function sn(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(H)&&(r=n[H]),null==r&&(r=n[H]=en++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e,n)}function un(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(H)?t[H]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){Ee(e,t);try{var a=o();if(null!=a||r&p.Optional)return a;throw new Error("No provider for ".concat(Je(n),"!"))}finally{Pe()}}else if("number"==typeof o){if(-1===o)return new vn(t,e);var s=null,u=on(t,e),c=-1,l=r&p.Host?e[16][6]:null;for((-1===u||r&p.SkipSelf)&&(-1!==(c=-1===u?an(t,e):e[u+8])&&pn(r,!1)?(s=e[1],u=Ge(c),e=Qe(c,e)):u=-1);-1!==u;){var h=e[1];if(dn(o,u,h.data)){var f=ln(u,e,n,s,r,l);if(f!==cn)return f}-1!==(c=e[u+8])&&pn(r,e[1].data[u+8]===l)&&dn(o,u,e)?(s=h,u=Ge(c),e=Qe(c,e)):u=-1}}}if(r&p.Optional&&void 0===i&&(i=null),0==(r&(p.Self|p.Host))){var d=e[9],v=$(void 0);try{return d?d.get(n,i,r&p.Optional):nt(n,i,r&p.Optional)}finally{$(v)}}if(r&p.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Je(n),"]"))}var cn={};function ln(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=hn(s,a,n,null==r?Dt(s)&&$e:r!=a&&2===s.type,i&p.Host&&o===s);return null!==u?fn(e,a,u,s):cn}function hn(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Mt(d)&&d.type===n)return u}return null}function fn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Ve){var a=i;if(a.resolving)throw new Error("Circular dep for "+Je(o[n]));var s=tn(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?$(a.injectImpl):null;Ee(t,r);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var s=Ut(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==u&&$(u),tn(s),a.resolving=!1,Pe()}}return i}function dn(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function pn(t,e){return!(t&p.Self||t&p.Host&&e)}var vn=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return un(this._tNode,this._lView,t,void 0,e)}}]),t}();function yn(t){var e=t;if(x(t))return function(){var t=yn(A(e));return t?t():null};var n=Tt(e);if(null===n){var r=w(e);n=r&&r.factory}return n||null}function gn(t){return u((function(){for(var e=t.prototype.constructor,n=e[q]||yn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[q]||yn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}}))}function bn(t){return t.ngDebugContext}function _n(t){return t.ngOriginalError}function mn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var wn=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||mn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?bn(t)?bn(t):this._findContext(_n(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=_n(t);e&&_n(e);)e=_n(e);return e}}]),t}(),Cn=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),kn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Cn),En=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Cn),In=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Cn),On=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Cn),Sn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Cn);function Tn(t){return t instanceof Cn?t.changingThisBreaksApplicationSecurity:t}function Pn(t,e){var n=Ln(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function Ln(t){return t instanceof Cn&&t.getTypeName()||null}function An(t){return new kn(t)}function xn(t){return new En(t)}function Dn(t){return new In(t)}function Nn(t){return new On(t)}function Mn(t){return new Sn(t)}var Rn=!0,jn=!1;function Fn(){return jn=!0,Rn}function Un(){if(jn)throw new Error("Cannot enable prod mode after platform setup.");Rn=!1}var Vn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}}]),t}(),Kn=function(){function t(e){if(_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return _createClass(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Bn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function qn(t){return(t=String(t)).match(zn)||t.match(Bn)?t:(Fn()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Hn(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Wn(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var Gn,Qn=Hn("area,br,col,hr,img,wbr"),Xn=Hn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jn=Hn("rp,rt"),Yn=Wn(Jn,Xn),Zn=Wn(Qn,Wn(Xn,Hn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wn(Jn,Hn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yn),$n=Hn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tr=Hn("srcset"),er=Wn($n,tr,Hn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nr=Hn("script,style,template"),rr=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!Zn.hasOwnProperty(e))return this.sanitizedSomething=!0,!nr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(er.hasOwnProperty(s)){var u=o.value;$n[s]&&(u=qn(u)),tr[s]&&(n=u,u=(n=String(n)).split(",").map((function(t){return qn(t.trim())})).join(", ")),this.buf.push(" ",a,'="',ar(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();Zn.hasOwnProperty(e)&&!Qn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(ar(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),ir=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,or=/([^\#-~ |!])/g;function ar(t){return t.replace(/&/g,"&amp;").replace(ir,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(or,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function sr(t,e){var n=null;try{Gn=Gn||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Vn:new Kn(t)}(t);var r=e?String(e):"";n=Gn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Gn.getInertBodyElement(r)}while(r!==o);var a=new rr,s=a.sanitizeChildren(ur(n)||n);return Fn()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=ur(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var cr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function lr(t){var e=fr();return e?e.sanitize(cr.HTML,t)||"":Pn(t,"HTML")?Tn(t):sr(Ht(),Xe(t))}function hr(t){var e=fr();return e?e.sanitize(cr.URL,t)||"":Pn(t,"URL")?Tn(t):qn(Xe(t))}function fr(){var t=ue();return t&&t[12]}function dr(t,e){t.__ngContext__=e}function pr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function vr(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==pr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function yr(t){return 0===t.type&&"ng-template"!==t.tagName}function gr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function br(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(ze(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!gr(t,u,n)||""===u&&1===e.length){if(_r(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!vr(t.attrs,c,n)){if(_r(r))return!1;a=!0}continue}var l=mr(8&r?"class":u,i,yr(t),n);if(-1===l){if(_r(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==pr(f,c,0)||2&r&&c!==h){if(_r(r))return!1;a=!0}}}}else{if(!a&&!_r(r)&&!_r(u))return!1;if(a&&_r(u))continue;a=!1,r=u|1&r}}return _r(r)||a}function _r(t){return 0==(1&t)}function mr(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function wr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(br(t,e[r],n))return!0;return!1}function Cr(t,e){return t?":not("+e.trim()+")":e}function kr(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||_r(a)||(e+=Cr(o,i),i=""),r=a,o=o||!_r(r);n++}return""!==i&&(e+=Cr(o,i)),e}var Er={};function Ir(t){var e=t[3];return At(e)?e[3]:e}function Or(t){return Tr(t[13])}function Sr(t){return Tr(t[4])}function Tr(t){for(;null!==t&&!At(t);)t=t[4];return t}function Pr(t){Lr(ce(),ue(),Ae()+t,pe())}function Lr(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Me(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Re(e,o,0,n)}xe(n)}function Ar(t,e){return t<<17|e<<2}function xr(t){return t>>17&32767}function Dr(t){return 2|t}function Nr(t){return(131068&t)>>2}function Mr(t,e){return-131069&t|e<<2}function Rr(t){return 1|t}function jr(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];ke(i),a.contentQueries(2,e[o],o)}}}function Fr(t,e,n){return Wt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ur(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ie(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Vr(t,e,n,r,i){var o=e+20,a=t.data[o]||function(t,e,n,r,i){var o=he(),a=de(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a&&null==o.child&&null!==s.parent?o.child=s:a||(o.next=s)),s}(t,o,n,r,i);return fe(a,!0),a}function Kr(t,e,n){Ie(e);try{var r=t.viewQuery;null!==r&&gi(1,r,n);var i=t.template;null!==i&&qr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&jr(t,e),t.staticViewQueries&&gi(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)fi(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Le()}}function zr(t,e,n,r){var i=e[2];if(256!=(256&i)){Ie(e);var o=pe();try{ie(e),ae.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&qr(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Me(e,s,null)}else{var u=t.preOrderHooks;null!==u&&Re(e,u,0,null),je(e,0)}if(function(t){for(var e=Or(t);null!==e;e=Sr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&oe(o,1),i[2]|=1024}}(e),function(t){for(var e=Or(t);null!==e;e=Sr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];ne(r)&&zr(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&jr(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Me(e,c)}else{var l=t.contentHooks;null!==l&&Re(e,l,1),je(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(xe(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(me(r,i),a(2,e[i])),i++)}}finally{xe(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)hi(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&gi(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&Me(e,d)}else{var p=t.viewHooks;null!==p&&Re(e,p,2),je(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,oe(e[3],-1))}finally{Le()}}}function Br(t,e,n,r){var i=e[10],o=!pe(),a=ee(e);try{o&&!a&&i.begin&&i.begin(),a&&Kr(t,e,r),zr(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function qr(t,e,n,r,i){var o=Ae();try{xe(-1),2&r&&e.length>20&&Lr(t,e,0,pe()),n(r,i)}finally{xe(o)}}function Hr(t,e,n){se()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||nn(n,e),dr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=Mt(u);c&&si(e,n,u);var l=fn(e,t,s,n);dr(l,e),null!==a&&ui(0,s-i,l,u,0,a),c&&($t(n.index,e)[8]=l)}}(t,e,n,Jt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=t.firstCreatePass,s=n.index-20,u=ae.lFrame.currentDirectiveIndex;try{xe(s);for(var c=r;c<i;c++){var l=t.data[c],h=e[c];we(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?ei(l,h):a&&o.push(null)}}finally{xe(-1),we(u)}}(t,e,n))}function Wr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Gr(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Qr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Qr(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Er);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Xr(t,e,n,r){var i=_i(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Jr(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Yr(t,e,n,r,i,o,a,s){var u,c=Jt(e,n),l=e.inputs;!s&&null!=l&&(u=l[r])?(wi(t,n,u,r,i),Dt(e)&&function(t,e){var n=$t(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=a?a(i,e.tagName||"",r):i,Wt(o)?o.setProperty(c,r,i):Be(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Zr(t,e,n,r){var i=!1;if(se()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];wr(n,a.selectors,!1)&&(i||(i=[]),sn(nn(n,e),t,a.type),Mt(a)?(ri(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,oi(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}ni(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=qe(n.mergedAttrs,d.hostAttrs),ai(t,e,d),ii(t.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),h||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),h=!0),$r(t,d),s+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||yr(e)?null:ci(l,i);o.push(h),a=Jr(l,u,a),s=Jr(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n),ti(t,e,s)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=qe(n.mergedAttrs,n.attrs),i}function $r(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ti(t,e,n){for(var r=0;r<n;r++)e.push(Er),t.blueprint.push(Er),t.data.push(null)}function ei(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ni(t,e,n){var r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ri(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ii(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Mt(e)&&(n[""]=t)}}function oi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ai(t,e,n){t.data.push(n);var r=n.factory||(n.factory=Tt(n.type)),i=new Ve(r,Mt(n),null);t.blueprint.push(i),e.push(i)}function si(t,e,n){var r=Jt(e,t),i=Gr(n),o=t[10],a=di(t,Ur(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function ui(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function ci(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function li(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function hi(t,e){var n=$t(e,t);if(ne(n)){var r=n[1];80&n[2]?zr(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=Or(e);null!==n;n=Sr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];zr(o,i,o.template,i[8])}else i[5]>0&&t(i)}var a=e[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=$t(a[s],e);ne(u)&&u[5]>0&&t(u)}}(n)}}function fi(t,e){var n=$t(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Kr(r,n,n[8])}function di(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function pi(t){for(;t;){t[2]|=64;var e=Ir(t);if(Rt(t)&&!e)return t;t=e}return null}function vi(t,e,n){var r=e[10];r.begin&&r.begin();try{zr(t,e,t.template,n)}catch(i){throw mi(e,i),i}finally{r.end&&r.end()}}function yi(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=te(n),i=r[1];Br(i,r,i.template,n)}}(t[8])}function gi(t,e,n){ke(0),e(t,n)}var bi=Promise.resolve(null);function _i(t){return t[7]||(t[7]=[])}function mi(t,e){var n=t[9],r=n?n.get(wn,null):null;r&&r.handleError(e)}function wi(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Ci(t,e,n){var r=Xt(e,t),i=t[11];Wt(i)?i.setValue(r,n):r.textContent=n}function ki(t,e,n,r,i){if(null!=r){var o,a=!1;At(r)?o=r:Lt(r)&&(a=!0,r=r[0]);var s=Qt(r);0===t&&null!==n?null==i?Pi(e,n,s):Ti(e,n,s,i||null):1===t&&null!==n?Ti(e,n,s,i||null):2===t?function(t,e,n){var r=Ai(t,e);r&&function(t,e,n,r){Wt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Qt(n)&&ki(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Ni(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Ei(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,oe(i,-1)),n.splice(r,1)}function Ii(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Ei(o,i),e>0&&(t[r-1][4]=i[4]);var a=ct(t,10+e);Ni(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Oi(t,e){if(!(256&e[2])){var n=e[11];Wt(n)&&n.destroyNode&&Ni(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Si(t[1],t);for(;e;){var n=null;if(Lt(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Lt(e)&&Si(e[1],e),e=e[3];null===e&&(e=t),Lt(e)&&Si(e[1],e),n=e&&e[4]}e=n}}(e)}}function Si(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Ve)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(e):Qt(e[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e),1===e[1].type&&Wt(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&At(e[3])){n!==e[3]&&Ei(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Ti(t,e,n,r){Wt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Pi(t,e,n){Wt(t)?t.appendChild(e,n):e.appendChild(n)}function Li(t,e,n,r){null!==r?Ti(t,e,n,r):Pi(t,e,n)}function Ai(t,e){return Wt(t)?t.parentNode(e):e.parentNode}function xi(t,e,n,r){var i=function(t,e,n){for(var r=e.parent;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return Jt(e,n).parentNode;if(2&r.flags){var i=t.data,o=i[i[r.index].directiveStart].encapsulation;if(o!==pt.ShadowDom&&o!==pt.Native)return null}return Jt(r,n)}(t,r,e);if(null!=i){var o=e[11],a=function(t,e){return 3===t.type||4===t.type?Jt(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(var s=0;s<n.length;s++)Li(o,i,n[s],a);else Li(o,i,n,a)}}function Di(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===e&&(s&&dr(Qt(s),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(Di(t,e,n.child,r,i,o,!1),ki(e,t,i,s,o)):1===u?Mi(t,e,r,n,i,o):ki(e,t,i,s,o)),n=a?n.projectionNext:n.next}}function Ni(t,e,n,r,i,o){Di(n,r,t.firstChild,e,i,o,!1)}function Mi(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)ki(e,t,i,s[u],o);else Di(t,e,s,a[3],i,o,!0)}function Ri(t,e,n){Wt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ji(t,e,n){Wt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var Fi,Ui,Vi,Ki=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Oi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){Xr(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){pi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){vi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){ve(!0);try{vi(t,e,n)}finally{ve(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Ni(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return function t(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Qt(a)),At(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&t(u[1],u,c,i)}var l=r.type;if(3===l||4===l)t(e,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=Ir(h);t(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),zi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t))._view=t,r}return _createClass(n,[{key:"detectChanges",value:function(){yi(this._view)}},{key:"checkNoChanges",value:function(){!function(t){ve(!0);try{yi(t)}finally{ve(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Ki);function Bi(t,e,n){return Fi||(Fi=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(t)),new Fi(Jt(e,n))}function qi(t,e,n,r){return Ui||(Ui=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Ur(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Kr(e,n,t),new Ki(n)}}]),n}(t)),0===n.type?new Ui(r,n,Bi(e,n,r)):null}function Hi(t,e,n,r){var i;Vi||(Vi=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,e,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(ot,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),At(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],a=new Vi(o,o[6],o[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e),u=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],ut(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,u,s);var c=function t(e,n){var r=10+e+1;if(r<n.length){var i=n[r],o=i[1].firstChild;if(null!==o)return function e(n,r){if(null!==r){var i=r.type;if(2===i)return Jt(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){var o=r.child;if(null!==o)return e(n,o);var a=n[r.index];return At(a)?t(-1,a):Qt(a)}var s=n[16],u=s[6],c=Ir(s),l=u.projection[r.projection];return null!=l?e(c,l):e(n,r.next)}return null}(i,o)}return n[7]}(s,u),l=n[11],h=Ai(l,u[7]);return null!==h&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Ni(t,r,n,1,i,o)}(r,u[6],l,n,h,c),t.attachToViewContainerRef(this),ut(u[8],s,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Ii(this._lContainer,e);n&&(ct(this._lContainer[8],e),Oi(n[1],n))}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Ii(this._lContainer,e);return n&&null!=ct(this._lContainer[8],e)?new Ki(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return Bi(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new vn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=an(this._hostTNode,this._hostView);if(We(t)){var e=Qe(t,this._hostView),n=Ge(t);return new vn(e[1].data[n+8],e)}return new vn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(t));var o=r[n.index];if(At(o))i=o;else{var a;if(3===n.type)a=Qt(o);else if(a=r[11].createComment(""),Rt(r)){var s=r[11],u=Jt(n,r);Ti(s,Ai(s,u),a,function(t,e){return Wt(t)?t.nextSibling(e):e.nextSibling}(s,u))}else xi(r[1],r,a,n);r[n.index]=i=li(o,r,a,n),di(r,i)}return new Vi(i,n,r)}function Wi(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Dt(t)){var r=$t(t.index,e);return new Ki(r,r)}return 2===t.type||0===t.type||3===t.type||4===t.type?new Ki(e[16],e):null}(he(),ue(),t)}var Gi=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Qi()},t}(),Qi=Wi,Xi=Function,Ji=new W("Set Injector scope."),Yi={},Zi={},$i=[],to=void 0;function eo(){return void 0===to&&(to=new it),to}function no(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new ro(t,n,e||eo(),r)}var ro=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&st(n,(function(t){return i.processProvider(t,e,n)})),st([e],(function(t){return i.processInjectorType(t,[],a)})),this.records.set(G,ao(void 0,this));var s=this.records.get(Ji);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:S(e))}return _createClass(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.Default;this.assertNotDestroyed();var r,i=Z(this);try{if(!(n&p.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof W)&&_(t);o=a&&this.injectableDefInScope(a)?ao(io(t),Yi):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&p.Self?eo():this.parent).get(t,e=n&p.Optional&&e===Q?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(S(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=S(e);if(Array.isArray(e))i=e.map(S).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):S(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(X,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{Z(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(S(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=A(t)))return!1;var i=w(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=w(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{st(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;st(i,(function(t){return r.processProvider(t,n,i||$i)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,ao(i.factory,Yi));var h=i.providers;if(null!=h&&!s){var f=t;st(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=uo(t=A(t))?t:A(t&&t.provide),i=function(t,e,n){return so(t)?ao(void 0,t.useValue):ao(oo(t),Yi)}(t);if(uo(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=ao(void 0,Yi,!0)).factory=function(){return rt(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===Yi&&(e.value=Zi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function io(t){var e=_(t),n=null!==e?e.factory:Tt(t);if(null!==n)return n;var r=w(t);if(null!==r)return r.factory;if(t instanceof W)throw new Error("Token ".concat(S(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(S(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[C]||t[I]||t[E]&&t[E]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function oo(t,e,n){var r,i=void 0;if(uo(t)){var o=A(t);return Tt(o)||io(o)}if(so(t))i=function(){return A(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,_toConsumableArray(rt(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return et(A(t.useExisting))};else{var a=A(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Tt(a)||io(a);i=function(){return _construct(a,_toConsumableArray(rt(t.deps)))}}return i}function ao(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function so(t){return null!==t&&"object"==typeof t&&J in t}function uo(t){return"function"==typeof t}var co=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=no(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},lo=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?co(t,e,""):co(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Q,t.NULL=new it,t.\u0275prov=g({token:t,providedIn:"any",factory:function(){return et(G)}}),t.__NG_ELEMENT_ID__=-1,t}(),ho=new W("AnalyzeForEntryComponents");function fo(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=T(i,s):2==o&&(r=T(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function po(t,e){var n=te(t)[1],r=n.data.length-1;Ne(n,{directiveStart:r,directiveEnd:r+1})}function vo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=yo(t.inputs),o.declaredInputs=yo(t.declaredInputs),o.outputs=yo(t.outputs);var a=i.hostBindings;a&&_o(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&go(t,s),u&&bo(t,u),y(t.inputs,i.inputs),y(t.declaredInputs,i.declaredInputs),y(t.outputs,i.outputs),Mt(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===vo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qe(i.hostAttrs,n=qe(n,i.hostAttrs))}}(r)}function yo(t){return t===vt?{}:t===yt?[]:t}function go(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function bo(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function _o(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var mo=null;function wo(){if(!mo){var t=F.Symbol;if(t&&t.iterator)mo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(mo=r)}}return mo}var Co=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function ko(t){return!!Eo(t)&&(Array.isArray(t)||!(t instanceof Map)&&wo()in t)}function Eo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Io(t,e,n){return t[e]=n}function Oo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function So(t,e,n,r){var i=ue();return Oo(i,be(),e)&&(ce(),function(t,e,n,r,i,o){var a=Jt(t,e),s=e[11];if(null==r)Wt(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?Xe(r):i(r,t.tagName||"",n);Wt(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(De(),i,t,e,n,r)),So}function To(t,e,n,r){return Oo(t,be(),n)?e+Xe(n)+r:Er}function Po(t,e,n,r,i,o,a,s){var u=ue(),c=ce(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Vr(e,t,0,a||null,re(c,s));Zr(e,n,l,re(c,u)),Ne(e,l);var h=l.tViews=Qr(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,a):c.data[l];fe(h,!1);var f=u[11].createComment("");xi(c,u,f,h),dr(f,u),di(u,u[l]=li(f,u,f,h)),Nt(h)&&Hr(c,u,h),null!=a&&Wr(u,h,s)}function Lo(t){return Zt(ae.lFrame.contextLView,t)}function Ao(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Default,n=ue();return null===n?et(t,e):un(he(),n,A(t),e)}function xo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(ze(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(he(),t)}function Do(t,e,n){var r=ue();return Oo(r,be(),e)&&Yr(ce(),De(),r,t,e,r[11],n,!1),Do}function No(t,e,n,r,i){var o=i?"class":"style";wi(t,n,e.inputs[o],o,r)}function Mo(t,e,n,r){var i=ue(),o=ce(),a=20+t,s=i[11],u=i[a]=Fr(e,s,ae.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=Vr(e,t,2,i,re(s,o));return Zr(e,n,u,re(s,a)),null!==u.attrs&&fo(u,u.attrs,!1),null!==u.mergedAttrs&&fo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[a];fe(c,!0);var l=c.mergedAttrs;null!==l&&Ke(s,u,l);var h=c.classes;null!==h&&ji(s,u,h);var f=c.styles;null!==f&&Ri(s,u,f),xi(o,i,u,c),0===ae.lFrame.elementDepthCount&&dr(u,i),ae.lFrame.elementDepthCount++,Nt(c)&&(Hr(o,i,c),function(t,e,n){if(xt(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&Wr(i,c)}function Ro(){var t=he();de()?ae.lFrame.isParent=!1:fe(t=t.parent,!1);var e=t;ae.lFrame.elementDepthCount--;var n=ce();n.firstCreatePass&&(Ne(n,t),xt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&No(n,e,ue(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&No(n,e,ue(),e.stylesWithoutHost,!1)}function jo(t,e,n,r){Mo(t,e,n,r),Ro()}function Fo(){return ue()}function Uo(t){return!!t&&"function"==typeof t.then}function Vo(t){return!!t&&"function"==typeof t.subscribe}function Ko(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=ue(),o=ce(),a=he();return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Nt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=_i(e),h=!0;if(2===r.type){var f=Jt(r,e),d=s?s(f):vt,p=d.target||f,v=l.length,y=s?function(t){return s(Qt(t[r.index])).target}:r.index;if(Wt(n)){var g=null;if(!s&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=Bo(r,e,o,!1);var b=n.listen(d.name||p,i,o);l.push(o,b),c&&c.push(i,y,v,v+1)}}else o=Bo(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}var _,m=r.outputs;if(h&&null!==m&&(_=m[i])){var w=_.length;if(w)for(var C=0;C<w;C+=2){var k=e[_[C]][_[C+1]].subscribe(o),E=l.length;l.push(o,k),c&&c.push(i,r.index,E,-(E+1))}}}(o,i,i[11],a,t,e,n,r),Ko}function zo(t,e,n){try{return!1!==e(n)}catch(r){return mi(t,r),!1}}function Bo(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?$t(t.index,e):e;0==(32&e[2])&&pi(a);for(var s=zo(e,n,o),u=i.__ngNextListenerFn__;u;)s=zo(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function qo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(ae.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ae.lFrame.contextLView))[8]}(t)}function Ho(t,e,n){return Wo(t,"",e,"",n),Ho}function Wo(t,e,n,r,i){var o=ue(),a=To(o,e,n,r);return a!==Er&&Yr(ce(),De(),o,t,a,o[11],i,!1),Wo}var Go=[];function Qo(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?xr(o):Nr(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];Xo(t[s],e)&&(u=!0,t[s+1]=r?Rr(c):Dr(c)),s=r?xr(c):Nr(c)}u&&(t[n+1]=r?Dr(o):Rr(o))}function Xo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ht(t,e)>=0}function Jo(t,e){return function(t,e,n,r){var i=ue(),o=ce(),a=_e(2);o.firstUpdatePass&&function(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Ae()+20],a=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=ae.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Zo(n=Yo(null,t,e,n,!0),e.attrs,!0),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Yo(i,t,e,n,!0),null===o){var s=function(t,e,n){var r=e.classBindings;if(0!==Nr(r))return t[xr(r)]}(t,e);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[xr(e.classBindings)]=r}(t,e,0,s=Zo(s=Yo(null,t,e,s[1],!0),e.attrs,!0))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Zo(r,t[o].hostAttrs,!0);return Zo(r,e.attrs,!0)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e),function(t,e,n,r,i,o){var a=e.classBindings,s=xr(a),u=Nr(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||ht(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=xr(t[s+1]);t[r+1]=Ar(f,s),0!==f&&(t[f+1]=Mr(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Ar(s,0),0!==s&&(t[s+1]=Mr(t[s+1],r)),s=r;else t[r+1]=Ar(u,0),0===s?s=r:t[u+1]=Mr(t[u+1],r),u=r;l&&(t[r+1]=Dr(t[r+1])),Qo(t,c,r,!0),Qo(t,c,r,!1),function(t,e,n,r,i){var o=t.residualClasses;null!=o&&"string"==typeof e&&ht(o,e)>=0&&(n[r+1]=Rr(n[r+1]))}(e,c,t,r),a=Ar(s,u),e.classBindings=a}(i,o,e,n,a)}}(o,t,a),e!==Er&&Oo(i,a,e)&&function(t,e,n,r,i,o,a,s){if(2===e.type){var u=t.data,c=u[s+1];ta(1==(1&c)?$o(u,e,n,i,Nr(c),!0):void 0)||(ta(o)||2==(2&c)&&(o=$o(u,null,n,i,s,!0)),function(t,e,n,r,i){var o=Wt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Xt(Ae(),n),i,o))}}(o,o.data[Ae()+20],i,i[11],t,i[a+1]=function(t,e){return null==t||"object"==typeof t&&(t=S(Tn(t))),t}(e),0,a)}(t,e),Jo}function Yo(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Zo(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Zo(t,e,n){var r,i,o,a,s=n?1:2,u=-1;if(null!==e)for(var c=0;c<e.length;c++){var l=e[c];"number"==typeof l?u=l:u===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),r=t,i=l,o=!!n||e[++c],a=void 0,(a=ht(r,i))>=0?r[1|a]=o:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(r,a=~a,i,o))}return void 0===t?null:t}function $o(t,e,n,r,i,o){for(var a=null===e,s=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Er&&(f=h?Go:void 0);var d=h?lt(f,r):l===r?f:void 0;if(c&&!ta(d)&&(d=lt(u,r)),ta(d)&&(s=d,a))return s;var p=t[i+1];i=a?xr(p):Nr(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(s=lt(v,r))}return s}function ta(t){return void 0!==t}function ea(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ue(),r=ce(),i=t+20,o=r.firstCreatePass?Vr(r,t,2,null,null):r.data[i],a=n[i]=function(t,e){return Wt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);xi(r,n,a,o),fe(o,!1)}function na(t){return ra("",t,""),na}function ra(t,e,n){var r=ue(),i=To(r,t,e,n);return i!==Er&&Ci(r,Ae(),i),ra}function ia(t,e,n,r,i){var o=ue(),a=function(t,e,n,r,i,o){var a=function(t,e,n,r){var i=Oo(t,e,n);return Oo(t,e+1,r)||i}(t,ge(),n,i);return _e(2),a?e+Xe(n)+r+Xe(i)+o:Er}(o,t,e,n,r,i);return a!==Er&&Ci(o,Ae(),a),ia}function oa(t,e,n){var r=ue();return Oo(r,be(),e)&&Yr(ce(),De(),r,t,e,r[11],n,!0),oa}function aa(t,e,n,r,i){if(t=A(t),Array.isArray(t))for(var o=0;o<t.length;o++)aa(t[o],e,n,r,i);else{var a=ce(),s=ue(),u=uo(t)?t:A(t.provide),c=oo(t),l=he(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(uo(t)||!t.multi){var p=new Ve(c,i,Ao),v=ca(u,e,i?h:h+d,f);-1===v?(sn(nn(l,s),a,u),sa(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=ca(u,e,h+d,f),g=ca(u,e,h,h+d),b=y>=0&&n[y],_=g>=0&&n[g];if(i&&!_||!i&&!b){sn(nn(l,s),a,u);var m=function(t,e,n,r,i){var o=new Ve(t,n,Ao);return o.multi=[],o.index=e,o.componentProviders=0,ua(o,i,r&&!n),o}(i?ha:la,n.length,i,r,c);!i&&_&&(n[g].providerFactory=m),sa(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(m),s.push(m)}else sa(a,t,y>-1?y:g,ua(n[i?g:y],c,!i&&r));!i&&r&&_&&n[g].componentProviders++}}}function sa(t,e,n,r){var i=uo(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function ua(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ca(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function la(t,e,n,r){return fa(this.multi,[])}function ha(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=fn(n,n[1],this.providerFactory.index,r);fa(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else fa(o,i=[]);return i}function fa(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function da(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=ce();if(r.firstCreatePass){var i=Mt(t);aa(n,r.data,r.blueprint,i,!0),aa(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var pa=function t(){_classCallCheck(this,t)},va=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(S(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),ya=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new va,t}(),ga=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return ba(t)},t}(),ba=function(t){return Bi(t,he(),ue())},_a=function t(){_classCallCheck(this,t)},ma=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),wa=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ca()},t}(),Ca=function(){var t=ue(),e=$t(he().index,t);return function(t){var e=t[11];if(Wt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Lt(e)?e:t)},ka=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=g({token:t,providedIn:"root",factory:function(){return null}}),t}(),Ea=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Ia=new Ea("10.1.6"),Oa=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return ko(t)}},{key:"create",value:function(t){return new Ta(t)}}]),t}(),Sa=function(t,e){return e},Ta=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Sa}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<xa(n,r,i)?e:n,a=xa(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!ko(t))throw new Error("Error trying to diff '".concat(S(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[wo()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Pa(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Aa),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Aa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),Pa=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},La=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Aa=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new La,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function xa(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Da=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||Eo(t)}},{key:"create",value:function(){return new Na}}]),t}(),Na=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Eo(t)))throw new Error("Error trying to diff '".concat(S(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Ma(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),Ma=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Ra=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new d,new h]]}}}]),t}();return t.\u0275prov=g({token:t,providedIn:"root",factory:function(){return new t([new Oa])}}),t}(),ja=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new d,new h]]}}}]),t}();return t.\u0275prov=g({token:t,providedIn:"root",factory:function(){return new t([new Da])}}),t}(),Fa=[new Da],Ua=new Ra([new Oa]),Va=new ja(Fa),Ka=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return za(t,ga)},t}(),za=function(t,e){return qi(t,e,he(),ue())},Ba=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return qa(t,ga)},t}(),qa=function(t,e){return Hi(t,e,he(),ue())},Ha={},Wa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).ngModule=t,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=St(t);return new Xa(e,this.ngModule)}}]),n}(ya);function Ga(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Qa=new W("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Ye}}),Xa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(kr).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,Ha,i);return o!==Ha||r===Ha?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(_a,Gt),u=a.get(ka,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Wt(t))return t.selectRootElement(e,n===pt.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Fr(l,s.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Ye,clean:bi,playerHandler:null,flags:0},p=Qr(0,null,null,1,0,null,null,null,null,null),v=Ur(null,p,d,f,null,null,s,c,u,a);Ie(v);try{var y=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Vr(a,0,2,null,null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(fo(s,u,!0),null!==t&&(Ke(i,t,u),null!==s.classes&&ji(i,t,s.classes),null!==s.styles&&Ri(i,t,s.styles)));var c=r.createRenderer(t,e),l=Ur(n,Gr(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(sn(nn(s,n),a,e.type),ri(a,s),oi(s,n.length,1)),di(n,l),n[20]=l}(h,this.componentDef,v,s,c);if(h)if(n)Ke(c,h,["ng-version",Ia.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!_r(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),b=g.attrs,_=g.classes;b&&Ke(c,h,b),_&&_.length>0&&ji(c,h,_.join(" "))}if(o=Yt(p,0),void 0!==e)for(var m=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var C=e[w];m.push(null!=C?Array.from(C):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=he();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ni(t,r,1),ai(t,e,n));var i=fn(e,t,e.length-1,r);dr(i,e);var o=Jt(r,e);return o&&dr(o,e),i}(o,n,e);r.components.push(a),t[8]=a,i&&i.forEach((function(t){return t(a,e)})),e.contentQueries&&e.contentQueries(1,a,n.length-1);var s=he();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){xe(s.index-20);var u=n[1];$r(u,e),ti(u,n,e.hostVars),ei(e,a)}return a}(y,this.componentDef,v,d,[po]),Kr(p,v,null)}finally{Le()}return new Ja(this.componentType,i,Bi(ga,o,v),v,o)}},{key:"inputs",get:function(){return Ga(this.componentDef.inputs)}},{key:"outputs",get:function(){return Ga(this.componentDef.outputs)}}]),n}(pa),Ja=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new zi(o),s.componentType=t,s}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new vn(this._tNode,this._rootLView)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),Ya=void 0,Za=["en",[["a","p"],["AM","PM"],Ya],[["AM","PM"],Ya,Ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ya,"{1} 'at' {0}",Ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],$a={};function ts(t,e,n){"string"!=typeof e&&(n=e,e=t[os.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),$a[e]=t,n&&($a[e][os.ExtraData]=n)}function es(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=is(e);if(n)return n;var r=e.split("-")[0];if(n=is(r))return n;if("en"===r)return Za;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function ns(t){return es(t)[os.CurrencyCode]||null}function rs(t){return es(t)[os.PluralCase]}function is(t){return t in $a||($a[t]=F.ng&&F.ng.common&&F.ng.common.locales&&F.ng.common.locales[t]),$a[t]}var os=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function as(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var ss=new Map,us=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new Wa(_assertThisInitialized(i));var o=Pt(t),a=t[B]||null;return a&&as(a),i._bootstrapComponents=Ze(o.bootstrap),i._r3Injector=no(t,r,[{provide:ot,useValue:_assertThisInitialized(i)},{provide:ya,useValue:i.componentFactoryResolver}],S(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.Default;return t===lo||t===ot||t===G?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(ot),cs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).moduleType=t,null!==Pt(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(S(e)," vs ").concat(S(e.name)))})(n,ss.get(n),e),ss.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return _createClass(n,[{key:"create",value:function(t){return new us(this.moduleType,t)}}]),n}(at);function ls(t,e,n){var r=ye()+t,i=ue();return i[r]===Er?Io(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function hs(t,e,n,r){return fs(ue(),ye(),t,e,n,r)}function fs(t,e,n,r,i,o){var a=e+n;return Oo(t,a,i)?Io(t,a+1,o?r.call(o,i):r(i)):function(t,e){var n=t[e];return n===Er?void 0:n}(t,a+1)}function ds(t,e){var n,r=ce(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Tt(n.type)),a=$(Ao);try{var s=tn(!1),u=o();return tn(s),function(t,e,n,r){var i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(r,ue(),t,u),u}finally{$(a)}}function ps(t,e,n){var r=ue(),i=Zt(r,t);return function(t,e){return Co.isWrapped(e)&&(e=Co.unwrap(e),t[ge()]=Er),e}(r,function(t,e){return t[1].data[e+20].pure}(r,t)?fs(r,ye(),e,i.transform,n,i):i.transform(n))}var vs=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var o,a=function(t){return null},s=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(a=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(a=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return t instanceof i.a&&t.add(u),u}}]),n}(r.a);function ys(){return this._results[wo()]()}var gs=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new vs,this.length=0;var e=wo(),n=t.prototype;n[e]||(n[e]=ys)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),bs=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),_s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Ps(t,e).matches&&this.queries[e].setDirty()}}]),t}(),ms=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},ws=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),Cs=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,ks(e,i)),this.matchTNodeWithReadOption(t,e,hn(e,t,i,!1,!1))}else n===Ka?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,hn(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===ga||r===Ba||r===Ka&&0===e.type)this.addMatch(e.index,-2);else{var i=hn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function ks(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Es(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?Bi(ga,t,e):0===t.type?qi(Ka,ga,t,e):null}(e,t):-2===n?function(t,e,n){return n===ga?Bi(ga,e,t):n===Ka?qi(Ka,ga,e,t):n===Ba?Hi(Ba,ga,e,t):void 0}(t,e,r):fn(t,t[1],n,e)}function Is(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Es(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Os(t){var e=ue(),n=ce(),r=Ce();ke(r+1);var i=Ps(n,r);if(t.dirty&&ee(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?function t(e,n,r,i){var o=e.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=Is(e,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&t(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var y=p[v];t(y[1],y,l,i)}}}return i}(n,e,r,[]):Is(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ss(t,e,n,r){!function(t,e,n,r,i,o,a,s){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new ws),t.queries.track(new Cs(e,n))}(t,new ms(n,r,!1,i),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s)),function(t,e){var n=new gs;Xr(t,e,n,n.destroy),null===e[19]&&(e[19]=new _s),e[19].queries.push(new bs(n))}(t,e)}(ce(),ue(),e,n,r,0,he(),t)}function Ts(){return t=ue(),e=Ce(),t[19].queries[e].queryList;var t,e}function Ps(t,e){return t.queries.getByIndex(e)}function Ls(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.Default,e=Wi(!0);if(null!=e||t&p.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}var As=new W("Application Initializer"),xs=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Uo(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(et(As,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t}(),Ds=new W("AppId"),Ns={provide:Ds,useFactory:function(){return"".concat(Ms()).concat(Ms()).concat(Ms())},deps:[]};function Ms(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Rs=new W("Platform Initializer"),js=new W("Platform ID"),Fs=new W("appBootstrapListener"),Us=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t}(),Vs=new W("LocaleId"),Ks=new W("DefaultCurrencyCode"),zs=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},Bs=function(t){return new cs(t)},qs=Bs,Hs=function(t){return Promise.resolve(Bs(t))},Ws=function(t){var e=Bs(t),n=Ze(Pt(t).declarations).reduce((function(t,e){var n=St(e);return n&&t.push(new Xa(n)),t}),[]);return new zs(e,n)},Gs=Ws,Qs=function(t){return Promise.resolve(Ws(t))},Xs=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=qs,this.compileModuleAsync=Hs,this.compileModuleAndAllComponentsSync=Gs,this.compileModuleAndAllComponentsAsync=Qs}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t}(),Js=Promise.resolve(0);function Ys(t){"undefined"==typeof Zone?Js.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Zs=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vs(!1),this.onMicrotaskEmpty=new vs(!1),this.onStable=new vs(!1),this.onError=new vs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=F.requestAnimationFrame,e=F.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(F,(function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(function(){t.lastRequestAnimationFrameId=-1,nu(t),eu(t)}),void 0,(function(){}),(function(){}))),t.fakeTopEventTask.invoke()})),nu(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,a,s){try{return ru(n),t.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),iu(n)}},onInvoke:function(t,e,r,i,o,a,s){try{return ru(n),t.invoke(r,i,o,a,s)}finally{iu(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,nu(n),eu(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,tu,$s,$s);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function $s(){}var tu={};function eu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function nu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function ru(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function iu(t){t._nesting--,eu(t)}var ou=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vs,this.onMicrotaskEmpty=new vs,this.onStable=new vs,this.onError=new vs}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),au=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Zs.assertNotInAngularZone(),Ys((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Ys((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(et(Zs))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t}(),su=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,lu.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return lu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t}();function uu(t){lu=t}var cu,lu=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),hu=new W("AllowMultipleToken"),fu=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function du(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new W(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=pu();if(!o||o.injector.get(hu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:Ji,useValue:"platform"});!function(t){if(cu&&!cu.destroyed&&!cu.injector.get(hu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");cu=t.get(vu);var e=t.get(Rs,null);e&&e.forEach((function(t){return t()}))}(lo.create({providers:a,name:r}))}return function(t){var e=pu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function pu(){return cu&&!cu.destroyed?cu:null}var vu=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new ou:("zone.js"===n?void 0:n)||new Zs({enableLongStackTrace:Fn(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Zs,useValue:o}];return o.run((function(){var e=lo.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(wn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return bu(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((a=n.injector.get(xs)).runInitializers(),a.donePromise.then((function(){return as(n.injector.get(Vs,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return Uo(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=yu({},n);return function(t,e,n){var r=new cs(n);return Promise.resolve(r)}(0,0,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(gu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(S(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(et(lo))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t}();function yu(t,e){return Array.isArray(e)?e.reduce(yu,t):Object.assign(Object.assign({},t),e)}var gu=function(){var t=function(){function t(e,n,r,i,u,c){var l=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=u,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Fn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){t.next(l._stable),t.complete()}))})),f=new o.a((function(t){var e;l._zone.runOutsideAngular((function(){e=l._zone.onStable.subscribe((function(){Zs.assertNotInAngularZone(),Ys((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){Zs.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,f.pipe(Object(s.a)()))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof pa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(ot),o=n.create(lo.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(au,null);return a&&o.injector.get(su).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Fn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;){e.value.detectChanges()}}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;){r.value.checkNoChanges()}}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;bu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Fs,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),bu(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(et(Zs),et(Us),et(lo),et(wn),et(ya),et(xs))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t}();function bu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var _u=function t(){_classCallCheck(this,t)},mu=function t(){_classCallCheck(this,t)},wu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Cu=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||wu}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return ku(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return ku(t,r,i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(et(Xs),et(mu,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t}();function ku(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Eu=function(t){return null},Iu=du(null,"core",[{provide:js,useValue:"unknown"},{provide:vu,deps:[lo]},{provide:su,deps:[]},{provide:Us,deps:[]}]),Ou=[{provide:gu,useClass:gu,deps:[Zs,Us,lo,wn,ya,xs]},{provide:Qa,deps:[Zs],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:xs,useClass:xs,deps:[[new h,As]]},{provide:Xs,useClass:Xs,deps:[]},Ns,{provide:Ra,useFactory:function(){return Ua},deps:[]},{provide:ja,useFactory:function(){return Va},deps:[]},{provide:Vs,useFactory:function(t){return as(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new l(Vs),new h,new d]]},{provide:Ks,useValue:"USD"}],Su=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=Ct({type:t}),t.\u0275inj=b({factory:function(e){return new(e||t)(et(gu))},providers:Ou}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jUXt:function(t,e,n){"use strict";n.r(e),n.d(e,"KontaktyModule",(function(){return p}));var r,i,o,a,s=n("fXoL"),u=((i=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=s.Cb({type:i,selectors:[["app-pericenter"]],decls:118,vars:0,consts:[[1,"row"],[1,"col","s10","offset-s1"],[1,"boxPericenter"],["href","https://www.fnspfdr.sk/index.php/neonatologicka-klinika","target","_blank"],["href","https://www.unm.sk/neonatologicka-klinika","target","_blank"],["href","http://fb.me/NeonatMartin","target","_blank"],["href","http://www.nspnz.sk/odd-nov.html","target","_blank"],["href","http://www.fnsppresov.sk/nemocnica/0039/","target","_blank"],["href","http://www.unb.sk/novorodenecka-klinika-m-rusnaka-szu-a-unb/","target","_blank"],[1,"sources"],[1,"sourcesHeader"],["href","http://slovenskaneonatologia.sk/perinatologicke-centra/","target","_blank"]],template:function(t,e){1&t&&(s.Lb(0,"div",0),s.Lb(1,"div",1),s.Lb(2,"h4"),s.ic(3,"Pericentr\xe1"),s.Kb(),s.Lb(4,"div",2),s.Lb(5,"h5"),s.ic(6,"Neonatologick\xe1 klinika SZU, FNsP F. D. Roosevelta Bansk\xe1 Bystrica"),s.Kb(),s.Lb(7,"p"),s.ic(8," n\xe1m. L. Svobodu 1, 975 17 Bansk\xe1 Bystrica"),s.Jb(9,"br"),s.ic(10," Prednosta: MUDr. Jana Nikolinyov\xe1, PhD."),s.Jb(11,"br"),s.ic(12," Z\xe1stupca prednostu: MUDr. Milada Mo\u0161kov\xe1"),s.Jb(13,"br"),s.ic(14," Ved\xfaca sestra: PhDr. Ren\xe1ta \u010cern\xe1kov\xe1"),s.Jb(15,"br"),s.ic(16," sekretari\xe1t tel: +421 48 441 2756"),s.Jb(17,"br"),s.ic(18," sekretari\xe1t email: rcernakova@nspbb.sk "),s.Kb(),s.Lb(19,"p"),s.ic(20," Web pracoviska: "),s.Lb(21,"a",3),s.ic(22,"https://www.fnspfdr.sk/index.php/neonatologicka-klinika"),s.Kb(),s.Kb(),s.Kb(),s.Lb(23,"div",2),s.Lb(24,"h5"),s.ic(25,"Neonatologick\xe1 klinika JLF UK a UN Martin"),s.Kb(),s.Lb(26,"p"),s.ic(27," Univerzitn\xe1 nemocnica Martin, Koll\xe1rova 2, 036 59 Martin"),s.Jb(28,"br"),s.ic(29," Prednosta: prof. MUDr. Mirko Zibolen, CSc."),s.Jb(30,"br"),s.ic(31," Prim\xe1rka: doc. MUDr. Katar\xedna Ma\u0165a\u0161ov\xe1, PhD."),s.Jb(32,"br"),s.ic(33," Ved\xfaca sestra: Mgr. Tatiana Mikitov\xe1"),s.Jb(34,"br"),s.ic(35," sekretari\xe1t tel: 043/4203 759"),s.Jb(36,"br"),s.ic(37," email: neonatsekr@unm.sk "),s.Kb(),s.Lb(38,"p"),s.ic(39," Web pracoviska: "),s.Lb(40,"a",4),s.ic(41,"https://www.unm.sk/neonatologicka-klinika"),s.Kb(),s.Kb(),s.Lb(42,"p"),s.ic(43," Facebook: "),s.Lb(44,"a",5),s.ic(45,"http://fb.me/NeonatMartin"),s.Kb(),s.Kb(),s.Kb(),s.Lb(46,"div",2),s.Lb(47,"h5"),s.ic(48,"Neonatologick\xe1 klinika FNsP Nov\xe9 Z\xe1mky"),s.Kb(),s.Lb(49,"p"),s.ic(50," FNsP Nov\xe9 Z\xe1mky, Slovensk\xe1 11, 940 34 Nov\xe9 Z\xe1mky"),s.Jb(51,"br"),s.ic(52," Prim\xe1rka: MUDr. Klaudia Demov\xe1, PhD."),s.Jb(53,"br"),s.ic(54," Ved\xfaca sestra: PhDr. Gabriela Magyarov\xe1, PhD."),s.Jb(55,"br"),s.ic(56," sekretari\xe1t tel: 035 / 691 2202"),s.Jb(57,"br"),s.ic(58," sekretari\xe1t email: klaudia.demova@nspnz.sk "),s.Kb(),s.Lb(59,"p"),s.ic(60," Web pracoviska: "),s.Lb(61,"a",6),s.ic(62,"http://www.nspnz.sk/odd-nov.html"),s.Kb(),s.Kb(),s.Kb(),s.Lb(63,"div",2),s.Lb(64,"h5"),s.ic(65,"Perinatologick\xe9 centrum \u2013 oddelenie neonatol\xf3gie FNsP J.A.R. Pre\u0161ov"),s.Kb(),s.Lb(66,"p"),s.ic(67," Holl\xe9ho 14, 081 81 Pre\u0161ov"),s.Jb(68,"br"),s.ic(69," Prim\xe1rka: MUDr. Iveta Rev\xe1kov\xe1"),s.Jb(70,"br"),s.ic(71," Ved\xfaca sestra: PhDr. Vlasta Ba\u0148asov\xe1, PhD."),s.Jb(72,"br"),s.ic(73," tel: +421 51 7011 737"),s.Jb(74,"br"),s.ic(75," email: neonatalva@fnsppresov.sk "),s.Kb(),s.Lb(76,"p"),s.ic(77," Web pracoviska: "),s.Lb(78,"a",7),s.ic(79,"http://www.fnsppresov.sk/nemocnica/0039/"),s.Kb(),s.Kb(),s.Kb(),s.Lb(80,"div",2),s.Lb(81,"h5"),s.ic(82,"Novorodeneck\xe1 klinika M. Rusn\xe1ka LF SZU a UN, Bratislava "),s.Kb(),s.Lb(83,"p"),s.ic(84," Nemocnica sv.Cyrila a Metoda , Antolsk\xe1 11, 851 07 Bratislava"),s.Jb(85,"br"),s.ic(86," Prednosta: doc. MUDr. Darina Chovancov\xe1, CSc."),s.Jb(87,"br"),s.ic(88," Z\xe1stupca prednostu: MUDr. \u013dubica Pejhovsk\xe1, MUDr. \u013dudov\xedt Divinec"),s.Jb(89,"br"),s.ic(90," Ved\xfaca sestra: Mgr. M\xe1ria Hermannov\xe1"),s.Jb(91,"br"),s.ic(92," sekretari\xe1t tel: +421 02 6867 2664"),s.Jb(93,"br"),s.ic(94," sekretari\xe1t email: novorodenec@pe.unb.sk "),s.Kb(),s.Lb(95,"p"),s.ic(96," Web pracoviska: "),s.Lb(97,"a",8),s.ic(98,"http://www.unb.sk/novorodenecka-klinika-m-rusnaka-szu-a-unb/"),s.Kb(),s.Kb(),s.Kb(),s.Lb(99,"div",2),s.Lb(100,"h5"),s.ic(101,"Oddelenie neonatologickej intenz\xedvnej medic\xedny DFN Ko\u0161ice"),s.Kb(),s.Lb(102,"p"),s.ic(103," Tr.SNP 1., 040 66 Ko\u0161ice"),s.Jb(104,"br"),s.ic(105," Prim\xe1rka: MUDr.Vanda Chovanov\xe1"),s.Jb(106,"br"),s.ic(107," Ved\xfaca sestra: Mgr. Jana Baz\xe1rov\xe1"),s.Jb(108,"br"),s.ic(109," sekretari\xe1t tel: +421 55 235 4222, +421 55 235 3609"),s.Jb(110,"br"),s.ic(111," sekretari\xe1t email: chovanova@dfnko\u0161ice.sk "),s.Kb(),s.Kb(),s.Lb(112,"div",9),s.Lb(113,"p",10),s.ic(114,"Zdroje:"),s.Kb(),s.Lb(115,"a",11),s.ic(116,"http://slovenskaneonatologia.sk/perinatologicke-centra/"),s.Kb(),s.Jb(117,"br"),s.Kb(),s.Kb(),s.Kb())},styles:[".row[_ngcontent-%COMP%]{margin-bottom:0!important;word-break:break-all}h4[_ngcontent-%COMP%]{text-transform:uppercase}h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;margin-top:0!important;padding-top:.5em}.boxPericenter[_ngcontent-%COMP%]{margin-left:2em!important;padding-bottom:2em!important}.sourcesHeader[_ngcontent-%COMP%]{font-weight:700}.sources[_ngcontent-%COMP%]{padding-bottom:1em}"]}),i),c=((r=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=s.Cb({type:r,selectors:[["app-kontakty"]],decls:1,vars:0,template:function(t,e){1&t&&s.Jb(0,"app-pericenter")},directives:[u],styles:[""]}),r),l=n("tyNb"),h=[{path:"",component:c}],f=((o=function t(){_classCallCheck(this,t)}).\u0275mod=s.Gb({type:o}),o.\u0275inj=s.Fb({factory:function(t){return new(t||o)},imports:[[l.e.forChild(h)],l.e]}),o),d=n("ofXK"),p=((a=function t(){_classCallCheck(this,t)}).\u0275mod=s.Gb({type:a}),a.\u0275inj=s.Fb({factory:function(t){return new(t||a)},imports:[[d.c,f]]}),a)},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a((function(n){var r=new i.a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},jcKA:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("fXoL"),i=n("I/3d"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.afs=e,this.items=this.afs.collection("vypocty").doc("vypoctyAll").valueChanges()}return _createClass(t,[{key:"getItems",value:function(){return this.items}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Pb(i.a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mAIw:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return f})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return v})),n.d(e,"__spread",(function(){return y})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return b})),n.d(e,"__asyncGenerator",(function(){return _})),n.d(e,"__asyncDelegator",(function(){return m})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return C})),n.d(e,"__importStar",(function(){return k})),n.d(e,"__importDefault",(function(){return E})),n.d(e,"__classPrivateFieldGet",(function(){return I})),n.d(e,"__classPrivateFieldSet",(function(){return O}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function m(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:b(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}function I(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function O(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},nudp:function(t,e,n){"use strict";n.r(e),n.d(e,"ResuscitacieModule",(function(){return C}));var r,i=n("ofXK"),o=n("tyNb"),a=n("fXoL"),s=((r=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=a.Cb({type:r,selectors:[["app-algorithms"]],decls:15,vars:0,consts:[[1,"row"],["src","https://firebasestorage.googleapis.com/v0/b/project-try-novu.appspot.com/o/algo1.jpg?alt=media&token=ca3650b5-a017-4d8a-b806-5700342352ef","alt","algoritmus",1,"imgAlgo"],["src","https://firebasestorage.googleapis.com/v0/b/project-try-novu.appspot.com/o/algo2.png?alt=media&token=2234b3f2-e13f-49a5-839f-400a5dbfcd35","alt","algoritmus",1,"imgAlgo"],[1,"sourcesBox"],[1,"sourcesText"],["href","https://cprguidelines.eu/sites/573c777f5e61585a053d7ba5/content_entry573c77e35e61585a053d7baf/573c78085e61585a053d7bcb/files/S0300-9572_15_00341-X_main.pdf"],["href","https://pediatrics.aappublications.org/content/147/Supplement_1/e2020038505E.long"]],template:function(t,e){1&t&&(a.Lb(0,"div",0),a.Lb(1,"h4"),a.ic(2,"Algoritmus resuscit\xe1cie novorodenca - AHA 2020"),a.Kb(),a.Jb(3,"img",1),a.Lb(4,"h4"),a.ic(5,"Algoritmus resuscit\xe1cie novorodenca - ERC 2015"),a.Kb(),a.Jb(6,"img",2),a.Lb(7,"div",3),a.Lb(8,"p",4),a.ic(9,"Zdroje:"),a.Kb(),a.Lb(10,"a",5),a.ic(11,"https://cprguidelines.eu/sites/573c777f5e61585a053d7ba5/content_entry573c77e35e61585a053d7baf/573c78085e61585a053d7bcb/files/S0300-9572_15_00341-X_main.pdf"),a.Kb(),a.Jb(12,"br"),a.Lb(13,"a",6),a.ic(14,"https://pediatrics.aappublications.org/content/147/Supplement_1/e2020038505E.long"),a.Kb(),a.Kb(),a.Kb())},styles:["h4[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;margin-top:0!important;padding-top:.5em;padding-left:2em;margin-bottom:1em!important;text-transform:uppercase}.row[_ngcontent-%COMP%]{margin-bottom:0}.imgAlgo[_ngcontent-%COMP%]{width:50%;margin-left:20%}.sourcesBox[_ngcontent-%COMP%]{padding-left:3em;padding-bottom:2em;word-break:break-all;padding-right:1em}.sourcesText[_ngcontent-%COMP%]{font-weight:700;width:70%}@media only screen and (max-width:800px){h4[_ngcontent-%COMP%]{padding-left:1em}}"]}),r),u=n("adsU");function c(t,e){if(1&t&&(a.Lb(0,"tr",12),a.Lb(1,"td"),a.ic(2),a.Kb(),a.Lb(3,"td"),a.ic(4),a.Kb(),a.Lb(5,"td"),a.ic(6),a.Kb(),a.Lb(7,"td"),a.ic(8),a.Kb(),a.Kb()),2&t){var n=e.$implicit;a.yb(2),a.jc(n.weight),a.yb(2),a.jc(n.nazo),a.yb(2),a.jc(n.oro),a.yb(2),a.jc(n.kanyle)}}function l(t,e){1&t&&(a.Lb(0,"span"),a.ic(1,"-"),a.Kb())}function h(t,e){if(1&t&&(a.Lb(0,"tr",12),a.Jb(1,"td",13),a.Lb(2,"td"),a.ic(3),a.hc(4,l,2,0,"span",14),a.ic(5),a.Kb(),a.Lb(6,"td",15),a.ic(7),a.Kb(),a.Lb(8,"td",16),a.ic(9),a.Kb(),a.Kb()),2&t){var n=e.$implicit;a.yb(1),a.Xb("innerHTML",n.name,a.ec),a.yb(2),a.kc("",n.davkaFrom," "),a.yb(1),a.Xb("ngIf",null!=n.davkaTo),a.yb(1),a.lc(" ",n.davkaTo," ",n.davkaValue,""),a.yb(2),a.jc(n.resultMg),a.yb(2),a.jc(n.resultMl)}}var f,d=((f=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){this.table=u.e,this.tableDrugs=u.d}},{key:"calculateIntub",value:function(t,e){for(var n="",r=this.table.length-1;r>=0;r--){var i=this.table[r];if(1e3*t>=i.weight)return n+="Pre hmotnos\u0165 "+t.toString()+" kg:<br>H\u013abka zavedenia kanyly - nazotrache\xe1lne: ",n+=i.nazo.toString()+" cm<br>H\u013abka zavedenia kanyly - orotrache\xe1lne: "+i.oro.toString(),n+=" cm<br>Hr\xfabka kanyly: "+i.kanyle.toString()+" mm",void(e.innerHTML=n)}}},{key:"calculateDrugs",value:function(t){this.tableDrugs.forEach((function(e){e.resultMg=(t*e.davkaFrom).toFixed(2).toString(),null!=e.davkaTo&&(e.resultMg+=" - "+(t*e.davkaTo).toFixed(2).toString()),e.resultMg+=" "+e.davkaValue,null!=e.resMlIndication?(e.resultMl=(t*e.davkaFrom/e.resMlIndication).toFixed(2).toString(),null!=e.davkaTo&&null!=e.resMlIndication&&(e.resultMl+=" - "+(t*e.davkaTo/e.resMlIndication).toFixed(2).toString()),e.resultMl+=" ml"):e.resultMl=e.resultMg}))}}]),t}()).\u0275fac=function(t){return new(t||f)},f.\u0275cmp=a.Cb({type:f,selectors:[["app-redcode"]],decls:54,vars:2,consts:[[1,"row"],[1,"highlight","centered","kanyleTable"],["class","tableRowHighlight",4,"ngFor","ngForOf"],[1,"container","center"],[1,"kanyleTableLabel"],["type","number",1,"kanyleTableInput",3,"keyup"],["box",""],[1,"kanyleTableParagraph"],["boxResult",""],["boxSecond",""],[1,"sourcesBox"],[1,"sourcesText"],[1,"tableRowHighlight"],[3,"innerHTML"],[4,"ngIf"],[1,"red-text"],[1,"green-text"]],template:function(t,e){if(1&t){var n=a.Mb();a.Lb(0,"div",0),a.Lb(1,"h4"),a.ic(2,"\u010cerven\xfd k\xf3d"),a.Kb(),a.Lb(3,"h5"),a.ic(4,"Intub\xe1cia"),a.Kb(),a.Lb(5,"table",1),a.Lb(6,"thead"),a.Lb(7,"tr"),a.Lb(8,"th"),a.ic(9,"V\xe1ha [g]"),a.Kb(),a.Lb(10,"th"),a.ic(11,"H\u013abka zavedenia kanyly - nazotrache\xe1lne [cm]"),a.Kb(),a.Lb(12,"th"),a.ic(13,"H\u013abka zavedenia kanyly - orotrache\xe1lne [cm]"),a.Kb(),a.Lb(14,"th"),a.ic(15,"Hr\xfabka kanyly [mm]"),a.Kb(),a.Kb(),a.Kb(),a.Lb(16,"tbody"),a.hc(17,c,9,4,"tr",2),a.Kb(),a.Kb(),a.Lb(18,"div",3),a.Lb(19,"label",4),a.ic(20,"Hmotnos\u0165 [kg]"),a.Kb(),a.Lb(21,"input",5,6),a.Sb("keyup",(function(){a.dc(n);var t=a.cc(22),r=a.cc(24);return e.calculateIntub(t.value,r)})),a.Kb(),a.Lb(23,"p",7,8),a.ic(25,"Zadajte \xfadaje"),a.Kb(),a.Kb(),a.Lb(26,"h5"),a.ic(27,"Lieky"),a.Kb(),a.Lb(28,"table",1),a.Lb(29,"thead"),a.Lb(30,"tr"),a.Lb(31,"th"),a.ic(32,"N\xe1zov lieku"),a.Kb(),a.Lb(33,"th"),a.ic(34,"D\xe1vka [na kg]"),a.Kb(),a.Lb(35,"th"),a.ic(36,"V\xfdsledn\xe1 d\xe1vka"),a.Kb(),a.Lb(37,"th"),a.ic(38,"V\xfdsledn\xe1 d\xe1vka [ml]"),a.Kb(),a.Kb(),a.Kb(),a.Lb(39,"tbody"),a.hc(40,h,10,7,"tr",2),a.Kb(),a.Kb(),a.Lb(41,"div",3),a.Lb(42,"label",4),a.ic(43,"Hmotnos\u0165 [kg]"),a.Kb(),a.Lb(44,"input",5,9),a.Sb("keyup",(function(){a.dc(n);var t=a.cc(45);return e.calculateDrugs(t.value)})),a.Kb(),a.Kb(),a.Lb(46,"div",10),a.Lb(47,"p",11),a.ic(48,"Zdroje:"),a.Kb(),a.Lb(49,"a"),a.ic(50,"Genzel-Borovicz\xe9ny, o., Roos,R. et al., Checkliste Neonatologie,6. Vyd. Stuttgart: Georg Thieme Verlag, 2019, s.511. ISBN:978-3-13-242555-2"),a.Kb(),a.Jb(51,"br"),a.Lb(52,"a"),a.ic(53,"Shann, F., DRUG DOSES, 17. Vyd., Mt. Pleasant: JR MEDICAL BOOKS, 2017, s. 118. ISBN 978-0-6480053-0-8"),a.Kb(),a.Kb(),a.Kb()}2&t&&(a.yb(17),a.Xb("ngForOf",e.table),a.yb(23),a.Xb("ngForOf",e.tableDrugs))},directives:[i.k,i.l],styles:[".tableRowHighlight[_ngcontent-%COMP%]:hover{background:#fff!important}.tableRowHighlight[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-style:italic}h4[_ngcontent-%COMP%]{text-transform:uppercase;padding-left:2em}h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;margin-top:0!important;padding-top:.5em}h5[_ngcontent-%COMP%]{padding-left:3.5em}.row[_ngcontent-%COMP%]{margin-bottom:0}.kanyleTable[_ngcontent-%COMP%]{width:80%;margin-left:10%}.kanyleTableLabel[_ngcontent-%COMP%]{margin-top:1em!important}.kanyleTableInput[_ngcontent-%COMP%]{margin-left:35%!important;width:30%!important;margin-right:35%!important}.kanyleTableParagraph[_ngcontent-%COMP%]{font-size:18px;font-weight:700;padding:5px;border:1px solid green}.sourcesBox[_ngcontent-%COMP%]{padding-left:3em;padding-bottom:2em}.sourcesText[_ngcontent-%COMP%]{font-weight:700;width:70%}@media only screen and (max-width:800px){h4[_ngcontent-%COMP%]{padding-left:1em}}"]}),f);function p(t,e){1&t&&a.Jb(0,"app-algorithms")}function v(t,e){1&t&&a.Jb(0,"app-redcode")}var y,g,b,_=function(t){return{turnRed:t}},m=[{path:"",component:(y=function(){function t(){_classCallCheck(this,t),this.showAlgorithms=!1,this.showRedCode=!0}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"showAlgo",value:function(){this.showAlgorithms=!0,this.showRedCode=!1}},{key:"showRed",value:function(){this.showAlgorithms=!1,this.showRedCode=!0}}]),t}(),y.\u0275fac=function(t){return new(t||y)},y.\u0275cmp=a.Cb({type:y,selectors:[["app-resuscitacie"]],decls:14,vars:8,consts:[["href","https://drive.google.com/file/d/18j8iFCYQUBbFIFmisQwBAkShX8ihRsIq/view?usp=sharing","target","_blank",1,"about"],[1,"container","center"],["href","https://pediatrics.aappublications.org/content/147/Supplement_1/e2020038505E.long","target","_blank",1,"btn","red","americanText"],["href","http://slovenskaneonatologia.sk/resuscitacia/","target","_blank",1,"btn","red","buttonNRP"],[1,"btn","buttonOthers",3,"ngClass","click"],[4,"ngIf"]],template:function(t,e){1&t&&(a.Lb(0,"a",0),a.ic(1,"N\xe1vod na pou\u017eitie"),a.Kb(),a.Lb(2,"div",1),a.Lb(3,"a",2),a.ic(4,"Neonatal Resuscitation 2020 American Heart Association Guidelines"),a.Kb(),a.Kb(),a.Lb(5,"div",1),a.Lb(6,"a",3),a.ic(7,"N\xe1rodn\xfd resuscita\u010dn\xfd program"),a.Kb(),a.Lb(8,"button",4),a.Sb("click",(function(){return e.showAlgo()})),a.ic(9,"Algoritmy resuscit\xe1cie"),a.Kb(),a.Lb(10,"button",4),a.Sb("click",(function(){return e.showRed()})),a.ic(11,"Resuscit\xe1cia - \u201e\u010derven\xfd k\xf3d\u201c"),a.Kb(),a.Kb(),a.hc(12,p,1,0,"app-algorithms",5),a.hc(13,v,1,0,"app-redcode",5)),2&t&&(a.yb(8),a.Xb("ngClass",a.ac(4,_,!e.showAlgorithms)),a.yb(2),a.Xb("ngClass",a.ac(6,_,!e.showRedCode)),a.yb(2),a.Xb("ngIf",e.showAlgorithms),a.yb(1),a.Xb("ngIf",e.showRedCode))},directives:[i.j,i.l,s,d],styles:[".buttonNRP[_ngcontent-%COMP%], .buttonOthers[_ngcontent-%COMP%]{margin-bottom:1em;background:green}.buttonOthers[_ngcontent-%COMP%]{margin-left:.5em}.turnRed[_ngcontent-%COMP%]{background:red}.americanText[_ngcontent-%COMP%]{width:100%;margin-bottom:1em}.about[_ngcontent-%COMP%]{text-transform:uppercase;float:right;font-weight:700;margin:1em 2em 1em 50%}@media only screen and (max-width:800px){.buttonOthers[_ngcontent-%COMP%]{width:100%;margin-left:0!important}.buttonNRP[_ngcontent-%COMP%]{width:100%}}"]}),y)}],w=((b=function t(){_classCallCheck(this,t)}).\u0275mod=a.Gb({type:b}),b.\u0275inj=a.Fb({factory:function(t){return new(t||b)},imports:[[o.e.forChild(m)],o.e]}),b),C=((g=function t(){_classCallCheck(this,t)}).\u0275mod=a.Gb({type:g}),g.\u0275inj=a.Fb({factory:function(t){return new(t||g)},imports:[[i.c,w]]}),g)},ofXK:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return K})),n.d(e,"c",(function(){return q})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return C})),n.d(e,"f",(function(){return z})),n.d(e,"g",(function(){return h})),n.d(e,"h",(function(){return k})),n.d(e,"i",(function(){return b})),n.d(e,"j",(function(){return A})),n.d(e,"k",(function(){return D})),n.d(e,"l",(function(){return M})),n.d(e,"m",(function(){return w})),n.d(e,"n",(function(){return c})),n.d(e,"o",(function(){return G})),n.d(e,"p",(function(){return W})),n.d(e,"q",(function(){return s})),n.d(e,"r",(function(){return H})),n.d(e,"s",(function(){return o})),n.d(e,"t",(function(){return L})),n.d(e,"u",(function(){return a}));var r=n("fXoL"),i=null;function o(){return i}function a(t){i||(i=t)}var s=function t(){_classCallCheck(this,t)},u=new r.q("DocumentToken"),c=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:l,token:t,providedIn:"platform"}),t}();function l(){return Object(r.Pb)(f)}var h=new r.q("Location Initialized"),f=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=o().getLocation(),this._history=o().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return o().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(c);return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=Object(r.Eb)({factory:p,token:t,providedIn:"platform"}),t}();function d(){return!!window.history.pushState}function p(){return new f(Object(r.Pb)(u))}function v(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function y(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}var b=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:_,token:t,providedIn:"root"}),t}();function _(t){var e=Object(r.Pb)(u).location;return new w(Object(r.Pb)(c),e&&e.origin||"")}var m=new r.q("appBaseHref"),w=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;if(_classCallCheck(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return v(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(b);return t.\u0275fac=function(e){return new(e||t)(r.Pb(c),r.Pb(m,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t}(),C=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=v(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(b);return t.\u0275fac=function(e){return new(e||t)(r.Pb(c),r.Pb(m,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t}(),k=function(){var t=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=y(I(o)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+g(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,I(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)})))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Pb(b),r.Pb(c))},t.normalizeQueryParams=g,t.joinWithSlash=v,t.stripTrailingSlash=y,t.\u0275prov=Object(r.Eb)({factory:E,token:t,providedIn:"root"}),t}();function E(){return new k(Object(r.Pb)(b),Object(r.Pb)(c))}function I(t){return t.replace(/\/index.html$/,"")}var O=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),S=r.lb,T=function t(){_classCallCheck(this,t)},P=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).locale=t,r}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(S(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}]),n}(T);return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t}();function L(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===e)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var A=function(){var t=function(){function t(e,n,r,i){_classCallCheck(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.tb)(t.item));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}},{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.s),r.Ib(r.t),r.Ib(r.l),r.Ib(r.D))},t.\u0275dir=r.Db({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t}(),x=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),D=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new x(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new N(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new N(t,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}(),N=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},M=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new R,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){j("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){j("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),R=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function j(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(r.tb)(e),"'."))}var F=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),U=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.then(e,(function(t){throw t}))}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),V=new F,K=function(){var t=function(){function t(e){_classCallCheck(this,t),this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(n){return e._updateLatestValue(t,n)}))}},{key:"_selectStrategy",value:function(e){if(Object(r.qb)(e))return U;if(Object(r.pb)(e))return V;throw n=t,Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(Object(r.tb)(n),"'"));var n}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Rb())},t.\u0275pipe=r.Hb({name:"async",type:t,pure:!1}),t}(),z=function(){var t=function(){function t(e){_classCallCheck(this,t),this.differs=e,this.keyValues=[]}return _createClass(t,[{key:"transform",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B;if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());var r=this.differ.diff(t);return r&&(this.keyValues=[],r.forEachItem((function(t){e.keyValues.push({key:t.key,value:t.currentValue})})),this.keyValues.sort(n)),this.keyValues}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.t))},t.\u0275pipe=r.Hb({name:"keyvalue",type:t,pure:!1}),t}();function B(t,e){var n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;var i=String(n),o=String(r);return i==o?0:i<o?-1:1}var q=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:P}]}),t}(),H="browser";function W(t){return"server"===t}var G=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:function(){return new Q(Object(r.Pb)(u),window,Object(r.Pb)(r.m))}}),t}(),Q=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.window||!this.window.scrollTo)return!1;var t=X(this.window.history)||X(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window.scrollTo}catch(t){return!1}}}]),t}();function X(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))}}]),t}(),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(r.a)},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return h}));var r,i=n("7o/Q"),o=n("EY2u"),a=n("LRne"),s=n("HDdC"),u=((r=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(a.a)(this.value);case"E":return t=this.error,new s.a((function(e){return e.error(t)}));case"C":return Object(o.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(t,e))}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.scheduler,this.delay))}}]),t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new f(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(u.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(i.a),f=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return a})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return d}));var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qN0D:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("fXoL"),i=n("ofXK");function o(t,e){1&t&&r.Jb(0,"p",3),2&t&&r.Xb("innerHTML",e.$implicit,r.ec)}var a=function(){var t=function(){function t(){_classCallCheck(this,t),this.newItemEvent=new r.n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"closeItem",value:function(){this.newItemEvent.emit(null)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-informations"]],inputs:{item:"item"},outputs:{newItemEvent:"newItemEvent"},decls:6,vars:2,consts:[[1,"card-panel","blue","lighten-5"],[1,"btn","red",3,"click"],[3,"innerHTML",4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"button",1),r.Sb("click",(function(){return e.closeItem()})),r.ic(2,"X"),r.Kb(),r.Lb(3,"h5"),r.ic(4),r.Kb(),r.hc(5,o,1,1,"p",2),r.Kb()),2&t&&(r.yb(4),r.jc(e.item.name),r.yb(1),r.Xb("ngForOf",e.item.moreInfo))},directives:[i.k],styles:["p[_ngcontent-%COMP%]{width:90%;margin-left:4%}.btn[_ngcontent-%COMP%]{float:right!important}.card-panel[_ngcontent-%COMP%]{margin:0!important;overflow:scroll;max-height:400px;box-shadow:0 0 0 600px}"]}),t}()},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r),o=i},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if(Object(s.a)(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(v){e=v instanceof u?l(v.errors):[v]}}if(Object(o.a)(c))for(var f=-1,d=c.length;++f<d;){var p=c[f];if(Object(a.a)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof u?e=e.concat(l(v.errors)):e.push(v)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce((function(t,e){return t.concat(e instanceof u?e.errors:e)}),[])}},sVev:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}()},spgP:function(t,e,n){"use strict";n.d(e,"a",(function(){return M})),n.d(e,"b",(function(){return L})),n.d(e,"c",(function(){return P})),n.d(e,"d",(function(){return I})),n.d(e,"e",(function(){return x})),n.d(e,"f",(function(){return O})),n.d(e,"g",(function(){return T}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),a=n("HDdC"),s=1,u=Promise.resolve(),c={};function l(t){return t in c&&(delete c[t],!0)}var h=function(t){var e=s++;return c[e]=!0,u.then((function(){return l(e)&&t()})),e},f=function(t){l(t)},d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=h(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(f(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),p=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(d),v=n("DH7j"),y=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=a,i=o,(Object(v.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=p),r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(a.a),g=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new y(e,this.delay,this.scheduler).subscribe(t)}}]),t}(),b=n("pxpQ"),_=n("fXoL"),m=n("Wcq6"),w=n.n(m);function C(){}var k=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.b;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),E=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",C,{},C,C)})),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout((function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)}),10)}}]),t}(),I=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new k(Zone.current)})),this.insideAngular=e.run((function(){return new k(Zone.current,i.b)}))};function O(t){return function(e){return(e=e.lift(new E(t.ngZone))).pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new g(t,e))}}(t.outsideAngular),Object(b.b)(t.insideAngular))}}var S=["ngOnDestroy"],T=function(t,e,n){return new Proxy(t,{get:function(r,i){return n.runOutsideAngular((function(){if(t[i])return t[i];if(S.includes(i))return function(){};var r=e.toPromise().then((function(t){var e=t&&t[i];return"function"==typeof e?e.bind(t):e&&e.then?e.then((function(t){return n.run((function(){return t}))})):n.run((function(){return e}))}));return new Proxy((function(){}),{get:function(t,e){return r[e]},apply:function(t,e,n){return r.then((function(t){return t&&t.apply(void 0,_toConsumableArray(n))}))}})}))}})},P=new _.q("angularfire2.app.options"),L=new _.q("angularfire2.app.nameOrConfig"),A=new _.O("6.0.3");function x(t,e,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",w.a.apps.filter((function(t){return t&&t.name===r.name}))[0]||e.runOutsideAngular((function(){return w.a.initializeApp(t,r)}))}var D,N={provide:function t(){_classCallCheck(this,t)},useFactory:x,deps:[P,_.z,[new _.A,L]]},M=((D=function(){function t(e){_classCallCheck(this,t),w.a.registerVersion("angularfire",A.full,e.toString()),w.a.registerVersion("angular",_.N.full)}return _createClass(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:P,useValue:e},{provide:L,useValue:n}]}}}]),t}()).\u0275mod=_.Gb({type:D}),D.\u0275inj=_.Fb({factory:function(t){return new(t||D)(_.Pb(_.B))},providers:[N]}),D)},tyNb:function(t,e,n){"use strict";n.d(e,"a",(function(){return vn})),n.d(e,"b",(function(){return yn})),n.d(e,"c",(function(){return kn})),n.d(e,"d",(function(){return gn})),n.d(e,"e",(function(){return Mn})),n.d(e,"f",(function(){return En}));var r=n("ofXK"),i=n("fXoL"),o=n("LRne"),a=n("Cfvw"),s=n("XNiG"),u=n("9ppp"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._value=t,r}return _createClass(n,[{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new u.a;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(s.a),l=n("z+Ro"),h=n("DH7j"),f=n("l7GE"),d=n("ZUHj"),p=n("yCtX"),v={},y=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new g(t,this.resultSelector))}}]),t}(),g=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(t){this.values.push(v),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(d.a)(this,r,void 0,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===v?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(f.a),b=n("HDdC"),_=n("sVev"),m=n("EY2u");function w(t){return new b.a((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(a.a)(n):Object(m.b)()).subscribe(e)}))}var C=n("lJxs"),k=n("bHdf");function E(){return Object(k.a)(1)}var I=n("pLZG"),O=n("7o/Q"),S=n("4I5i");function T(t){return function(e){return 0===t?Object(m.b)():e.lift(new P(t))}}var P=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new S.a}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new L(t,this.total))}}]),t}(),L=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(O.a),A=n("XDbj"),x=n("xbPD"),D=n("SpAZ"),N=n("eIep"),M=n("IzEk");function R(){return E()(Object(o.a).apply(void 0,arguments))}var j=n("Kqap"),F=n("zx2A");function U(t){return function(e){var n=new V(t),r=e.lift(n);return n.caught=r}}var V=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new K(t,this.selector,this.caught))}}]),t}(),K=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new F.a(this);this.add(r);var i=Object(F.c)(e,r);i!==r&&this.add(i)}}}]),n}(F.b),z=n("5+tZ");function B(t,e){return Object(z.a)(t,e,1)}var q=n("SxV6"),H=n("vkgz"),W=n("quSY"),G=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Q(t,this.callback))}}]),t}(),Q=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).add(new W.a(r)),i}return n}(O.a),X=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},J=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(X),Y=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(X),Z=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(X),$=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(X),tt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(X),et=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(X),nt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(X),rt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(X),it=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(X),ot=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),at=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),st=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ut=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ct=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),lt=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ht=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),ft=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function dt(t){return new ft(t)}function pt(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function vt(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yt(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!gt(t[n=r[o]],e[n]))return!1;return!0}function gt(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=_toConsumableArray(t).sort(),r=_toConsumableArray(e).sort();return n.every((function(t,e){return r[e]===t}))}return t===e}function bt(t){return Array.prototype.concat.apply([],t)}function _t(t){return t.length>0?t[t.length-1]:null}function mt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function wt(t){return Object(i.pb)(t)?t:Object(i.qb)(t)?Object(a.a)(Promise.resolve(t)):Object(o.a)(t)}function Ct(t,e,n){return n?function(t,e){return yt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Ot(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return gt(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Ot(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Ot(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Ot(n.segments,a)&&!!n.children.primary&&e(n.children.primary,r,s)}(e,n,n.segments)}(t.root,e.root)}var kt=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"toString",value:function(){return Lt.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=dt(this.queryParams)),this._queryParamMap}}]),t}(),Et=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,mt(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return At(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),It=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return jt(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=dt(this.parameters)),this._parameterMap}}]),t}();function Ot(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function St(t,e){var n=[];return mt(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),mt(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var Tt=function t(){_classCallCheck(this,t)},Pt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new zt(t);return new kt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return At(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return mt(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=St(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return 1===Object.keys(e.children).length&&null!=e.children.primary?"".concat(At(e),"/").concat(o[0]):"".concat(At(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(Dt(t),"=").concat(Dt(e))})).join("&"):"".concat(Dt(t),"=").concat(Dt(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),Lt=new Pt;function At(t){return t.segments.map((function(t){return jt(t)})).join("/")}function xt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dt(t){return xt(t).replace(/%3B/gi,";")}function Nt(t){return xt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mt(t){return decodeURIComponent(t)}function Rt(t){return Mt(t.replace(/\+/g,"%20"))}function jt(t){return"".concat(Nt(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(Nt(t),"=").concat(Nt(e[t]))})).join("")));var e}var Ft=/^[^\/()?;=#]+/;function Ut(t){var e=t.match(Ft);return e?e[0]:""}var Vt=/^[^=?&#]+/,Kt=/^[^?&#]+/,zt=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Et([],{}):new Et([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Et(t,e)),n}},{key:"parseSegment",value:function(){var t=Ut(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new It(Mt(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Ut(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Ut(this.remaining);r&&(n=r,this.capture(n))}t[Mt(e)]=Mt(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Vt);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Kt);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Rt(e),o=Rt(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Ut(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Et([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Bt=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=qt(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=qt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Ht(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Ht(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function qt(t,e){if(t===e.value)return e;var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=qt(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Ht(t,e){if(t===e.value)return[e];var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=Ht(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Wt=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Gt(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Qt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).snapshot=r,te(_assertThisInitialized(i),t),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Bt);function Xt(t,e){var n=function(t,e){var n=new Zt([],{},{},"",{},"primary",e,null,t.root,-1,{});return new $t("",new Wt(n,[]))}(t,e),r=new c([new It("",{})]),i=new c({}),o=new c({}),a=new c({}),s=new c(""),u=new Jt(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new Qt(new Wt(u,[]),n)}var Jt=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(C.a)((function(t){return dt(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(C.a)((function(t){return dt(t)})))),this._queryParamMap}}]),t}();function Yt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Zt=function(){function t(e,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=dt(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=dt(this.queryParams)),this._queryParamMap}}]),t}(),$t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,r)).url=t,te(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return ee(this._root)}}]),n}(Bt);function te(t,e){e.value._routerState=t,e.children.forEach((function(e){return te(t,e)}))}function ee(t){var e=t.children.length>0?" { ".concat(t.children.map(ee).join(", ")," } "):"";return"".concat(t.value).concat(e)}function ne(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!yt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function re(t,e){var n,r;return yt(t.params,e.params)&&Ot(n=t.url,r=e.url)&&n.every((function(t,e){return yt(t.parameters,r[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||re(t.parent,e.parent))}function ie(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function oe(t,e,n,r,i){var o={};return r&&mt(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new kt(n.root===t?e:function t(e,n,r){var i={};return mt(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new Et(e.segments,i)}(n.root,t,e),o,i)}var ae=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ie(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==_t(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),se=function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function ue(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function ce(t,e,n){if(t||(t=new Et([],{})),0===t.segments.length&&t.hasChildren())return le(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=ue(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!pe(s,u,a))return o;r+=2}else{if(!pe(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Et(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Et(t.segments.slice(r.pathIndex),t.children),le(o,0,i)}return r.match&&0===i.length?new Et(t.segments,{}):r.match&&!t.hasChildren()?he(t,e,n):r.match?le(t,0,i):he(t,e,n)}function le(t,e,n){if(0===n.length)return new Et(t.segments,{});var r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return mt(r,(function(n,r){null!==n&&(i[r]=ce(t.children[r],e,n))})),mt(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new Et(t.segments,i)}function he(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){var o=fe(n[i].outlets);return new Et(r,o)}if(0===i&&ie(n[0]))r.push(new It(t.segments[e].path,n[0])),i++;else{var a=ue(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&ie(s)?(r.push(new It(a,de(s))),i+=2):(r.push(new It(a,{})),i++)}}return new Et(r,{})}function fe(t){var e={};return mt(t,(function(t,n){null!==t&&(e[n]=he(new Et([],{}),0,t))})),e}function de(t){var e={};return mt(t,(function(t,n){return e[n]=""+t})),e}function pe(t,e,n){return t==n.path&&yt(e,n.parameters)}var ve=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ne(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Gt(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),mt(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Gt(t),o=t.value.component?r.children:e;mt(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Gt(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new lt(t.value.snapshot))})),t.children.length&&this.forwardEvent(new ut(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(ne(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),ye(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function ye(t){ne(t.value),t.children.forEach(ye)}var ge=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function be(t){return"function"==typeof t}function _e(t){return t instanceof kt}var me=Symbol("INITIAL_VALUE");function we(){return Object(N.a)((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0,i=void 0;return Object(l.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(h.a)(e[0])&&(e=e[0]),Object(p.a)(e,i).lift(new y(r))}).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(Object(M.a)(1),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(l.a)(r)?(e.pop(),function(t){return R(e,t,r)}):function(t){return R(e,t)}}(me))})))).pipe(Object(j.a)((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==me)return t;if(r===me&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||_e(r))return r}return t}),t)}),me),Object(I.a)((function(t){return t!==me})),Object(C.a)((function(t){return _e(t)?t:!0===t})),Object(M.a)(1))}))}var Ce=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},ke=function t(e){_classCallCheck(this,t),this.urlTree=e};function Ee(t){return new b.a((function(e){return e.error(new Ce(t))}))}function Ie(t){return new b.a((function(e){return e.error(new ke(t))}))}function Oe(t){return new b.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var Se=function(){function t(e,n,r,o,a){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(i.x)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(C.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(U((function(e){if(e instanceof ke)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Ce)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(C.a)((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(U((function(t){if(t instanceof Ce)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Et([],{primary:t}):t;return new kt(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(C.a)((function(t){return new Et([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(o.a)({});var a=[],s=[],u={};return mt(n,(function(n,i){var o,c,l=(o=i,c=n,r.expandSegmentGroup(t,e,c,o)).pipe(Object(C.a)((function(t){return u[i]=t})));"primary"===i?a.push(l):s.push(l)})),o.a.apply(null,a.concat(s)).pipe(E(),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(I.a)((function(e,n){return t(e,n,r)})):D.a,T(1),n?Object(x.a)(e):Object(A.a)((function(){return new _.a})))}}(),Object(C.a)((function(){return u})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,a){var s=this;return Object(o.a).apply(void 0,_toConsumableArray(n)).pipe(B((function(u){return s.expandSegmentAgainstRoute(t,e,n,u,r,i,a).pipe(U((function(t){if(t instanceof Ce)return Object(o.a)(null);throw t})))})),Object(q.a)((function(t){return!!t})),U((function(t,n){if(t instanceof _.a||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,r,i))return Object(o.a)(new Et([],{}));throw new Ce(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Ae(r)!==o?Ee(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Ee(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ie(o):this.lineralizeSegments(n,o).pipe(Object(z.a)((function(n){var o=new Et(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=Te(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return Ee(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Ie(f):this.lineralizeSegments(r,f).pipe(Object(z.a)((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(C.a)((function(t){return n._loadedConfig=t,new Et(r,{})}))):Object(o.a)(new Et(r,{}));var a=Te(e,n,r),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return Ee(e);var l=r.slice(c);return this.getChildConfig(t,n,r).pipe(Object(z.a)((function(t){var n=t.module,r=t.routes,a=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return Le(t,e,n)&&"primary"!==Ae(n)}))}(t,n,r)?{segmentGroup:Pe(new Et(e,function(t,e){var n={};n.primary=e;var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Ae(o)&&(n[Ae(o)]=new Et([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new Et(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return Le(t,e,n)}))}(t,n,r)?{segmentGroup:Pe(new Et(t.segments,function(t,e,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;Le(t,e,s)&&!r[Ae(s)]&&(o[Ae(s)]=new Et([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,u,l,r),s=a.segmentGroup,c=a.slicedSegments;return 0===c.length&&s.hasChildren()?i.expandChildren(n,r,s).pipe(Object(C.a)((function(t){return new Et(u,t)}))):0===r.length&&0===c.length?Object(o.a)(new Et(u,{})):i.expandSegment(n,s,r,c,"primary",!0).pipe(Object(C.a)((function(t){return new Et(u.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(o.a)(new ge(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(z.a)((function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(C.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new b.a((function(e){return e.error(pt("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Object(o.a)(new ge([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;if(!i||0===i.length)return Object(o.a)(!0);var a=i.map((function(r){var i,o=t.get(r);if(function(t){return t&&be(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!be(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return wt(i)}));return Object(o.a)(a).pipe(we(),Object(H.a)((function(t){if(_e(t)){var e=pt('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}})),Object(C.a)((function(t){return!0===t})))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Oe(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new kt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return mt(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return mt(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new Et(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function Te(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||vt)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Pe(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Et(t.segments.concat(e.segments),e.children)}return t}function Le(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ae(t){return t.outlet||"primary"}var xe=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},De=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function Ne(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Me(t,e,n){var r=Gt(t),i=t.value;mt(r,(function(t,r){Me(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new De(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Re(t,e){return null!==t&&e&&e(new ct(t)),Object(o.a)(!0)}function je(t,e){return null!==t&&e&&e(new st(t)),Object(o.a)(!0)}function Fe(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);var i=r.map((function(r){return w((function(){var i,o=Ne(r,e,n);if(function(t){return t&&be(t.canActivate)}(o))i=wt(o.canActivate(e,t));else{if(!be(o))throw new Error("Invalid CanActivate guard");i=wt(o(e,t))}return i.pipe(Object(q.a)())}))}));return Object(o.a)(i).pipe(we())}function Ue(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return w((function(){var i=e.guards.map((function(i){var o,a=Ne(i,e.node,n);if(function(t){return t&&be(t.canActivateChild)}(a))o=wt(a.canActivateChild(r,t));else{if(!be(a))throw new Error("Invalid CanActivateChild guard");o=wt(a(r,t))}return o.pipe(Object(q.a)())}));return Object(o.a)(i).pipe(we())}))}));return Object(o.a)(i).pipe(we())}var Ve=function t(){_classCallCheck(this,t)},Ke=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(t,[{key:"recognize",value:function(){try{var t=qe(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Zt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Wt(n,e),i=new $t(this.url,r);return this.inheritParamsAndData(i._root),Object(o.a)(i)}catch(a){return new b.a((function(t){return t.error(a)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Yt(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=St(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(s){if(!(s instanceof Ve))throw s}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new Ve}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new Ve;if((t.outlet||"primary")!==r)throw new Ve;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?_t(n).parameters:{};i=new Zt(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ge(t),r,t.component,t,ze(e),Be(e)+n.length,Qe(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Ve;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||vt)(n,t,e);if(!r)throw new Ve;var i={};mt(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new Zt(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ge(t),r,t.component,t,ze(e),Be(e)+o.length,Qe(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=qe(e,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new Wt(i,d)]}if(0===c.length&&0===f.length)return[new Wt(i,[])];var p=this.processSegment(c,h,f,"primary");return[new Wt(i,p)]}}]),t}();function ze(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Be(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function qe(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return He(t,e,n)&&"primary"!==We(n)}))}(t,n,r)){var o=new Et(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==We(s)){var u=new Et([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[We(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(t,e,r,new Et(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return He(t,e,n)}))}(t,n,r)){var a=new Et(t.segments,function(t,e,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(He(t,n,c)&&!i[We(c)]){var l=new Et([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[We(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new Et(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function He(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function We(t){return t.outlet||"primary"}function Ge(t){return t.data||{}}function Qe(t){return t.resolve||{}}function Xe(t){return function(e){return e.pipe(Object(N.a)((function(e){var n=t(e);return n?Object(a.a)(n).pipe(Object(C.a)((function(){return e}))):Object(a.a)([e])})))}}var Je,Ye=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),Ze=((Je=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Je)},Je.\u0275cmp=i.Cb({type:Je,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Jb(0,"router-outlet")},directives:function(){return[En]},encapsulation:2}),Je);function $e(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];tn(r,en(e,r))}}function tn(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&$e(t.children,e)}function en(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function nn(t){var e=t.children&&t.children.map(nn),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Ze),n}var rn=new i.q("ROUTES"),on=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(C.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new ge(bt(i.injector.get(rn)).map(nn),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(a.a)(this.loader.load(t)):wt(t()).pipe(Object(z.a)((function(t){return t instanceof i.v?Object(o.a)(t):Object(a.a)(e.compiler.compileModuleAsync(t))})))}}]),t}(),an=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new sn,this.attachRef=null},sn=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new an,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),un=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function cn(t){throw t}function ln(t,e,n){return e.parse("/")}function hn(t,e){return Object(o.a)(null)}var fn,dn,pn,vn=((pn=function(){function t(e,n,r,o,a,u,l,h){var f=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=o,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new s.a,this.errorHandler=cn,this.malformedUriErrorHandler=ln,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hn,afterPreactivation:hn},this.urlHandlingStrategy=new un,this.routeReuseStrategy=new Ye,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(i.x),this.console=a.get(i.X);var d=a.get(i.z);this.isNgZoneEnabled=d instanceof i.z,this.resetConfig(h),this.currentUrlTree=new kt(new Et([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new on(u,l,(function(t){return f.triggerEvent(new ot(t))}),(function(t){return f.triggerEvent(new at(t))})),this.routerState=Xt(this.currentUrlTree,this.rootComponentType),this.transitions=new c({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Object(I.a)((function(t){return 0!==t.id})),Object(C.a)((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Object(N.a)((function(t){var r,i,s,u,l=!1,h=!1;return Object(o.a)(t).pipe(Object(H.a)((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Object(N.a)((function(t){var r,i,a,s,u=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||u)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Object(N.a)((function(t){var r=e.transitions.getValue();return n.next(new J(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?m.a:[t]})),Object(N.a)((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,a=e.urlSerializer,s=e.config,function(t){return t.pipe(Object(N.a)((function(t){return function(t,e,n,r,i){return new Se(t,e,n,r,i).apply()}(r,i,a,t.extractedUrl,s).pipe(Object(C.a)((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Object(H.a)((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(Object(z.a)((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Ke(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(C.a)((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(H.a)((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Object(H.a)((function(t){var r=new tt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(u&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var c=t.id,l=t.extractedUrl,h=t.source,f=t.restoredState,d=t.extras,p=new J(c,e.serializeUrl(l),h,f);n.next(p);var v=Xt(l,e.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},t),{targetSnapshot:v,urlAfterRedirects:l,extras:Object.assign(Object.assign({},d),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),m.a})),Xe((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(H.a)((function(t){var n=new et(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(C.a)((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Gt(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ot(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ot(t.url,e.url)||!yt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!re(t,e)||!yt(t.queryParams,e.queryParams);case"paramsChange":default:return!re(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new xe(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),c&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new De(u.outlet.component,s))}else s&&Me(n,u,o),o.canActivateChecks.push(new xe(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]})),mt(a,(function(t,e){return Me(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(Object(z.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,s=n.guards,u=s.canActivateChecks,c=s.canDeactivateChecks;return 0===c.length&&0===u.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(a.a)(t).pipe(Object(z.a)((function(t){return function(t,e,n,r,i){var a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return Object(o.a)(!0);var s=a.map((function(o){var a,s=Ne(o,e,i);if(function(t){return t&&be(t.canDeactivate)}(s))a=wt(s.canDeactivate(t,e,n,r));else{if(!be(s))throw new Error("Invalid CanDeactivate guard");a=wt(s(t,e,n,r))}return a.pipe(Object(q.a)())}));return Object(o.a)(s).pipe(we())}(t.component,t.route,n,e,r)})),Object(q.a)((function(t){return!0!==t}),!0))}(c,r,i,t).pipe(Object(z.a)((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(a.a)(e).pipe(B((function(e){return Object(a.a)([je(e.route.parent,r),Re(e.route,r),Ue(t,e.path,n),Fe(t,e.route,n)]).pipe(E(),Object(q.a)((function(t){return!0!==t}),!0))})),Object(q.a)((function(t){return!0!==t}),!0))}(r,u,t,e):Object(o.a)(n)})),Object(C.a)((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Object(H.a)((function(t){if(_e(t.guardsResult)){var n=pt('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Object(H.a)((function(t){var n=new nt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Object(I.a)((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Z(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),Xe((function(t){if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(Object(H.a)((function(t){var n=new rt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(N.a)((function(t){var r,i,s=!1;return Object(o.a)(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,function(t){return t.pipe(Object(z.a)((function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return Object(o.a)(t);var s=0;return Object(a.a)(n).pipe(B((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(o.a)({});var s={};return Object(a.a)(i).pipe(Object(z.a)((function(i){return function(t,e,n,r){var i=Ne(t,e,r);return wt(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(H.a)((function(t){s[i]=t})))})),T(1),Object(z.a)((function(){return Object.keys(s).length===i.length?Object(o.a)(s):m.a})))}(t._resolve,t,e,r).pipe(Object(C.a)((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Yt(t,n).resolve),null})))}(t.route,e,r,i)})),Object(H.a)((function(){return s++})),T(1),Object(z.a)((function(e){return s===n.length?Object(o.a)(t):m.a})))})))}),Object(H.a)({next:function(){return s=!0},complete:function(){if(!s){var r=new Z(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))})),Object(H.a)((function(t){var n=new it(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})))})),Xe((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(C.a)((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(e.shouldReuseRoute(a.value.snapshot,n.value))return t(e,n,a)}}catch(s){o.e(s)}finally{o.f()}return t(e,n)}))}(e,n,r);return new Wt(i,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,l=new Jt(new c((u=n.value).url),new c(u.params),new c(u.queryParams),new c(u.fragment),new c(u.data),u.outlet,u.component,u),h=n.children.map((function(n){return t(e,n)}));return new Wt(l,h)}(t,e._root,n?n._root:void 0);return new Qt(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),Object(H.a)((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,s=e.routeReuseStrategy,u=function(t){return e.triggerEvent(t)},Object(C.a)((function(t){return new ve(s,t.targetRouterState,t.currentRouterState,u).activate(i),t}))),Object(H.a)({next:function(){l=!0},complete:function(){l=!0}}),(r=function(){if(!l&&!h){e.resetUrlToCurrentUrlTree();var r=new Z(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new G(r))}),U((function(r){if(h=!0,(s=r)&&s.ngNavigationCancelingError){var i=_e(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Z(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new $(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(u){t.reject(u)}}var s;return m.a})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout((function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)}),0),t.lastLocationChangeInfo=n})))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){$e(t),this.config=t.map(nn),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(i.U)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=a?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return oe(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ae(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return mt(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new ae(n,e,r)}(n);if(o.toRoot())return oe(e.root,new Et([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new se(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new se(r,r===e.root,0)}var i=ie(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new se(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?le(a.segmentGroup,a.index,o.commands):ce(a.segmentGroup,a.index,o.commands);return oe(a.segmentGroup,s,e,r,i)}(c,this.currentUrlTree,t,h,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(i.U)()&&this.isNgZoneEnabled&&!i.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=_e(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(_e(t))return Ct(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Ct(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Y(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,a,s,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(t,e){o=t,a=e}));var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){return new(t||pn)(i.Pb(i.M),i.Pb(Tt),i.Pb(sn),i.Pb(r.h),i.Pb(i.r),i.Pb(i.w),i.Pb(i.i),i.Pb(void 0))},pn.\u0275prov=i.Eb({token:pn,factory:pn.\u0275fac}),pn),yn=((dn=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new s.a,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"onClick",value:function(){var t={skipLocationChange:bn(this.skipLocationChange),replaceUrl:bn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(i.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:bn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:bn(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||dn)(i.Ib(vn),i.Ib(Jt),i.Qb("tabindex"),i.Ib(i.D),i.Ib(i.l))},dn.\u0275dir=i.Db({type:dn,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.Sb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.wb]}),dn),gn=((fn=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new s.a,this.subscription=e.events.subscribe((function(t){t instanceof Y&&i.updateTargetUrlAndHref()}))}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:bn(this.skipLocationChange),replaceUrl:bn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(i.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:bn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:bn(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||fn)(i.Ib(vn),i.Ib(Jt),i.Ib(r.i))},fn.\u0275dir=i.Db({type:fn,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.Sb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(i.Ob("href",e.href,i.fc),i.zb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.wb]}),fn);function bn(t){return""===t||!!t}var _n,mn,wn,Cn,kn=((mn=function(){function t(e,n,r,i,o,a){var s=this;_classCallCheck(this,t),this.router=e,this.element=n,this.renderer=r,this.cdr=i,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe((function(t){t instanceof Y&&s.update()}))}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;Object(a.a)([this.links.changes,this.linksWithHrefs.changes,Object(o.a)(null)]).pipe(Object(k.a)()).subscribe((function(e){t.update(),t.subscribeToEachLinkOnChanges()}))}},{key:"subscribeToEachLinkOnChanges",value:function(){var t,e=this;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();var n=[].concat(_toConsumableArray(this.links.toArray()),_toConsumableArray(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter((function(t){return!!t})).map((function(t){return t.onChanges}));this.linkInputChangesSubscription=Object(a.a)(n).pipe(Object(k.a)()).subscribe((function(t){e.isActive!==e.isLinkActive(e.router)(t)&&e.update()}))}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}},{key:"update",value:function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.cdr.markForCheck(),t.classes.forEach((function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter((function(t){return!!t}))}}]),t}()).\u0275fac=function(t){return new(t||mn)(i.Ib(vn),i.Ib(i.l),i.Ib(i.D),i.Ib(i.h),i.Ib(yn,8),i.Ib(gn,8))},mn.\u0275dir=i.Db({type:mn,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(i.Bb(n,yn,!0),i.Bb(n,gn,!0)),2&t&&(i.bc(r=i.Tb())&&(e.links=r),i.bc(r=i.Tb())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i.wb]}),mn),En=((_n=function(){function t(e,n,r,o,a){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=o||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new In(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||_n)(i.Ib(sn),i.Ib(i.P),i.Ib(i.j),i.Qb("name"),i.Ib(i.h))},_n.\u0275dir=i.Db({type:_n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),_n),In=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===Jt?this.route:t===sn?this.childContexts:this.parent.get(t,e)}}]),t}(),On=function t(){_classCallCheck(this,t)},Sn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Object(o.a)(null)}}]),t}(),Tn=((Cn=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new on(n,r,(function(t){return e.triggerEvent(new ot(t))}),(function(t){return e.triggerEvent(new at(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Object(I.a)((function(t){return t instanceof Y})),B((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(i.x);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(u){i.e(u)}finally{i.f()}return Object(a.a)(r).pipe(Object(k.a)(),Object(C.a)((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Object(z.a)((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||Cn)(i.Pb(vn),i.Pb(i.w),i.Pb(i.i),i.Pb(i.r),i.Pb(On))},Cn.\u0275prov=i.Eb({token:Cn,factory:Cn.\u0275fac}),Cn),Pn=((wn=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof J?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Y&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof ht&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new ht(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||wn)(i.Pb(vn),i.Pb(r.o),i.Pb(void 0))},wn.\u0275prov=i.Eb({token:wn,factory:wn.\u0275fac}),wn),Ln=new i.q("ROUTER_CONFIGURATION"),An=new i.q("ROUTER_FORROOT_GUARD"),xn=[r.h,{provide:Tt,useClass:Pt},{provide:vn,useFactory:function(t,e,n,i,o,a,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new vn(null,t,e,n,i,o,a,bt(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=Object(r.s)();h.events.subscribe((function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Tt,sn,r.h,i.r,i.w,i.i,rn,Ln,[function(){return function t(){_classCallCheck(this,t)}}(),new i.A],[function(){return function t(){_classCallCheck(this,t)}}(),new i.A]]},sn,{provide:Jt,useFactory:function(t){return t.routerState.root},deps:[vn]},{provide:i.w,useClass:i.J},Tn,Sn,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(U((function(){return Object(o.a)(null)})))}}]),t}(),{provide:Ln,useValue:{enableTracing:!1}}];function Dn(){return new i.y("Router",vn)}var Nn,Mn=((Nn=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[xn,Un(e),{provide:An,useFactory:Fn,deps:[[vn,new i.A,new i.I]]},{provide:Ln,useValue:n||{}},{provide:r.i,useFactory:jn,deps:[r.n,[new i.p(r.a),new i.A],Ln]},{provide:Pn,useFactory:Rn,deps:[vn,r.o,Ln]},{provide:On,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Sn},{provide:i.y,multi:!0,useFactory:Dn},[Kn,{provide:i.d,multi:!0,useFactory:zn,deps:[Kn]},{provide:qn,useFactory:Bn,deps:[Kn]},{provide:i.b,multi:!0,useExisting:qn}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Un(e)]}}}]),t}()).\u0275mod=i.Gb({type:Nn}),Nn.\u0275inj=i.Fb({factory:function(t){return new(t||Nn)(i.Pb(An,8),i.Pb(vn,8))}}),Nn);function Rn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Pn(t,e,n)}function jn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new r.e(t,e):new r.m(t,e)}function Fn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Un(t){return[{provide:i.a,multi:!0,useValue:t},{provide:rn,multi:!0,useValue:t}]}var Vn,Kn=((Vn=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new s.a}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(r.g,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(vn),i=t.injector.get(Ln);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?Object(o.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Ln),n=this.injector.get(Tn),r=this.injector.get(Pn),o=this.injector.get(vn),a=this.injector.get(i.g);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||Vn)(i.Pb(i.r))},Vn.\u0275prov=i.Eb({token:Vn,factory:Vn.\u0275fac}),Vn);function zn(t){return t.appInitializer.bind(t)}function Bn(t){return t.bootstrapListener.bind(t)}var qn=new i.q("Router Initializer")},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q");function i(){}var o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,a,s){var u;return _classCallCheck(this,n),(u=e.call(this,t))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=a||i,u._tapComplete=s||i,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),a=n("quSY");function s(){return function(t){return t.lift(new c(t))}}var u,c=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(o.a),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t}},{key:"refCount",value:function(){return s()(this)}}]),n}(i.a),f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(u=h.prototype)._subscribe},_isComplete:{value:u._isComplete,writable:!0},getSubject:{value:u.getSubject},connect:{value:u.connect},refCount:{value:u.refCount}},d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(r.b);function p(){return new r.a}function v(){return function(t){return s()((e=p,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("mAIw"),a=n("zVF4"),s=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(a.contains(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new s.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!a.contains(e,t=t||"[DEFAULT]"))throw l.create("no-app",{appName:t});return e[t]}function c(s){var u,c,h=s.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&a.deepExtend(d,s.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,s.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(s)}catch(y){u={error:y}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){a.deepExtend(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(a.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),g.apply(void 0,t)};var b=p;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.11",void 0),t.registerVersion("fire-js","")}(b),e.default=b,e.firebase=b},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return Zn})),n.d(e,"EventType",(function(){return $n})),n.d(e,"WebChannel",(function(){return tr})),n.d(e,"XhrIo",(function(){return er})),n.d(e,"createWebChannelTransport",(function(){return Yn}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=s||{},u=a||self;function c(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now;function m(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++p)}(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},k=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function E(t){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function O(t){return/^[\s\xa0]*$/.test(t)}var S,T=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function P(t,e){return-1!=t.indexOf(e)}function L(t,e){return t<e?-1:t>e?1:0}t:{var A=u.navigator;if(A){var x=A.userAgent;if(x){S=x;break t}}S=""}function D(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function N(t){var e={};for(var n in t)e[n]=t[n];return e}var M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<M.length;o++)n=M[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=c;var F,U,V=P(S,"Opera"),K=P(S,"Trident")||P(S,"MSIE"),z=P(S,"Edge"),B=z||K,q=P(S,"Gecko")&&!(P(S.toLowerCase(),"webkit")&&!P(S,"Edge"))&&!(P(S,"Trident")||P(S,"MSIE"))&&!P(S,"Edge"),H=P(S.toLowerCase(),"webkit")&&!P(S,"Edge");function W(){var t=u.document;return t?t.documentMode:void 0}t:{var G="",Q=(U=S,q?/rv:([^\);]+)(\)|;)/.exec(U):z?/Edge\/([\d\.]+)/.exec(U):K?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):H?/WebKit\/(\S+)/.exec(U):V?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if(Q&&(G=Q?Q[1]:""),K){var X=W();if(null!=X&&X>parseFloat(G)){F=String(X);break t}}F=G}var J={};function Y(t){return function(t,e){var n=J;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=T(String(F)).split("."),r=T(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=L(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||L(0==a[2].length,0==s[2].length)||L(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var Z=u.document&&K&&(W()||parseInt(F,10))||void 0,$=!K||9<=Number(Z),tt=K&&!Y("9"),et=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(q){t:{try{j(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},m(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ot="closure_listenable_"+(1e6*Math.random()|0),at=0;function st(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++at,this.Y=this.Z=!1}function ut(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ct(t){this.src=t,this.a={},this.b=0}function lt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=C(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ct.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ht(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new st(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=Ct(r),e&&e[ot]?e.wa(n,r,f(i)?!!i.capture:!!i,o):vt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=Ct(n),t&&t[ot]?t.va(e,n,f(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=f(i)?!!i.capture:!!i;if(a&&!$)return null;var s=mt(t);if(s||(t[ft]=s=new ct(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=_t,e=$?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ot])lt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mt(e))?(lt(n,t),0==n.b&&(n.src=null,e[ft]=null)):ut(t)}}}function gt(t){return t in dt?dt[t]:dt[t]="on"+t}function bt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&yt(t),n.call(r,e)}function _t(t,e){if(t.Y)return!0;if(!$){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return bt(t,e=new rt(e,this))}return bt(t,new rt(e,this))}function mt(t){return(t=t[ft])instanceof ct?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(t){return"function"==l(t)?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function kt(){w.call(this),this.c=new ct(this),this.J=this,this.C=null}function Et(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&lt(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}m(kt,w),kt.prototype[ot]=!0,(o=kt.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=f(i)?!!i.capture:!!i,r=Ct(r),e&&e[ot]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ht(a=e.a[n],r,i,o))&&(ut(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=mt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ht(n,r,i,o)),(r=-1<e?n[e]:null)&&yt(r))}(this,t,e,n,r)},o.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new nt(t,n);else if(t instanceof nt)t.target=t.target||n;else{var i=t;R(t=new nt(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Et(a,r,!0,t)&&i}if(i=Et(a=t.a=n,r,!0,t)&&i,i=Et(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Et(a=t.a=e[o],r,!1,t)&&i;return i},o.G=function(){if(kt.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ut(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var It=u.JSON.stringify;function Ot(){this.b=this.a=null}var St,Tt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Lt}),(function(t){t.reset()}),100);function Pt(){var t=Nt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Lt(){this.next=this.b=this.a=null}function At(t){u.setTimeout((function(){throw t}),0)}function xt(t,e){St||function(){var t=u.Promise.resolve(void 0);St=function(){t.then(Mt)}}(),Dt||(St(),Dt=!0),Nt.add(t,e)}Ot.prototype.add=function(t,e){var n=Tt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Lt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Lt.prototype.reset=function(){this.next=this.b=this.a=null};var Dt=!1,Nt=new Ot;function Mt(){for(var t;t=Pt();){try{t.a.call(t.b)}catch(n){At(n)}var e=Tt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Dt=!1}function Rt(t,e){kt.call(this),this.b=t||1,this.a=e||u,this.f=g(this.Ya,this),this.g=_()}function jt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ft(t,e,n){if("function"==l(t))n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Ut(t){t.a=Ft((function(){t.a=null,t.c&&(t.c=!1,Ut(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}m(Rt,kt),(o=Rt.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var t=_()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(jt(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=_())},o.G=function(){Rt.S.G.call(this),jt(this),delete this.a};var Vt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ut(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(w);function Kt(t){w.call(this),this.b=t,this.a={}}m(Kt,w);var zt=[];function Bt(t,e,n,r){Array.isArray(n)||(n&&(zt[0]=n.toString()),n=zt);for(var i=0;i<n.length;i++){var o=pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function qt(t){D(t.a,(function(t,e){this.a.hasOwnProperty(e)&&yt(t)}),t),t.a={}}function Ht(){this.a=!0}function Wt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return It(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Kt.prototype.G=function(){Kt.S.G.call(this),qt(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ht.prototype.info=function(){};var Gt=null;function Qt(){return Gt=Gt||new kt}function Xt(t){nt.call(this,"serverreachability",t)}function Jt(t){var e=Qt();e.dispatchEvent(new Xt(e,t))}function Yt(t){nt.call(this,"statevent",t)}function Zt(t){var e=Qt();e.dispatchEvent(new Yt(e,t))}function $t(t){nt.call(this,"timingevent",t)}function te(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}m(Xt,nt),m(Yt,nt),m($t,nt);var ee={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ne={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function re(){}function ie(){}re.prototype.a=null;var oe,ae={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function se(){nt.call(this,"d")}function ue(){nt.call(this,"c")}function ce(){}function le(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Kt(this),this.P=he,this.R=new Rt(t=B?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}m(se,nt),m(ue,nt),m(ce,re),oe=new ce;var he=45e3,fe={},de={};function pe(t,e,n){t.H=1,t.i=Re(Le(e)),t.j=n,t.I=!0,ve(t,null)}function ve(t,e){t.u=_(),be(t),t.l=Le(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Xe(n.b,"t",r),t.D=0,t.a=qn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Vt(g(t.Ca,t,t.a),t.O)),Bt(t.J,t.a,"readystatechange",t.Wa),e=t.B?N(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Jt(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function ye(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ge(t,n);if(i==de){4==e&&(t.h=4,Zt(14),r=!1),Wt(t.c,t.f,null,"[Incomplete Response]");break}if(i==fe){t.h=4,Zt(15),Wt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Wt(t.c,t.f,i,null),ke(t,i)}4==e&&0==n.length&&(t.h=1,Zt(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rn(e),e.F=!0)):(Wt(t.c,t.f,n,"[Invalid Chunked Response]"),Ce(t),we(t))}function ge(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?de:(n=Number(e.substring(n,r)),isNaN(n)?fe:(r+=1)+n>e.length?de:(e=e.substr(r,n),t.D=r+n,e))}function be(t){t.U=_()+t.P,_e(t,t.P)}function _e(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=te(g(t.Ua,t),e)}function me(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function we(t){0==t.g.v||t.A||Un(t.g,t)}function Ce(t){me(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,jt(t.R),qt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ke(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nn(n.b,t)))if(n.I=t.N,!t.C&&nn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Fn(n),Sn(n)}Mn(n),Zt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=te(g(n.Ra,n),6e3));if(1>=en(n.b)&&n.ea){try{n.ea()}catch(y){}n.ea=void 0}}else Kn(n,11)}else if((t.C||n.a==t)&&Fn(n),!O(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(P(l,"spdy")||P(l,"quic")||P(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(rn(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Me(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=_()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Bn(u,u.C?u.ga:null,u.fa),d.C){on(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(me(p),be(p)),u.a=d}else Nn(u);0<n.g.length&&Ln(n)}else"stop"!=i[0]&&"close"!=i[0]||Kn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Kn(n,7):On(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Jt(4)}catch(y){}}function Ee(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)k(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ie(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ie)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Oe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Se(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Se(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Se(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=le.prototype).setTimeout=function(t){this.P=t},o.Wa=function(t){t=t.target;var e=this.F;e&&3==Cn(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=Cn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!B&&!this.a.$())){this.A||4!=e||7==n||Jt(8==n||0>=r?3:2),me(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Zt(12),Ce(this),we(this);break t}Wt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ke(this,u)}this.I?(ye(this,e,o),B&&this.b&&3==e&&(Bt(this.J,this.R,"tick",this.Va),this.R.start())):(Wt(this.c,this.f,o,null),ke(this,o)),4==e&&Ce(this),this.b&&!this.A&&(4==e?Un(this.g,this):(this.b=!1,be(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Zt(12)):(this.h=0,Zt(13)),Ce(this),we(this)}}}catch(c){}},o.Va=function(){if(this.a){var t=Cn(this.a),e=this.a.$();this.D<e.length&&(me(this),ye(this,t,e),this.b&&4!=t&&be(this))}},o.cancel=function(){this.A=!0,Ce(this)},o.Ua=function(){this.o=null;var t=_();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Jt(3),Zt(17)),Ce(this),this.h=2,we(this)):_e(this,this.U-t)},(o=Ie.prototype).K=function(){Oe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return Oe(this),this.a.concat()},o.get=function(t,e){return Se(this.b,t)?this.b[t]:e},o.set=function(t,e){Se(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Te=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pe(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Pe){this.a=void 0!==e?e:t.a,Ae(this,t.f),this.j=t.j,xe(this,t.c),De(this,t.h),this.g=t.g,e=t.b;var n=new He;n.c=e.c,e.a&&(n.a=new Ie(e.a),n.b=e.b),Ne(this,n),this.i=t.i}else t&&(n=String(t).match(Te))?(this.a=!!e,Ae(this,n[1]||"",!0),this.j=je(n[2]||""),xe(this,n[3]||"",!0),De(this,n[4]),this.g=je(n[5]||"",!0),Ne(this,n[6]||"",!0),this.i=je(n[7]||"")):(this.a=!!e,this.b=new He(null,this.a))}function Le(t){return new Pe(t)}function Ae(t,e,n){t.f=n?je(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function xe(t,e,n){t.c=n?je(e,!0):e}function De(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ne(t,e,n){e instanceof He?(t.b=e,function(t,e){e&&!t.f&&(We(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ge(this,e),Xe(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Fe(e,Be)),t.b=new He(e,t.a))}function Me(t,e,n){t.b.set(e,n)}function Re(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),t}function je(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fe(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Fe(e,Ve,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Fe(e,Ve,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fe(n,"/"==n.charAt(0)?ze:Ke,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Fe(n,qe)),t.join("")};var Ve=/[#\/\?@]/g,Ke=/[#\?:]/g,ze=/[#\?]/g,Be=/[#\?@]/g,qe=/#/g;function He(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function We(t){t.a||(t.a=new Ie,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ge(t,e){We(t),e=Je(t,e),Se(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Se((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Oe(t)))}function Qe(t,e){return We(t),e=Je(t,e),Se(t.a.b,e)}function Xe(t,e,n){Ge(t,e),0<n.length&&(t.c=null,t.a.set(Je(t,e),I(n)),t.b+=n.length)}function Je(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ye(t,e){this.b=t,this.a=e}function Ze(t){this.g=t||$e,t=u.PerformanceNavigationTiming?0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=He.prototype).add=function(t,e){We(this),this.c=null,t=Je(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){We(this),this.a.forEach((function(n,r){k(n,(function(n){t.call(e,n,r,this)}),this)}),this)},o.L=function(){We(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){We(this);var e=[];if("string"==typeof t)Qe(this,t)&&(e=E(e,this.a.get(Je(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=E(e,t[n])}return e},o.set=function(t,e){return We(this),this.c=null,Qe(this,t=Je(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var $e=10;function tn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function en(t){return t.b?1:t.a?t.a.size:0}function nn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rn(t,e){t.a?t.a.add(e):t.b=e}function on(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function an(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),a=o.next();!a.done;a=o.next())r=r.concat(a.value.s)}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return I(t.c)}function sn(){}function un(){this.a=new sn}function cn(t,e,n){var r=n||"";try{Ee(t,(function(t,n){var i=t;f(t)&&(i=It(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ln(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Ze.prototype.cancel=function(){var t,e;if(this.c=an(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},sn.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},sn.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var hn=u.JSON.parse;function fn(t){kt.call(this),this.headers=new Ie,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=dn,this.D=this.F=!1}m(fn,kt);var dn="",pn=/^https?$/i,vn=["POST","PUT"];function yn(t){return"content-type"==t.toLowerCase()}function gn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,bn(t),mn(t)}function bn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function _n(t){if(t.b&&void 0!==s&&(!t.s[1]||4!=Cn(t)||2!=t.X()))if(t.l&&4==Cn(t))Ft(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Cn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Te)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!pn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<Cn(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.X()+"]",bn(t)}}finally{mn(t)}}}function mn(t,e){if(t.a){wn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function wn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function Cn(t){return t.a?t.a.readyState:0}function kn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return D(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Me(t,e,n))}function En(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function In(t){this.pa=0,this.g=[],this.c=new Ht,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=En("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=En("baseRetryDelayMs",5e3,t),this.Ma=En("retryDelaySeedMs",1e4,t),this.Ja=En("forwardChannelMaxRetries",2,t),this.ma=En("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ze(t&&t.concurrentRequestLimit),this.ka=new un,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function On(t){if(Tn(t),3==t.v){var e=t.R++,n=Le(t.B);Me(n,"SID",t.J),Me(n,"RID",e),Me(n,"TYPE","terminate"),xn(t,n),(e=new le(t,t.c,e,void 0)).H=2,e.i=Re(Le(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=qn(e.g,null),e.a.ba(e.i)),e.u=_(),be(e)}zn(t)}function Sn(t){t.a&&(Rn(t),t.a.cancel(),t.a=null)}function Tn(t){Sn(t),t.j&&(u.clearTimeout(t.j),t.j=null),Fn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&u.clearTimeout(t.h),t.h=null)}function Pn(t,e){t.g.push(new Ye(t.La++,e)),3==t.v&&Ln(t)}function Ln(t){tn(t.b)||t.h||(t.h=!0,xt(t.Ba,t),t.u=0)}function An(t,e){var n;n=e?e.f:t.R++;var r=Le(t.B);Me(r,"SID",t.J),Me(r,"RID",n),Me(r,"AID",t.P),xn(t,r),t.i&&t.l&&kn(r,t.i,t.l),n=new le(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Dn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),rn(t.b,n),pe(n,r,e)}function xn(t,e){t.f&&Ee({},(function(t,n){Me(e,n,t)}))}function Dn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?g(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{cn(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Nn(t){t.a||t.j||(t.U=1,xt(t.Aa,t),t.o=0)}function Mn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=te(g(t.Aa,t),Vn(t,t.o)),t.o++,0))}function Rn(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function jn(t){t.a=new le(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Le(t.la);Me(e,"RID","rpc"),Me(e,"SID",t.J),Me(e,"CI",t.H?"0":"1"),Me(e,"AID",t.P),xn(t,e),Me(e,"TYPE","xmlhttp"),t.i&&t.l&&kn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Re(Le(e)),n.j=null,n.I=!0,ve(n,t)}function Fn(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function Un(t,e){var n=null;if(t.a==e){Fn(t),Rn(t),t.a=null;var r=2}else{if(!nn(t.b,e))return;n=e.s,on(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=_()-e.u;var i=t.u;(r=Qt()).dispatchEvent(new $t(r,n,e,i)),Ln(t)}else Nn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(en(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=te(g(t.Ba,t,e),Vn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Mn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Kn(t,5);break;case 4:Kn(t,10);break;case 3:Kn(t,6);break;default:Kn(t,2)}}function Vn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Kn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=g(t.Xa,t);n||(n=new Pe("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Ae(n,"https"),Re(n)),function(t,e){var n=new Ht;if(u.Image){var r=new Image;r.onload=b(ln,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(ln,n,r,"TestLoadImage: error",!1,e),r.onabort=b(ln,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(ln,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.v=0,t.f&&t.f.ra(e),zn(t),Tn(t)}function zn(t){t.v=0,t.I=-1,t.f&&(0==an(t.b).length&&0==t.g.length||(t.b.c.length=0,I(t.g),t.g.length=0),t.f.qa())}function Bn(t,e,n){var r=function(t){return t instanceof Pe?Le(t):new Pe(t,void 0)}(n);if(""!=r.c)e&&xe(r,e+"."+r.c),De(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new Pe(null,void 0);return t&&Ae(i,t),e&&xe(i,e),n&&De(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&D(t.W,(function(t,e){Me(r,e,t)})),n=t.na,(e=t.A)&&n&&Me(r,e,n),Me(r,"VER",t.ha),xn(t,r),r}function qn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fn(t.Ka)).F=t.C,e}function Hn(){}function Wn(){if(K&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function Gn(t,e){kt.call(this),this.a=new In(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!O(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!O(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Jn(this)}function Qn(t){se.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xn(){ue.call(this),this.status=1}function Jn(t){this.a=t}(o=fn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:oe),this.a.onreadystatechange=g(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void gn(this,o)}t=n||"";var i=new Ie(this.headers);r&&Ee(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=yn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=C(vn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{wn(this),0<this.o&&((this.D=function(t){return K&&Y(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.xa,this)):this.m=Ft(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){gn(this,o)}},o.xa=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),mn(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),mn(this,!0)),fn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?_n(this):this.Ta())},o.Ta=function(){_n(this)},o.X=function(){try{return 2<Cn(this)?this.a.status:-1}catch(U){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(U){return""}},o.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=In.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new le(this,this.c,t,void 0),r=this.l;if(this.O&&(r?R(r=N(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Dn(this,n,e),Me(i=Le(this.B),"RID",t),Me(i,"CVER",22),this.A&&Me(i,"X-HTTP-Session-Id",this.A),xn(this,i),this.i&&r&&kn(i,this.i,r),rn(this.b,n),this.Ga&&Me(i,"TYPE","init"),this.da?(Me(i,"$req",e),Me(i,"SID","null"),n.V=!0,pe(n,i,null)):pe(n,i,e),this.v=2}}else 3==this.v&&(t?An(this,t):0==this.g.length||tn(this.b)||An(this))},o.Aa=function(){if(this.j=null,jn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=te(g(this.Sa,this),t)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Sn(this),jn(this))},o.Ra=function(){null!=this.m&&(this.m=null,Sn(this),Mn(this),Zt(19))},o.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Zt(2)):(this.c.info("Failed to ping google.com"),Zt(1))},(o=Hn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},Wn.prototype.a=function(t,e){return new Gn(t,e)},m(Gn,kt),(o=Gn.prototype).addEventListener=function(t,e,n,r){Gn.S.addEventListener.call(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){Gn.S.removeEventListener.call(this,t,e,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Zt(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Bn(t,null,t.fa),Ln(t)},o.close=function(){On(this.a)},o.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Pn(this.a,e)}else this.g?((e={}).__data__=It(t),Pn(this.a,e)):Pn(this.a,t)},o.G=function(){this.a.f=null,delete this.f,On(this.a),delete this.a,Gn.S.G.call(this)},m(Qn,se),m(Xn,ue),m(Jn,Hn),Jn.prototype.ta=function(){this.a.dispatchEvent("a")},Jn.prototype.sa=function(t){this.a.dispatchEvent(new Qn(t))},Jn.prototype.ra=function(t){this.a.dispatchEvent(new Xn(t))},Jn.prototype.qa=function(){this.a.dispatchEvent("b")},Wn.prototype.createWebChannel=Wn.prototype.a,Gn.prototype.send=Gn.prototype.Pa,Gn.prototype.open=Gn.prototype.Oa,Gn.prototype.close=Gn.prototype.close,ee.NO_ERROR=0,ee.TIMEOUT=8,ee.HTTP_ERROR=6,ne.COMPLETE="complete",ie.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",kt.prototype.listen=kt.prototype.va,fn.prototype.listenOnce=fn.prototype.wa,fn.prototype.getLastError=fn.prototype.Qa,fn.prototype.getLastErrorCode=fn.prototype.ua,fn.prototype.getStatus=fn.prototype.X,fn.prototype.getResponseJson=fn.prototype.Na,fn.prototype.getResponseText=fn.prototype.$,fn.prototype.send=fn.prototype.ba;var Yn=function(){return new Wn},Zn=ee,$n=ne,tr=ie,er=fn;e.default={createWebChannelTransport:Yn,ErrorCode:Zn,EventType:$n,WebChannel:tr,XhrIo:er}},xXpV:function(t,e,n){"use strict";n.r(e),n.d(e,"OdporucaniaModule",(function(){return b}));var r,i=n("ofXK"),o=n("tyNb"),a=n("fXoL"),s=n("I/3d"),u=((r=function(){function t(e){_classCallCheck(this,t),this.afs=e,this.items=this.afs.collection("odporucania").doc("odporucaniaAll").valueChanges()}return _createClass(t,[{key:"getItems",value:function(){return this.items}}]),t}()).\u0275fac=function(t){return new(t||r)(a.Pb(s.a))},r.\u0275prov=a.Eb({token:r,factory:r.\u0275fac,providedIn:"root"}),r);function c(t,e){if(1&t&&(a.Lb(0,"div",11),a.Lb(1,"span"),a.ic(2),a.Kb(),a.Lb(3,"i",12),a.ic(4,"search"),a.Kb(),a.Kb()),2&t){var n=a.Ub().$implicit;a.yb(2),a.jc(n.name)}}function l(t,e){if(1&t&&(a.Lb(0,"a",9),a.hc(1,c,5,1,"div",10),a.Kb()),2&t){var n=e.$implicit,r=a.Ub();a.Yb("href",n.link,a.fc),a.yb(1),a.Xb("ngIf",n.name.toLowerCase().includes(r.search))}}function h(t,e){if(1&t&&(a.Lb(0,"a",9),a.ic(1),a.Kb()),2&t){var n=e.$implicit;a.Yb("href",n,a.fc),a.yb(1),a.jc(n)}}function f(t,e){if(1&t&&(a.Lb(0,"div",6),a.Lb(1,"p",13),a.ic(2,"Zdroje:"),a.Kb(),a.hc(3,h,2,2,"a",7),a.Kb()),2&t){var n=a.Ub();a.yb(3),a.Xb("ngForOf",n.sources)}}var d,p,v,y=[{path:"",component:(d=function(){function t(e){_classCallCheck(this,t),this.itemService=e,this.search=""}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.allItems=[],this.itemService.getItems().subscribe((function(e){t.allItems=e.all.sort((function(t,e){return t.name>e.name?1:t.name<e.name?-1:0})),t.sources=e.sources}))}},{key:"searchValue",value:function(t){this.search=t.toLowerCase()}}]),t}(),d.\u0275fac=function(t){return new(t||d)(a.Ib(u))},d.\u0275cmp=a.Cb({type:d,selectors:[["app-odporucania"]],decls:12,vars:2,consts:[[1,"row"],[1,"input-field","container"],["id","search","type","search","placeholder","               Zadajte h\u013eadan\xfd v\xfdraz...",3,"keyup"],["box",""],["for","search"],[1,"material-icons"],[1,"col","s10","offset-s1"],["target","_blank",3,"href",4,"ngFor","ngForOf"],["class","col s10 offset-s1",4,"ngIf"],["target","_blank",3,"href"],["class","card-panel blue darken-4 white-text insideText",4,"ngIf"],[1,"card-panel","blue","darken-4","white-text","insideText"],[1,"material-icons","right"],[1,"boldText"]],template:function(t,e){if(1&t){var n=a.Mb();a.Lb(0,"div",0),a.Lb(1,"h4"),a.ic(2,"Odpor\xfa\u010dania"),a.Kb(),a.Lb(3,"div",1),a.Lb(4,"input",2,3),a.Sb("keyup",(function(){a.dc(n);var t=a.cc(5);return e.searchValue(t.value)})),a.Kb(),a.Lb(6,"label",4),a.Lb(7,"i",5),a.ic(8,"search"),a.Kb(),a.Kb(),a.Kb(),a.Lb(9,"div",6),a.hc(10,l,2,2,"a",7),a.Kb(),a.hc(11,f,4,1,"div",8),a.Kb()}2&t&&(a.yb(10),a.Xb("ngForOf",e.allItems),a.yb(1),a.Xb("ngIf",null!=e.sources))},directives:[i.k,i.l],styles:[".row[_ngcontent-%COMP%]{margin-bottom:0;padding-bottom:1em}h4[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;margin-top:0!important;padding-top:.5em;padding-bottom:.5em;padding-left:2em}.insideText[_ngcontent-%COMP%]{font-size:1.1em}.boldText[_ngcontent-%COMP%]{font-weight:700}@media only screen and (max-width:800px){h4[_ngcontent-%COMP%]{padding-left:.75em}}"]}),d)}],g=((v=function t(){_classCallCheck(this,t)}).\u0275mod=a.Gb({type:v}),v.\u0275inj=a.Fb({factory:function(t){return new(t||v)},imports:[[o.e.forChild(y)],o.e]}),v),b=((p=function t(){_classCallCheck(this,t)}).\u0275mod=a.Gb({type:p}),p.\u0275inj=a.Fb({factory:function(t){return new(t||p)},imports:[[i.c,g]]}),p)},xbPD:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new o(t))}}var o=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.defaultValue))}}]),t}(),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zUnb:function(t,e,n){"use strict";n.r(e);var r,i,o,a,s=n("fXoL"),u={apiKey:"AIzaSyBGBKohAiiJO1uENiVi_TUAuwc6lOzUi1M",authDomain:"project-try-novu.firebaseapp.com",databaseURL:"https://project-try-novu.firebaseio.com",projectId:"project-try-novu",storageBucket:"project-try-novu.appspot.com",messagingSenderId:"699640117170"},c=n("jUXt"),l=n("JAoR"),h=n("0+is"),f=n("zY2l"),d=n("nudp"),p=n("xXpV"),v=n("E0Iw"),y=n("PSIr"),g=n("Gmzl"),b=n("D6lp"),_=n("82nU"),m=n("VWTT"),w=n("F4UR"),C=n("ofXK"),k=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=E||(E=document.querySelector("base"))?E.getAttribute("href"):null;return null==n?null:(e=n,r||(r=document.createElement("a")),r.setAttribute("href",e),"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname)}},{key:"resetBaseElement",value:function(){E=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Object(C.t)(document.cookie,t)}}],[{key:"makeCurrent",value:function(){Object(C.u)(new n)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(C.q)),E=null,I=new s.q("TRANSITION_ID"),O=[{provide:s.d,useFactory:function(t,e,n){return function(){n.get(s.e).donePromise.then((function(){var n=Object(C.s)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[I,C.d,s.r],multi:!0}],S=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){s.nb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},s.nb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},s.nb.getAllAngularRootElements=function(){return t.getAllRootElements()},s.nb.frameworkStabilizers||(s.nb.frameworkStabilizers=[]),s.nb.frameworkStabilizers.push((function(t){var e=s.nb.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?Object(C.s)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(s.W)(new t)}}]),t}(),T=new s.q("EventManagerPlugins"),P=((i=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||i)(s.Pb(T),s.Pb(s.z))},i.\u0275prov=s.Eb({token:i,factory:i.\u0275fac}),i),L=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=Object(C.s)().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),A=((a=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||a)},a.\u0275prov=s.Eb({token:a,factory:a.\u0275fac}),a),x=((o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return Object(C.s)().remove(t)}))}}]),n}(A)).\u0275fac=function(t){return new(t||o)(s.Pb(C.d))},o.\u0275prov=s.Eb({token:o,factory:o.\u0275fac}),o),D={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},N=/%COMP%/g;function M(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?M(t,i,n):(i=i.replace(N,t),n.push(i))}return n}function R(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var j,F,U,V,K=((j=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new z(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case s.Q.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new B(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case s.Q.Native:case s.Q.ShadowDom:return new q(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=M(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||j)(s.Pb(P),s.Pb(x),s.Pb(s.c))},j.\u0275prov=s.Eb({token:j,factory:j.\u0275fac}),j),z=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(D[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=D[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=D[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&s.F.DashCase?t.style.setProperty(e,n,r&s.F.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&s.F.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,R(n)):this.eventManager.addEventListener(t,e,R(n))}}]),t}(),B=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).component=i;var s=M(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(N,o+"-"+i.id),a.hostAttr="_nghost-%COMP%".replace(N,o+"-"+i.id),a}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(z),q=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===s.Q.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var u=M(o.id,o.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],a.shadowRoot.appendChild(l)}return a}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(z),H=((F=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(L)).\u0275fac=function(t){return new(t||F)(s.Pb(C.d))},F.\u0275prov=s.Eb({token:F,factory:F.\u0275fac}),F),W=["alt","control","meta","shift"],G={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Q={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},X={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},J=((U=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Object(C.s)().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(W.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Q.hasOwnProperty(e)&&(e=Q[e]))}return G[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),W.forEach((function(r){r!=n&&(0,X[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(L)).\u0275fac=function(t){return new(t||U)(s.Pb(C.d))},U.\u0275prov=s.Eb({token:U,factory:U.\u0275fac}),U),Y=[{provide:s.B,useValue:C.r},{provide:s.C,useValue:function(){k.makeCurrent(),S.init()},multi:!0},{provide:C.d,useFactory:function(){return Object(s.sb)(document),document},deps:[]}],Z=Object(s.R)(s.V,"browser",Y),tt=[[],{provide:s.Y,useValue:"root"},{provide:s.m,useFactory:function(){return new s.m},deps:[]},{provide:T,useClass:H,multi:!0,deps:[C.d,s.z,s.B]},{provide:T,useClass:J,multi:!0,deps:[C.d]},[],{provide:K,useClass:K,deps:[P,x,s.c]},{provide:s.E,useExisting:K},{provide:A,useExisting:x},{provide:x,useClass:x,deps:[C.d]},{provide:s.L,useClass:s.L,deps:[s.z]},{provide:P,useClass:P,deps:[T,s.z]},[]],et=((V=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:s.c,useValue:e.appId},{provide:I,useExisting:s.c},O]}}}]),t}()).\u0275mod=s.Gb({type:V}),V.\u0275inj=s.Fb({factory:function(t){return new(t||V)(s.Pb(V,12))},providers:tt,imports:[C.c,s.f]}),V);"undefined"!=typeof window&&window;var nt,rt,it=n("3Pt+"),ot=n("UbJi"),at=n("tyNb"),st=function(){return["/login"]},ut=[{path:"",loadChildren:function(){return Promise.resolve().then(n.bind(null,"82nU")).then((function(t){return t.MainModule}))}},{path:"login",loadChildren:function(){return Promise.resolve().then(n.bind(null,"F4UR")).then((function(t){return t.LoginModule}))}},{path:"vypocty",loadChildren:function(){return Promise.resolve().then(n.bind(null,"VWTT")).then((function(t){return t.DashboardModule}))}},{path:"register",component:(nt=function(){function t(e,n,r){_classCallCheck(this,t),this.fb=e,this.auth=n,this.router=r}return _createClass(t,[{key:"ngOnInit",value:function(){this.registerForm=this.fb.group({email:new it.c("",[it.k.email,it.k.required]),password:new it.c("",[it.k.required,it.k.minLength(6)]),name:new it.c("",[it.k.required])})}},{key:"createUser",value:function(){var t=this,e=this.registerForm.value,n=e.email,r=e.password,i=e.name;this.auth.createUserWithEmailAndPassword(n,r).then((function(e){t.auth.onAuthStateChanged((function(t){t&&(t.sendEmailVerification(),t.updateProfile({displayName:i}))})).then((function(){return t.router.navigate([""])}))})).catch((function(t){}))}}]),t}(),nt.\u0275fac=function(t){return new(t||nt)(s.Ib(it.b),s.Ib(ot.a),s.Ib(at.a))},nt.\u0275cmp=s.Cb({type:nt,selectors:[["app-register"]],decls:20,vars:3,consts:[[1,"form",3,"formGroup"],[1,"input-field"],["formControlName","name","type","text","required","",1,"validate"],["formControlName","email","type","text","required","",1,"validate"],["formControlName","password","type","password","required","",1,"validate"],[1,"form-footer"],[1,"btn","waves-effect","waves-light",3,"click"],["routerLinkActive","router-link-active",3,"routerLink"]],template:function(t,e){1&t&&(s.Lb(0,"form",0),s.Lb(1,"h2"),s.ic(2,"Registr\xe1cia"),s.Kb(),s.Lb(3,"div",1),s.Lb(4,"label"),s.ic(5,"Meno a priezvisko"),s.Kb(),s.Jb(6,"input",2),s.Kb(),s.Lb(7,"div",1),s.Lb(8,"label"),s.ic(9,"E-mail"),s.Kb(),s.Jb(10,"input",3),s.Kb(),s.Lb(11,"div",1),s.Lb(12,"label"),s.ic(13,"Heslo"),s.Kb(),s.Jb(14,"input",4),s.Kb(),s.Lb(15,"div",5),s.Lb(16,"button",6),s.Sb("click",(function(){return e.createUser()})),s.ic(17,"Registr\xe1cia"),s.Kb(),s.Lb(18,"a",7),s.ic(19,"Prihl\xe1senie"),s.Kb(),s.Kb(),s.Kb()),2&t&&(s.Xb("formGroup",e.registerForm),s.yb(18),s.Xb("routerLink",s.Zb(2,st)))},directives:[it.l,it.h,it.e,it.a,it.g,it.d,it.j,at.d,at.c],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100vh}.form[_ngcontent-%COMP%]{width:20rem}.form-footer[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}h2[_ngcontent-%COMP%]{margin-bottom:1em}"]}),nt)},{path:"infuzie",loadChildren:function(){return Promise.resolve().then(n.bind(null,"Gmzl")).then((function(t){return t.InfuziaModule}))}},{path:"lieky",loadChildren:function(){return Promise.resolve().then(n.bind(null,"PSIr")).then((function(t){return t.LiekyModule}))}},{path:"krivky",loadChildren:function(){return Promise.resolve().then(n.bind(null,"E0Iw")).then((function(t){return t.KrivkyModule}))}},{path:"hyper",loadChildren:function(){return Promise.resolve().then(n.bind(null,"zY2l")).then((function(t){return t.HyperbiliModule}))}},{path:"odporucania",loadChildren:function(){return Promise.resolve().then(n.bind(null,"xXpV")).then((function(t){return t.OdporucaniaModule}))}},{path:"resuscitacie",loadChildren:function(){return Promise.resolve().then(n.bind(null,"nudp")).then((function(t){return t.ResuscitacieModule}))}},{path:"mkch",loadChildren:function(){return Promise.resolve().then(n.bind(null,"JAoR")).then((function(t){return t.MkchModule}))}},{path:"tlac",loadChildren:function(){return Promise.resolve().then(n.bind(null,"0+is")).then((function(t){return t.PrinterModule}))}},{path:"kontakty",loadChildren:function(){return Promise.resolve().then(n.bind(null,"jUXt")).then((function(t){return t.KontaktyModule}))}}],ct=((rt=function t(){_classCallCheck(this,t)}).\u0275mod=s.Gb({type:rt}),rt.\u0275inj=s.Fb({factory:function(t){return new(t||rt)},imports:[[at.e.forRoot(ut)],at.e]}),rt),lt=n("adsU"),ht=n("Ektc");function ft(t,e){if(1&t){var n=s.Mb();s.Lb(0,"button",61),s.Sb("click",(function(){return s.dc(n),s.Ub().logout()})),s.ic(1,"Odhl\xe1si\u0165 sa"),s.Kb()}}function dt(t,e){1&t&&(s.Lb(0,"a"),s.Lb(1,"i",62),s.ic(2,"person"),s.Kb(),s.Kb())}function pt(t,e){if(1&t&&(s.Lb(0,"a"),s.Lb(1,"span",63),s.ic(2),s.Kb(),s.Kb()),2&t){var n=s.Ub();s.yb(2),s.jc(n.user.email)}}function vt(t,e){if(1&t&&(s.Lb(0,"a"),s.Lb(1,"span",64),s.ic(2),s.Kb(),s.Kb()),2&t){var n=s.Ub();s.yb(2),s.jc(n.user.displayName)}}var yt=function(){return["/login"]};function gt(t,e){1&t&&(s.Lb(0,"button",65),s.ic(1,"Prihl\xe1si\u0165 sa"),s.Kb()),2&t&&s.Xb("routerLink",s.Zb(1,yt))}var bt=function(){return["/register"]};function _t(t,e){1&t&&(s.Lb(0,"p",66),s.ic(1,"Nem\xe1te e\u0161te \xfa\u010det? "),s.Lb(2,"a",67),s.ic(3,"Zaregistrujte sa!"),s.Kb(),s.Kb()),2&t&&(s.yb(2),s.Xb("routerLink",s.Zb(1,bt)))}function mt(t,e){1&t&&(s.Lb(0,"li",68),s.Lb(1,"a",69),s.Lb(2,"i",60),s.ic(3,"settings"),s.Kb(),s.ic(4,"Nastavenia"),s.Kb(),s.Kb())}function wt(t,e){if(1&t){var n=s.Mb();s.Lb(0,"li",68),s.Lb(1,"a",70),s.Sb("click",(function(){return s.dc(n),s.Ub().loadNotes()})),s.Lb(2,"i",60),s.ic(3,"note"),s.Kb(),s.ic(4,"Pozn\xe1mky"),s.Kb(),s.Kb()}}var Ct=function(){return["tlac"]};function kt(t,e){1&t&&(s.Lb(0,"li",68),s.Lb(1,"a",9),s.Lb(2,"i",60),s.ic(3,"save"),s.Kb(),s.ic(4,"Ulo\u017een\xe9 v\xfdpo\u010dty"),s.Kb(),s.Kb()),2&t&&(s.yb(1),s.Xb("routerLink",s.Zb(1,Ct)))}function Et(t,e){if(1&t){var n=s.Mb();s.Lb(0,"img",71),s.Sb("click",(function(){s.dc(n);var t=e.$implicit;return s.Ub().openWindow(t.key)})),s.Kb()}2&t&&s.Yb("src",e.$implicit.value,s.fc)}function It(t,e){if(1&t){var n=s.Mb();s.Lb(0,"div",35),s.Lb(1,"button",73),s.Sb("click",(function(){s.dc(n);var t=s.Ub().$implicit;return s.Ub().deleteNote(t)})),s.ic(2,"Vymaza\u0165"),s.Kb(),s.Lb(3,"h5"),s.ic(4),s.Kb(),s.Lb(5,"div",74),s.Lb(6,"button",38),s.Sb("click",(function(){s.dc(n);var t=s.cc(21),e=s.Ub(2);return e.abcBold(),e.dataChangedAlert(t)})),s.ic(7,"b"),s.Kb(),s.Lb(8,"button",38),s.Sb("click",(function(){s.dc(n);var t=s.cc(21),e=s.Ub(2);return e.abcItalic(),e.dataChangedAlert(t)})),s.ic(9,"i"),s.Kb(),s.Lb(10,"button",38),s.Sb("click",(function(){s.dc(n);var t=s.cc(21),e=s.Ub(2);return e.abcUnderline(),e.dataChangedAlert(t)})),s.ic(11,"u"),s.Kb(),s.Lb(12,"button",39),s.Sb("click",(function(){s.dc(n);var t=s.cc(21),e=s.Ub(2);return e.abcBlack(),e.dataChangedAlert(t)})),s.ic(13,"b"),s.Kb(),s.Lb(14,"button",40),s.Sb("click",(function(){s.dc(n);var t=s.cc(21),e=s.Ub(2);return e.abcRed(),e.dataChangedAlert(t)})),s.ic(15,"r"),s.Kb(),s.Lb(16,"button",41),s.Sb("click",(function(){s.dc(n);var t=s.cc(21),e=s.Ub(2);return e.abcGreen(),e.dataChangedAlert(t)})),s.ic(17,"g"),s.Kb(),s.Lb(18,"div",75,43),s.Sb("keyup",(function(){s.dc(n);var t=s.cc(21);return s.Ub(2).dataChangedAlert(t)})),s.Kb(),s.Jb(20,"p",76,77),s.Kb(),s.Lb(22,"button",78),s.Sb("click",(function(){s.dc(n);var t=s.cc(19),e=s.Ub().$implicit;return s.Ub().updateNote(e,t.innerHTML)})),s.ic(23,"Upravi\u0165"),s.Kb(),s.Kb()}if(2&t){var r=s.Ub().$implicit;s.yb(4),s.jc(r.header),s.yb(14),s.Xb("innerHTML",r.text,s.ec)}}function Ot(t,e){if(1&t&&(s.Lb(0,"div"),s.hc(1,It,24,2,"div",72),s.Kb()),2&t){var n=e.$implicit,r=s.Ub();s.yb(1),s.Xb("ngIf",n.header.toLowerCase().includes(r.searchNotes)&&null==n.forItemId)}}function St(t,e){if(1&t){var n=s.Mb();s.Lb(0,"li"),s.Lb(1,"a",79),s.Sb("click",(function(){return s.dc(n),s.Ub().loadNotes()})),s.Lb(2,"i",60),s.ic(3,"note"),s.Kb(),s.Kb(),s.Kb()}}var Tt,Pt,Lt,At,xt=function(){return["resuscitacie"]},Dt=function(){return[""]},Nt=function(){return["lieky"]},Mt=function(){return["infuzie"]},Rt=function(){return["vypocty"]},jt=function(){return["hyper"]},Ft=function(){return["krivky"]},Ut=function(){return["kontakty"]},Vt=function(){return["mkch"]},Kt=function(){return["odporucania"]},zt=((Lt=function(){function t(e,n,r){_classCallCheck(this,t),this.auth=e,this.router=n,this.logcheck=r,this.user=null,this.searchNotes=""}return _createClass(t,[{key:"ngAfterViewInit",value:function(){}},{key:"ngOnInit",value:function(){var t=this;$(".button-collapse").sideNav(),$(document).ready((function(){$(".modal").modal(),$(".tooltipped").tooltip()})),this.auth.onAuthStateChanged((function(e){t.user=e||null})),this.externalLinks=lt.c}},{key:"searchValue",value:function(t){this.searchNotes=t.toLowerCase()}},{key:"logout",value:function(){var t=this;this.auth.signOut().then((function(){t.user=t.logcheck.getUser()})).finally((function(){t.router.navigate(["login"])}))}},{key:"loadNotes",value:function(){this.items=this.logcheck.getItemList()}},{key:"addNote",value:function(t,e){this.logcheck.createNote({header:t.value,text:e.innerHTML}).catch((function(t){return Materialize.toast("Pozn\xe1mku sa nepodarilo ulo\u017ei\u0165...",2e3)})).then((function(){Materialize.toast("Pozn\xe1mka bola ulo\u017een\xe1...",2e3)})),t.value="",e.innerHTML=""}},{key:"dataChangedAlert",value:function(t){t.innerHTML="Zmeny neboli ulo\u017een\xe9..."}},{key:"deleteNote",value:function(t){this.logcheck.deleteNote(t).catch((function(t){return Materialize.toast("Pozn\xe1mku sa nepodarilo odstr\xe1ni\u0165...",2e3)})).then((function(){Materialize.toast("Pozn\xe1mka bola odstr\xe1nen\xe1...",2e3)}))}},{key:"updateNote",value:function(t,e){this.logcheck.updateNote(t,e).catch((function(t){return Materialize.toast("Pozn\xe1mku sa nepodarilo aktualizova\u0165...",2e3)})).then((function(){Materialize.toast("Pozn\xe1mka bola aktualizovan\xe1...",2e3)}))}},{key:"updateUserName",value:function(t,e){this.logcheck.updateUserName(t.value).then((function(){e.innerHTML="Pou\u017e\xedvate\u013esk\xe9 meno bolo zmenen\xe9...",t.value=""}))}},{key:"updateUserPassword",value:function(t,e,n){t.value==e.value?(this.logcheck.updateUserPassword(t.value),n.innerHTML="Heslo bolo zmenen\xe9..."):n.innerHTML="Novozadan\xe9 hesl\xe1 sa nezhoduj\xfa...",t.value="",e.value=""}},{key:"abcBold",value:function(){document.execCommand("bold")}},{key:"abcItalic",value:function(){document.execCommand("italic")}},{key:"abcUnderline",value:function(){document.execCommand("underline")}},{key:"abcBlack",value:function(){document.execCommand("foreColor",!1,"rgba(0,0,0,1)")}},{key:"abcRed",value:function(){document.execCommand("foreColor",!1,"rgba(255,0,0,1)")}},{key:"abcGreen",value:function(){document.execCommand("foreColor",!1,"rgba(0,255,0,1)")}},{key:"openWindow",value:function(t){window.open(t,"_blank")}}]),t}()).\u0275fac=function(t){return new(t||Lt)(s.Ib(ot.a),s.Ib(at.a),s.Ib(b.a))},Lt.\u0275cmp=s.Cb({type:Lt,selectors:[["app-header"]],decls:169,vars:42,consts:[["id","all",1,"row"],["id","slide-out",1,"side-nav"],[1,"user-view","blue","darken-4","center"],["class","btn waves-effect waves-light hoverable red lighten-2",3,"click",4,"ngIf"],[4,"ngIf"],["class","btn waves-effect waves-light green lighten-2",3,"routerLink",4,"ngIf"],["class","white-text noAccountBlock",4,"ngIf"],[1,"divider","upperDivider"],[1,"userTabsRedCode"],["routerLinkActive","router-link-active",1,"waves-effect","white-text",3,"routerLink"],[1,"small","material-icons","red-text"],["class","userTabs",4,"ngIf"],["routerLinkActive","router-link-active",1,"waves-effect",3,"routerLink"],[1,"small","material-icons"],[1,"divider"],[2,"font-weight","bold","margin","0.25em","margin-left","1.5em"],["class","externalImage","alt","logo",3,"src","click",4,"ngFor","ngForOf"],[1,"col","s1"],[1,"container","center","menuBlock"],["href","#","data-activates","slide-out",1,"button-collapse"],[1,"large","material-icons","white-text","menuIcon"],[1,"white-text",2,"font-weight","bold"],[1,"col","s7","offset-s3"],["routerLinkActive","router-link-active","src","https://firebasestorage.googleapis.com/v0/b/project-try-novu.appspot.com/o/logoNew2.jpg?alt=media&token=c9ba0502-6669-466c-b1bc-6851ea8dd116","alt","logo",1,"neologo",3,"routerLink"],[1,"container","center","menuBlockResus"],["routerLinkActive","router-link-active",3,"routerLink"],["src","https://firebasestorage.googleapis.com/v0/b/project-try-novu.appspot.com/o/REDCODE.png?alt=media&token=8d79dae9-03a3-4f96-b917-85f996fe4b0d","alt","res"],["id","modal1",1,"modal","bottom-sheet","blue","darken-4"],[1,"modal-content"],[1,"input-field","container","notesSearch"],["id","search","type","search","placeholder","               Zadajte h\u013eadan\xfd v\xfdraz...",3,"keyup"],["boxSearch",""],["for","search"],[1,"material-icons"],[4,"ngFor","ngForOf"],[1,"card-panel","blue","lighten-5"],["placeholder","Enter value...","type","text"],["boxHeaderNote",""],[1,"btn","notesBTN",3,"click"],[1,"btn","black","black-text","notesBTN",3,"click"],[1,"btn","red","red-text","notesBTN",3,"click"],[1,"btn","green","green-text","notesBTNLast",3,"click"],["contenteditable","true",1,"boxNotesOut"],["boxNotesNewText",""],[1,"waves-effect","waves-light","btn",3,"click"],["id","modal2",1,"modal","bottom-sheet","blue","darken-4"],["type","text","placeholder","Zadajte nov\xe9 meno a priezvisko"],["boxUserName",""],["boxInfoUpdateName",""],[1,"btn",3,"click"],["type","password","placeholder","Zadajte nov\xe9 heslo"],["boxPasswordFirst",""],["type","password","placeholder","Zadajte znova nov\xe9 heslo"],["boxPasswordSecond",""],["boxInfoPassword",""],["id","modal3",1,"modal","bottom-sheet","blue","darken-4"],[1,"fixed-action-btn"],[1,"btn-floating","btn-large","blue","darken-4"],[1,"large","material-icons"],["href","#modal3",1,"btn-floating","blue","darken-1","modal-trigger"],[1,"small","material-icons","white-text"],[1,"btn","waves-effect","waves-light","hoverable","red","lighten-2",3,"click"],[1,"large","material-icons","white-text","personBlock"],[1,"white-text","email"],[1,"white-text"],[1,"btn","waves-effect","waves-light","green","lighten-2",3,"routerLink"],[1,"white-text","noAccountBlock"],[3,"routerLink"],[1,"userTabs"],["href","#modal2",1,"waves-effect","modal-trigger","white-text"],["href","#modal1",1,"waves-effect","modal-trigger","white-text",3,"click"],["alt","logo",1,"externalImage",3,"src","click"],["class","card-panel blue lighten-5",4,"ngIf"],[1,"btn","red","waves-effect","waves-light","deleteNoteButton",3,"click"],[1,"input-field"],["contenteditable","true",1,"boxNotesIn",3,"innerHTML","keyup"],[1,"warningParagraph"],["boxNotesInformation",""],[1,"btn","black-text","waves-effect","waves-light",3,"click"],["href","#modal1",1,"btn-floating","blue","darken-1","modal-trigger",3,"click"]],template:function(t,e){if(1&t){var n=s.Mb();s.Lb(0,"div",0),s.Lb(1,"ul",1),s.Lb(2,"li"),s.Lb(3,"div",2),s.hc(4,ft,2,0,"button",3),s.hc(5,dt,3,0,"a",4),s.hc(6,pt,3,1,"a",4),s.hc(7,vt,3,1,"a",4),s.hc(8,gt,2,2,"button",5),s.hc(9,_t,4,2,"p",6),s.Kb(),s.Kb(),s.Jb(10,"div",7),s.Lb(11,"li",8),s.Lb(12,"a",9),s.Lb(13,"i",10),s.ic(14,"enhanced_encryption"),s.Kb(),s.ic(15,"Resuscit\xe1cia"),s.Kb(),s.Kb(),s.hc(16,mt,5,0,"li",11),s.hc(17,wt,5,0,"li",11),s.hc(18,kt,5,2,"li",11),s.Lb(19,"li"),s.Lb(20,"a",12),s.Lb(21,"i",13),s.ic(22,"dashboard"),s.Kb(),s.ic(23,"\xdavod"),s.Kb(),s.Kb(),s.Lb(24,"li"),s.Lb(25,"a",12),s.Lb(26,"i",13),s.ic(27,"local_pharmacy"),s.Kb(),s.ic(28,"Lieky"),s.Kb(),s.Kb(),s.Lb(29,"li"),s.Lb(30,"a",12),s.Lb(31,"i",13),s.ic(32,"local_hospital"),s.Kb(),s.ic(33,"Inf\xfazie"),s.Kb(),s.Kb(),s.Lb(34,"li"),s.Lb(35,"a",12),s.Lb(36,"i",13),s.ic(37,"view_list"),s.Kb(),s.ic(38,"N\xe1stroje"),s.Kb(),s.Kb(),s.Lb(39,"li"),s.Lb(40,"a",12),s.Lb(41,"i",13),s.ic(42,"receipt"),s.Kb(),s.ic(43,"Hyperbilirubin\xe9mia"),s.Kb(),s.Kb(),s.Lb(44,"li"),s.Lb(45,"a",12),s.Lb(46,"i",13),s.ic(47,"assessment"),s.Kb(),s.ic(48,"Rastov\xe9 krivky"),s.Kb(),s.Kb(),s.Lb(49,"li"),s.Lb(50,"a",12),s.Lb(51,"i",13),s.ic(52,"contacts"),s.Kb(),s.ic(53,"Pericentr\xe1"),s.Kb(),s.Kb(),s.Jb(54,"div",14),s.Lb(55,"li"),s.Lb(56,"a",12),s.Lb(57,"i",13),s.ic(58,"reorder"),s.Kb(),s.ic(59,"MKCH-10 (P,Q)"),s.Kb(),s.Kb(),s.Lb(60,"li"),s.Lb(61,"a",12),s.Lb(62,"i",13),s.ic(63,"reorder"),s.Kb(),s.ic(64,"Odpor\xfa\u010dania"),s.Kb(),s.Kb(),s.Lb(65,"li"),s.Lb(66,"a",12),s.Lb(67,"i",13),s.ic(68,"reorder"),s.Kb(),s.ic(69,"Resuscit\xe1cia"),s.Kb(),s.Kb(),s.Jb(70,"div",14),s.Lb(71,"li"),s.Lb(72,"span",15),s.ic(73,"U\u017eito\u010dn\xe9 odkazy:"),s.Kb(),s.hc(74,Et,1,1,"img",16),s.Vb(75,"keyvalue"),s.Kb(),s.Kb(),s.Lb(76,"div",17),s.Lb(77,"div",18),s.Lb(78,"a",19),s.Lb(79,"i",20),s.ic(80,"menu"),s.Kb(),s.Kb(),s.Lb(81,"span",21),s.ic(82,"MENU"),s.Kb(),s.Kb(),s.Kb(),s.Lb(83,"div",22),s.Jb(84,"img",23),s.Kb(),s.Lb(85,"div",17),s.Lb(86,"div",24),s.Lb(87,"a",25),s.Jb(88,"img",26),s.Kb(),s.Kb(),s.Kb(),s.Lb(89,"div",27),s.Lb(90,"div",28),s.Lb(91,"h3"),s.ic(92,"Pozn\xe1mky:"),s.Kb(),s.Lb(93,"div",29),s.Lb(94,"input",30,31),s.Sb("keyup",(function(){s.dc(n);var t=s.cc(95);return e.searchValue(t.value)})),s.Kb(),s.Lb(96,"label",32),s.Lb(97,"i",33),s.ic(98,"search"),s.Kb(),s.Kb(),s.Kb(),s.hc(99,Ot,2,1,"div",34),s.Vb(100,"async"),s.Kb(),s.Lb(101,"div",35),s.Lb(102,"h5"),s.ic(103,"Prida\u0165 pozn\xe1mku:"),s.Kb(),s.Lb(104,"label"),s.ic(105,"Nadpis"),s.Kb(),s.Jb(106,"textarea",36,37),s.Lb(108,"button",38),s.Sb("click",(function(){return e.abcBold()})),s.ic(109,"b"),s.Kb(),s.Lb(110,"button",38),s.Sb("click",(function(){return e.abcItalic()})),s.ic(111,"i"),s.Kb(),s.Lb(112,"button",38),s.Sb("click",(function(){return e.abcUnderline()})),s.ic(113,"u"),s.Kb(),s.Lb(114,"button",39),s.Sb("click",(function(){return e.abcBlack()})),s.ic(115,"b"),s.Kb(),s.Lb(116,"button",40),s.Sb("click",(function(){return e.abcRed()})),s.ic(117,"r"),s.Kb(),s.Lb(118,"button",41),s.Sb("click",(function(){return e.abcGreen()})),s.ic(119,"g"),s.Kb(),s.Jb(120,"div",42,43),s.Lb(122,"a",44),s.Sb("click",(function(){s.dc(n);var t=s.cc(107),r=s.cc(121);return e.addNote(t,r)})),s.ic(123,"Prida\u0165"),s.Kb(),s.Kb(),s.Kb(),s.Lb(124,"div",45),s.Lb(125,"div",28),s.Lb(126,"h3"),s.ic(127,"Nastavenia:"),s.Kb(),s.Lb(128,"div",35),s.Lb(129,"h5"),s.ic(130,"Zmena pou\u017eivate\u013esk\xe9ho mena:"),s.Kb(),s.Lb(131,"label"),s.ic(132,"Meno a priezvisko"),s.Kb(),s.Jb(133,"input",46,47),s.Jb(135,"p",null,48),s.Lb(137,"button",49),s.Sb("click",(function(){s.dc(n);var t=s.cc(134),r=s.cc(136);return e.updateUserName(t,r)})),s.ic(138,"Aktualizova\u0165 meno"),s.Kb(),s.Kb(),s.Lb(139,"div",35),s.Lb(140,"h5"),s.ic(141,"Zmena pou\u017eivate\u013esk\xe9ho hesla:"),s.Kb(),s.Lb(142,"label"),s.ic(143,"Nov\xe9 heslo"),s.Kb(),s.Jb(144,"input",50,51),s.Lb(146,"label"),s.ic(147,"Zopakujte nov\xe9 heslo"),s.Kb(),s.Jb(148,"input",52,53),s.Jb(150,"p",null,54),s.Lb(152,"button",49),s.Sb("click",(function(){s.dc(n);var t=s.cc(145),r=s.cc(149),i=s.cc(151);return e.updateUserPassword(t,r,i)})),s.ic(153,"Aktualizova\u0165 heslo"),s.Kb(),s.Kb(),s.Kb(),s.Kb(),s.Lb(154,"div",55),s.Lb(155,"div",28),s.Lb(156,"h3"),s.ic(157,"Kalkula\u010dka:"),s.Kb(),s.Jb(158,"app-calculator"),s.Kb(),s.Kb(),s.Lb(159,"div",56),s.Lb(160,"a",57),s.Lb(161,"i",58),s.ic(162,"mode_edit"),s.Kb(),s.Kb(),s.Lb(163,"ul"),s.Lb(164,"li"),s.Lb(165,"a",59),s.Lb(166,"i",60),s.ic(167,"insert_chart"),s.Kb(),s.Kb(),s.Kb(),s.hc(168,St,4,0,"li",4),s.Kb(),s.Kb(),s.Kb()}2&t&&(s.yb(4),s.Xb("ngIf",null!=e.user),s.yb(1),s.Xb("ngIf",null!=e.user),s.yb(1),s.Xb("ngIf",null!=e.user),s.yb(1),s.Xb("ngIf",null!=e.user),s.yb(1),s.Xb("ngIf",null==e.user),s.yb(1),s.Xb("ngIf",null==e.user),s.yb(3),s.Xb("routerLink",s.Zb(29,xt)),s.yb(4),s.Xb("ngIf",null!=e.user),s.yb(1),s.Xb("ngIf",null!=e.user),s.yb(1),s.Xb("ngIf",null!=e.user),s.yb(2),s.Xb("routerLink",s.Zb(30,Dt)),s.yb(5),s.Xb("routerLink",s.Zb(31,Nt)),s.yb(5),s.Xb("routerLink",s.Zb(32,Mt)),s.yb(5),s.Xb("routerLink",s.Zb(33,Rt)),s.yb(5),s.Xb("routerLink",s.Zb(34,jt)),s.yb(5),s.Xb("routerLink",s.Zb(35,Ft)),s.yb(5),s.Xb("routerLink",s.Zb(36,Ut)),s.yb(6),s.Xb("routerLink",s.Zb(37,Vt)),s.yb(5),s.Xb("routerLink",s.Zb(38,Kt)),s.yb(5),s.Xb("routerLink",s.Zb(39,xt)),s.yb(8),s.Xb("ngForOf",s.Wb(75,25,e.externalLinks)),s.yb(10),s.Xb("routerLink",s.Zb(40,Dt)),s.yb(3),s.Xb("routerLink",s.Zb(41,xt)),s.yb(12),s.Xb("ngForOf",s.Wb(100,27,e.items)),s.yb(69),s.Xb("ngIf",null!=e.user))},directives:[C.l,at.d,at.c,C.k,at.b,ht.a],pipes:[C.f,C.b],styles:[".row[_ngcontent-%COMP%]{background:#1565c0}.neologo[_ngcontent-%COMP%]{width:50%;height:50%;cursor:pointer}.userTabsRedCode[_ngcontent-%COMP%]{background-color:#0d47a1;display:none!important}@media only screen and (max-width:700px){.neologo[_ngcontent-%COMP%]{margin-top:5%;width:110%;height:100%}.userTabsRedCode[_ngcontent-%COMP%]{background-color:#0d47a1;display:block!important}}#all[_ngcontent-%COMP%], .user-view[_ngcontent-%COMP%]{margin-bottom:0!important}.personBlock[_ngcontent-%COMP%]{display:block!important}.email[_ngcontent-%COMP%]{padding-bottom:.4em!important}.noAccountBlock[_ngcontent-%COMP%]{font-size:13px}.userTabs[_ngcontent-%COMP%]{background-color:#0d47a1}.upperDivider[_ngcontent-%COMP%]{margin:0!important}.menuBlock[_ngcontent-%COMP%]{margin-top:1em;width:-webkit-min-content;width:min-content}.menuIcon[_ngcontent-%COMP%]{margin-top:.15em}.printBlock[_ngcontent-%COMP%]{margin-top:1.5em}h3[_ngcontent-%COMP%]{color:#fff}.notesSearch[_ngcontent-%COMP%]{margin-top:2em}.deleteNoteButton[_ngcontent-%COMP%]{float:right}#nameUpdated[_ngcontent-%COMP%], #passwordUpdated[_ngcontent-%COMP%], .warningParagraph[_ngcontent-%COMP%]{color:red}.menuBlockResus[_ngcontent-%COMP%]{margin-top:2.5em;margin-left:-55px}.menuBlockResus[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:160px}.notesBTN[_ngcontent-%COMP%]{margin-right:.25em}.notesBTN[_ngcontent-%COMP%], .notesBTNLast[_ngcontent-%COMP%]{margin-bottom:.25em;font-size:14px;height:auto!important;padding:.55em!important;line-height:normal;width:28px!important}.boxNotesIn[_ngcontent-%COMP%], .boxNotesOut[_ngcontent-%COMP%]{padding:.5em;border:.35px solid #000}.boxNotesOut[_ngcontent-%COMP%]{margin-bottom:.25em}#modal3[_ngcontent-%COMP%]{max-height:80%!important}@media only screen and (max-width:1700px){.menuBlockResus[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:145px}.menuBlockResus[_ngcontent-%COMP%]{margin-left:-47px}.menuIcon[_ngcontent-%COMP%]{margin-top:.05em}}@media only screen and (max-width:1400px){.menuBlockResus[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:125px}.menuBlockResus[_ngcontent-%COMP%]{margin-left:-50px;margin-top:1.5em}.menuIcon[_ngcontent-%COMP%]{margin-top:-.15em}}@media only screen and (max-width:800px){.menuBlockResus[_ngcontent-%COMP%]{display:none!important}.menuIcon[_ngcontent-%COMP%]{margin-top:-.25em}}.externalImage[_ngcontent-%COMP%]{cursor:pointer;width:70%;margin-left:15%;float:left;margin-top:.5em;margin-bottom:.5em}"]}),Lt),Bt=((Pt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Pt)},Pt.\u0275cmp=s.Cb({type:Pt,selectors:[["app-footer"]],decls:19,vars:0,consts:[[1,"page-footer","blue","darken-3"],[1,"row"],[1,"col","l6","m6","s12"],[1,"white-text"],[1,"grey-text","text-lighten-4"],[1,"col","l4","m4","s12"],[1,"infobox"],[1,"footer-copyright"]],template:function(t,e){1&t&&(s.Lb(0,"footer",0),s.Lb(1,"div",1),s.Lb(2,"div",2),s.Lb(3,"h5",3),s.ic(4,"Kontaktn\xe9 \xfadaje"),s.Kb(),s.Lb(5,"p",4),s.ic(6,"email: k.petrilak.neocalc@gmail.com"),s.Kb(),s.Lb(7,"p",4),s.ic(8,"MUDr. Kamil Petri\u013eak"),s.Kb(),s.Lb(9,"p",4),s.ic(10," Odborn\xfd garant: MUDr. Jana Nikolinyov\xe1, PhD."),s.Jb(11,"br"),s.ic(12," (Neonatologick\xe1 klinika SZU, Bansk\xe1 Bystrica) "),s.Kb(),s.Kb(),s.Lb(13,"div",5),s.Lb(14,"p",6),s.ic(15,"V\u0161etky inform\xe1cie uveden\xe9 na tejto str\xe1nke maj\xfa informat\xedvny charakter. Port\xe1l Neocalc odmieta ak\xfako\u013evek zodpovednos\u0165 za pr\xedpadn\xe9 \u0161kody vzniknut\xe9 nespr\xe1vnou interpret\xe1ciou, resp. nespr\xe1vnym pou\u017eit\xedm inform\xe1ci\xed uveden\xfdch na tejto online platforme u\u017e\xedvate\u013eom v klinickej praxi."),s.Kb(),s.Kb(),s.Kb(),s.Lb(16,"div",7),s.Lb(17,"div",2),s.ic(18,"\xa9 2020-21 Daniel Petri\u013eak, Kamil Petri\u013eak, verzia 1.84,1.28 [19/04/2021]"),s.Kb(),s.Kb(),s.Kb())},styles:[".infobox[_ngcontent-%COMP%]{font-size:.85em}"]}),Pt),qt=((Tt=function(){function t(){_classCallCheck(this,t),this.title="Neo-calc"}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Tt)},Tt.\u0275cmp=s.Cb({type:Tt,selectors:[["app-root"]],decls:5,vars:0,consts:[["href","https://fonts.googleapis.com/icon?family=Material+Icons","rel","stylesheet"],[2,"padding-top","1em","background-image","url('https://firebasestorage.googleapis.com/v0/b/project-try-novu.appspot.com/o/background.jpg?alt=media&token=7c34d4fe-725e-48f9-8b1d-bd8bffe6267f')","background-repeat","no-repeat","background-size","cover"]],template:function(t,e){1&t&&(s.Jb(0,"link",0),s.Jb(1,"app-header"),s.Lb(2,"div",1),s.Jb(3,"router-outlet"),s.Kb(),s.Jb(4,"app-footer"))},directives:[zt,at.f,Bt],styles:[""]}),Tt),Ht=n("spgP"),Wt=n("I/3d"),Gt=((At=function t(){_classCallCheck(this,t)}).\u0275mod=s.Gb({type:At,bootstrap:[qt]}),At.\u0275inj=s.Fb({factory:function(t){return new(t||At)},providers:[b.a],imports:[[et,ct,w.LoginModule,m.DashboardModule,_.MainModule,g.InfuziaModule,y.LiekyModule,v.KrivkyModule,f.HyperbiliModule,p.OdporucaniaModule,d.ResuscitacieModule,h.PrinterModule,l.MkchModule,c.KontaktyModule,Ht.a.initializeApp(u),Wt.b]]}),At);Object(s.S)(),Z().bootstrapModule(Gt).catch((function(t){return console.error(t)}))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mAIw"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?y(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new p(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function y(t,e){return t.replace(g,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;function b(t){return JSON.parse(t)}var _=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=b(c(o[0])||""),n=b(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},m=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}function k(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=v,e.FirebaseError=p,e.MAX_VALUE_MILLIS=144e5,e.RANDOM_FACTOR=.5,e.Sha1=m,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=o,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.calculateBackoffMillis=function(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=_,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=k,e.getUA=f,e.isAdmin=function(t){var e=_(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=d,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=_(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=_(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=_(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=b,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(k(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(k(t,e,r)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(k(t,e,r)+"must be a valid firebase namespace.")}},zY2l:function(t,e,n){"use strict";n.r(e),n.d(e,"HyperbiliModule",(function(){return E}));var r,i=n("ofXK"),o=n("DKVz"),a=(n("HTFn"),n("tyNb")),s=n("fXoL"),u=n("I/3d"),c=((r=function(){function t(e){_classCallCheck(this,t),this.afs=e,this.items=this.afs.collection("hyperbilirubinemia").doc("hyperbilirubinemiaAll").valueChanges()}return _createClass(t,[{key:"getItems",value:function(){return this.items}}]),t}()).\u0275fac=function(t){return new(t||r)(s.Pb(u.a))},r.\u0275prov=s.Eb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),l=n("PWRg");function h(t,e){if(1&t){var n=s.Mb();s.Lb(0,"div"),s.Lb(1,"h5"),s.ic(2),s.Kb(),s.Jb(3,"div",1),s.Lb(4,"div",2),s.Lb(5,"p"),s.ic(6),s.Kb(),s.Lb(7,"label"),s.ic(8,"D\xe1tum narodenia die\u0165a\u0165a [DD.MM.RRRR]"),s.Kb(),s.Jb(9,"input",3,4),s.Lb(11,"label"),s.ic(12,"\u010cas narodenia die\u0165a\u0165a [HH:MM]"),s.Kb(),s.Jb(13,"input",3,5),s.Lb(15,"label"),s.ic(16,"Hodnota bilirub\xednu stanoven\xe9ho pomocou TcB [umol/l]"),s.Kb(),s.Jb(17,"input",6,7),s.Lb(19,"button",8),s.Sb("click",(function(){s.dc(n);var t=e.$implicit,r=s.cc(10),i=s.cc(14),o=s.cc(18),a=s.cc(22);return s.Ub().evaluation(t.key,r.value,i.value,o.value,a)})),s.ic(20,"vypo\u010d\xedta\u0165"),s.Kb(),s.Lb(21,"p",9,10),s.ic(23,"Zadajte \xfadaje die\u0165a\u0165a"),s.Kb(),s.Kb(),s.Jb(24,"div",11),s.Kb()}if(2&t){var r=e.$implicit;s.yb(2),s.jc(r.key.name),s.yb(1),s.Xb("options",r.value),s.yb(3),s.jc(r.key.name)}}var f,d=((f=function(){function t(e){_classCallCheck(this,t),this.calc=e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"evaluation",value:function(t,e,n,r,i){if(""!=e&&""!=n&&""!=r)if(/^(0?[1-9]|[12][0-9]|3[01])[\.\-](0?[1-9]|1[012])[\.\-]\d{4}$/.test(e))if(/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/.test(n)){var o=e.split(".").reverse().join("-")+" "+n,a=new Date(o),s=new Date;if(s.getTime()<a.getTime())i.innerHTML="Zle zadan\xe9 \xfadaje. Vek die\u0165a\u0165a je definovan\xfd po dne\u0161nom d\xe1tume...";else{var u=(s.getTime()-a.getTime())/36e5,c=Number(r)/17.1;i.innerHTML=this.calc.calculateResultNormogram(t,this.listValues[t.name],c,u)}}else i.innerHTML="Nespr\xe1vny form\xe1t \u010dasu - HH:MM";else i.innerHTML="Nespr\xe1vny form\xe1t d\xe1tumu - DD.MM.RRRR";else i.innerHTML="Zle zadan\xe9 \xfadaje"}}]),t}()).\u0275fac=function(t){return new(t||f)(s.Ib(l.a))},f.\u0275cmp=s.Cb({type:f,selectors:[["app-normograms"]],inputs:{graphs:"graphs",listValues:"listValues"},decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],["echarts","","theme","macarons",1,"demo-chart",3,"options"],[1,"container"],["type","text","placeholder","Zadajte hodnotu..."],["boxDate",""],["boxTime",""],["type","number","placeholder","Zadajte hodnotu..."],["boxValue",""],[1,"btn","waves-effect","waves-light",3,"click"],[1,"resultParagraph"],["boxResult",""],[1,"divider"]],template:function(t,e){1&t&&(s.hc(0,h,25,3,"div",0),s.Vb(1,"keyvalue")),2&t&&s.Xb("ngForOf",s.Wb(1,1,e.graphs))},directives:[i.k,o.a],pipes:[i.f],styles:[".preloader-wrapper[_ngcontent-%COMP%]{margin-bottom:3%!important;display:block!important}h4[_ngcontent-%COMP%]{margin-top:0!important;padding-top:.5em;padding-bottom:.5em;padding-left:2em;text-transform:uppercase}h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif}h5[_ngcontent-%COMP%]{margin-left:4.5em;width:70%;margin-bottom:1em}.resultParagraph[_ngcontent-%COMP%]{font-size:18px;text-align:center;padding:5px;border:1px solid green;font-weight:700}.about[_ngcontent-%COMP%]{text-transform:uppercase;float:right;font-weight:700;margin-right:2em}.infoBox[_ngcontent-%COMP%]{font-weight:700;font-size:18px}@media only screen and (max-width:800px){h4[_ngcontent-%COMP%]{padding-left:.5em}h5[_ngcontent-%COMP%]{width:90%;margin-left:1em}}"]}),f);function p(t,e){if(1&t&&(s.Lb(0,"tr"),s.Lb(1,"td"),s.ic(2),s.Kb(),s.Jb(3,"td"),s.Lb(4,"td"),s.ic(5),s.Kb(),s.Kb()),2&t){var n=e.$implicit;s.yb(2),s.jc(n.info),s.yb(3),s.jc(n.bili)}}function v(t,e){if(1&t&&(s.Lb(0,"tr"),s.Lb(1,"td"),s.ic(2),s.Kb(),s.Jb(3,"td"),s.Lb(4,"td"),s.ic(5),s.Kb(),s.Kb()),2&t){var n=e.$implicit;s.yb(2),s.jc(n.info),s.yb(3),s.jc(n.bili)}}var y,g=((y=function(){function t(){_classCallCheck(this,t),this.resultsOnDaysFoto=[{bili:"85-102 \u03bcmol/l",info:"<28 0/7"},{bili:"102-136 \u03bcmol/l",info:"28 0/7 \u2013 29 6/7"},{bili:"136-171 \u03bcmol/l",info:"30 0/7 \u2013 31 6/7"},{bili:"171-205 \u03bcmol/l",info:"32 0/7 \u2013 33 6/7"},{bili:"205-239 \u03bcmol/l",info:"34 0/7 \u2013 34 6/7"}],this.resultsOnDaysExsang=[{bili:"188-239 \u03bcmol/l",info:"<28 0/7"},{bili:"205-239 \u03bcmol/l",info:"28 0/7 \u2013 29 6/7"},{bili:"222-237 \u03bcmol/l",info:"30 0/7 \u2013 31 6/7"},{bili:"256-308 \u03bcmol/l",info:"32 0/7 \u2013 33 6/7"},{bili:"290-325 \u03bcmol/l",info:"34 0/7 \u2013 34 6/7"}]}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||y)},y.\u0275cmp=s.Cb({type:y,selectors:[["app-hyper-indications"]],decls:40,vars:2,consts:[[1,"row"],[1,"tables"],[4,"ngFor","ngForOf"],[1,"sourcesBox"],[1,"boldText"],["href","http://slovenskaneonatologia.sk/wp-content/uploads/2017/04/Ovori%C5%A5-lie%C4%8Dbu-novorodencov-s-nekonjugovanou-hyperbilirubin%C3%A9miiou.pdf","target","_blank"]],template:function(t,e){1&t&&(s.Lb(0,"div",0),s.Lb(1,"h5"),s.ic(2,"Indik\xe1cie na intenz\xedvnu fototerapiu u novorodencov naroden\xfdch < 35. t\xfd\u017edni tehotenstva (Maisels 2012)"),s.Kb(),s.Lb(3,"table",1),s.Lb(4,"thead"),s.Lb(5,"tr"),s.Jb(6,"th"),s.Lb(7,"th"),s.ic(8,"Fototerapia"),s.Kb(),s.Jb(9,"th"),s.Kb(),s.Lb(10,"tr"),s.Lb(11,"th"),s.ic(12,"Gesta\u010dn\xfd vek [t\xfd\u017edne]"),s.Kb(),s.Jb(13,"th"),s.Lb(14,"th"),s.ic(15,"Hodnota s\xe9rov\xe9ho bilirub\xednu [\u03bcmol/l]"),s.Kb(),s.Kb(),s.Kb(),s.Lb(16,"tbody"),s.hc(17,p,6,2,"tr",2),s.Kb(),s.Kb(),s.Lb(18,"h5"),s.ic(19,"Indik\xe1cie na v\xfdmenn\xfa transf\xfaziu u novorodencov naroden\xfdch < 35. t\xfd\u017edni tehotenstva (Maisels 2012)"),s.Kb(),s.Lb(20,"table",1),s.Lb(21,"thead"),s.Lb(22,"tr"),s.Jb(23,"th"),s.Lb(24,"th"),s.ic(25,"Exsangvina\u010dn\xe1 transf\xfazia"),s.Kb(),s.Jb(26,"th"),s.Kb(),s.Lb(27,"tr"),s.Lb(28,"th"),s.ic(29,"Gesta\u010dn\xfd vek [t\xfd\u017edne]"),s.Kb(),s.Jb(30,"th"),s.Lb(31,"th"),s.ic(32,"Hodnota s\xe9rov\xe9ho bilirub\xednu [\u03bcmol/l]"),s.Kb(),s.Kb(),s.Kb(),s.Lb(33,"tbody"),s.hc(34,v,6,2,"tr",2),s.Kb(),s.Kb(),s.Lb(35,"div",3),s.Lb(36,"p",4),s.ic(37,"Zdroje:"),s.Kb(),s.Lb(38,"a",5),s.ic(39,"http://slovenskaneonatologia.sk/wp-content/uploads/2017/04/Ovori%C5%A5-lie%C4%8Dbu-novorodencov-s-nekonjugovanou-hyperbilirubin%C3%A9miiou.pdf"),s.Kb(),s.Kb(),s.Kb()),2&t&&(s.yb(17),s.Xb("ngForOf",e.resultsOnDaysFoto),s.yb(17),s.Xb("ngForOf",e.resultsOnDaysExsang))},directives:[i.k],styles:["h5[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;margin-left:4.5em;width:70%;margin-bottom:1em}.row[_ngcontent-%COMP%]{margin-bottom:0!important}.tables[_ngcontent-%COMP%]{margin-left:10%;width:80%;overflow:scroll;margin-bottom:3em}.sourcesBox[_ngcontent-%COMP%]{padding-left:3em;padding-bottom:2em;word-break:break-all}.boldText[_ngcontent-%COMP%]{font-weight:700;width:70%}@media only screen and (max-width:800px){h4[_ngcontent-%COMP%]{padding-left:.5em}h5[_ngcontent-%COMP%]{width:90%;margin-left:1em}}"]}),y);function b(t,e){if(1&t){var n=s.Mb();s.Lb(0,"div"),s.Lb(1,"h5"),s.ic(2),s.Kb(),s.Jb(3,"div",8),s.Lb(4,"div",2),s.Lb(5,"p"),s.ic(6),s.Kb(),s.Lb(7,"label"),s.ic(8,"D\xe1tum narodenia die\u0165a\u0165a [DD.MM.RRRR]"),s.Kb(),s.Jb(9,"input",9,10),s.Lb(11,"label"),s.ic(12,"\u010cas narodenia die\u0165a\u0165a [HH:MM]"),s.Kb(),s.Jb(13,"input",9,11),s.Lb(15,"label"),s.ic(16,"D\xe1tum odberu [DD.MM.RRRR]"),s.Kb(),s.Jb(17,"input",9,12),s.Lb(19,"label"),s.ic(20,"\u010cas odberu [HH:MM]"),s.Kb(),s.Jb(21,"input",9,13),s.Lb(23,"button",14),s.Sb("click",(function(){s.dc(n);var t=e.$implicit,r=s.cc(10),i=s.cc(14),o=s.cc(18),a=s.cc(22),u=s.cc(26);return s.Ub().evaluation(t.key,r.value,i.value,o.value,a.value,u)})),s.ic(24,"vypo\u010d\xedta\u0165"),s.Kb(),s.Lb(25,"p",15,16),s.ic(27,"Zadajte \xfadaje die\u0165a\u0165a"),s.Kb(),s.Lb(28,"p",17),s.ic(29,"\u201cRizikov\xe9 faktory: asfyxia, RDS, acid\xf3za, term\xe1lna instabilita, hemolytick\xe1 choroba, sepsa, letargia, album\xedn < 3g/dl, G6PD deficiencia)\u201d "),s.Kb(),s.Kb(),s.Jb(30,"div",18),s.Kb()}if(2&t){var r=e.$implicit;s.yb(2),s.jc(r.key.name),s.yb(1),s.Xb("options",r.value),s.yb(3),s.jc(r.key.name)}}var _,m,w,C=[{path:"",component:(_=function(){function t(e,n){_classCallCheck(this,t),this.itemService=e,this.calc=n,this.graphs=new Map,this.listValues=new Map,this.normoGraphs=new Map,this.normoListValues=new Map}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.itemService.getItems().subscribe((function(e){e.all.forEach((function(e){t.saveGraphOptions(e,{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:e.legend},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:e.data}],yAxis:[{type:"value",data:[e.name]}],series:e.series})}))}))}},{key:"saveGraphOptions",value:function(t,e){t.name.startsWith("Normogram")?(this.normoGraphs.set(t,e),this.normoListValues[t.name]=this.buildCalculationListOfValues(t)):(this.graphs.set(t,e),this.listValues[t.name]=this.buildCalculationListOfValues(t))}},{key:"buildCalculationListOfValues",value:function(t){var e=new Map,n=0;return t.data.forEach((function(r){var i=[];t.series.forEach((function(t){i.push(t.data[n])})),e[r]=i,n++})),e}},{key:"evaluation",value:function(t,e,n,r,i,o){var a=/^(0?[1-9]|[12][0-9]|3[01])[\.\-](0?[1-9]|1[012])[\.\-]\d{4}$/,s=/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/;if(""!=e&&""!=n&&""!=r&&""!=i)if(a.test(e)&&a.test(r))if(s.test(n)&&s.test(i)){var u=e.split(".").reverse().join("-")+" "+n,c=new Date(u),l=r.split(".").reverse().join("-")+" "+i,h=new Date(l);if(h.getTime()<c.getTime())o.innerHTML="Zle zadan\xe9 \xfadaje. Vek die\u0165a\u0165a je definovan\xfd po d\xe1tume odberu...";else{var f=(h.getTime()-c.getTime())/36e5;o.innerHTML=this.calc.calculateResultIndication(t,this.listValues[t.name],f)}}else o.innerHTML="Nespr\xe1vny form\xe1t \u010dasu - HH:MM";else o.innerHTML="Nespr\xe1vny form\xe1t d\xe1tumu - DD.MM.RRRR";else o.innerHTML="Zle zadan\xe9 \xfadaje"}},{key:"calculateMgdl",value:function(t,e){e.value=(Number(t.value)/17.1).toFixed(3)}},{key:"calculateUmol",value:function(t,e){t.value=(17.1*Number(e.value)).toFixed(3)}}]),t}(),_.\u0275fac=function(t){return new(t||_)(s.Ib(c),s.Ib(l.a))},_.\u0275cmp=s.Cb({type:_,selectors:[["app-hyper"]],decls:20,vars:5,consts:[[1,"row"],["href","https://drive.google.com/file/d/165pymt67W74c2QyYaGUgzO3SVWKUbu6D/view?usp=sharing","target","_blank",1,"about"],[1,"container"],["placeholder","Zadajte hodnotu...","type","number",3,"keyup"],["boxUmol",""],["boxMddl",""],[3,"graphs","listValues"],[4,"ngFor","ngForOf"],["echarts","","theme","macarons",1,"demo-chart",3,"options"],["type","text","placeholder","Zadajte hodnotu..."],["boxDate",""],["boxTime",""],["boxDateOdber",""],["boxTimeOdber",""],[1,"btn","waves-effect","waves-light",3,"click"],[1,"resultParagraph"],["boxResult",""],[1,"infoBox"],[1,"divider"]],template:function(t,e){if(1&t){var n=s.Mb();s.Lb(0,"div",0),s.Lb(1,"a",1),s.ic(2,"N\xe1vod na pou\u017eitie"),s.Kb(),s.Lb(3,"h4"),s.ic(4,"Hyperbilirubin\xe9mia"),s.Kb(),s.Lb(5,"h5"),s.ic(6,"Prepo\u010det hodnoty bilirub\xednu (mg/dl \u2194 umol/l)"),s.Kb(),s.Lb(7,"div",2),s.Lb(8,"label"),s.ic(9,"umol/l"),s.Kb(),s.Lb(10,"input",3,4),s.Sb("keyup",(function(){s.dc(n);var t=s.cc(11),r=s.cc(15);return e.calculateMgdl(t,r)})),s.Kb(),s.Lb(12,"label"),s.ic(13,"mg/dl"),s.Kb(),s.Lb(14,"input",3,5),s.Sb("keyup",(function(){s.dc(n);var t=s.cc(11),r=s.cc(15);return e.calculateUmol(t,r)})),s.Kb(),s.Kb(),s.Kb(),s.Jb(16,"app-normograms",6),s.hc(17,b,31,3,"div",7),s.Vb(18,"keyvalue"),s.Jb(19,"app-hyper-indications")}2&t&&(s.yb(16),s.Xb("graphs",e.normoGraphs)("listValues",e.normoListValues),s.yb(1),s.Xb("ngForOf",s.Wb(18,3,e.graphs)))},directives:[d,i.k,g,o.a],pipes:[i.f],styles:[".preloader-wrapper[_ngcontent-%COMP%]{margin-bottom:3%!important;display:block!important}h4[_ngcontent-%COMP%]{margin-top:0!important;padding-top:.5em;padding-bottom:.5em;padding-left:2em;text-transform:uppercase}h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif}h5[_ngcontent-%COMP%]{margin-left:4.5em;width:70%;margin-bottom:1em}.resultParagraph[_ngcontent-%COMP%]{font-size:18px;text-align:center;padding:5px;border:1px solid green;font-weight:700}.about[_ngcontent-%COMP%]{text-transform:uppercase;float:right;font-weight:700;margin-right:2em}.infoBox[_ngcontent-%COMP%]{font-weight:700;font-size:18px}@media only screen and (max-width:800px){h4[_ngcontent-%COMP%]{padding-left:.5em}h5[_ngcontent-%COMP%]{width:90%;margin-left:1em}}"]}),_)}],k=((w=function t(){_classCallCheck(this,t)}).\u0275mod=s.Gb({type:w}),w.\u0275inj=s.Fb({factory:function(t){return new(t||w)},imports:[[a.e.forChild(C)],a.e]}),w),E=((m=function t(){_classCallCheck(this,t)}).\u0275mod=s.Gb({type:m}),m.\u0275inj=s.Fb({factory:function(t){return new(t||m)},imports:[[i.c,o.b.forRoot({echarts:function(){return n.e(1).then(n.t.bind(null,"MT78",7))}}),k]]}),m)},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD"),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).parent=t,r}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.a),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.a);function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]])})();